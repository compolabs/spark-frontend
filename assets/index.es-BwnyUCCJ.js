const __vite__fileDeps=["assets/index-bkoQ8Tiq.js","assets/index-SZaJUIJK.js","assets/index-BixdQiYX.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{v as commonjsGlobal,w as process$1,t as dist,u as eventsExports,z as Buffer,y as bnExports,D as getAugmentedNamespace,L as global,K as getDefaultExportFromCjs,U as Ug,N as o,_ as __vitePreload}from"./index-SZaJUIJK.js";import{a as safeBufferExports,r as readableBrowserExports,i as inherits_browserExports,b as require_stream_readable$1,c as require_stream_writable$1,d as require_stream_duplex$1,_ as _stream_transform$1,e as _stream_passthrough$1,f as endOfStream,p as pipeline_1,g as requireString_decoder,s as sha_jsExports,u as util$1,h as browser$e}from"./index-BCWqXlda.js";var chacha20poly1305={},chacha={},binary={},int={};(function(Y){Object.defineProperty(Y,"__esModule",{value:!0});function t(we,Se){var Ee=we>>>16&65535,me=we&65535,Ie=Se>>>16&65535,fr=Se&65535;return me*fr+(Ee*fr+me*Ie<<16>>>0)|0}Y.mul=Math.imul||t;function s(we,Se){return we+Se|0}Y.add=s;function se(we,Se){return we-Se|0}Y.sub=se;function fe(we,Se){return we<<Se|we>>>32-Se}Y.rotl=fe;function be(we,Se){return we<<32-Se|we>>>Se}Y.rotr=be;function xe(we){return typeof we=="number"&&isFinite(we)&&Math.floor(we)===we}Y.isInteger=Number.isInteger||xe,Y.MAX_SAFE_INTEGER=9007199254740991,Y.isSafeInteger=function(we){return Y.isInteger(we)&&we>=-Y.MAX_SAFE_INTEGER&&we<=Y.MAX_SAFE_INTEGER}})(int);Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(Y,t){return t===void 0&&(t=0),(Y[t+0]<<8|Y[t+1])<<16>>16}binary.readInt16BE=readInt16BE;function readUint16BE(Y,t){return t===void 0&&(t=0),(Y[t+0]<<8|Y[t+1])>>>0}binary.readUint16BE=readUint16BE;function readInt16LE(Y,t){return t===void 0&&(t=0),(Y[t+1]<<8|Y[t])<<16>>16}binary.readInt16LE=readInt16LE;function readUint16LE(Y,t){return t===void 0&&(t=0),(Y[t+1]<<8|Y[t])>>>0}binary.readUint16LE=readUint16LE;function writeUint16BE(Y,t,s){return t===void 0&&(t=new Uint8Array(2)),s===void 0&&(s=0),t[s+0]=Y>>>8,t[s+1]=Y>>>0,t}binary.writeUint16BE=writeUint16BE;binary.writeInt16BE=writeUint16BE;function writeUint16LE(Y,t,s){return t===void 0&&(t=new Uint8Array(2)),s===void 0&&(s=0),t[s+0]=Y>>>0,t[s+1]=Y>>>8,t}binary.writeUint16LE=writeUint16LE;binary.writeInt16LE=writeUint16LE;function readInt32BE(Y,t){return t===void 0&&(t=0),Y[t]<<24|Y[t+1]<<16|Y[t+2]<<8|Y[t+3]}binary.readInt32BE=readInt32BE;function readUint32BE(Y,t){return t===void 0&&(t=0),(Y[t]<<24|Y[t+1]<<16|Y[t+2]<<8|Y[t+3])>>>0}binary.readUint32BE=readUint32BE;function readInt32LE(Y,t){return t===void 0&&(t=0),Y[t+3]<<24|Y[t+2]<<16|Y[t+1]<<8|Y[t]}binary.readInt32LE=readInt32LE;function readUint32LE(Y,t){return t===void 0&&(t=0),(Y[t+3]<<24|Y[t+2]<<16|Y[t+1]<<8|Y[t])>>>0}binary.readUint32LE=readUint32LE;function writeUint32BE(Y,t,s){return t===void 0&&(t=new Uint8Array(4)),s===void 0&&(s=0),t[s+0]=Y>>>24,t[s+1]=Y>>>16,t[s+2]=Y>>>8,t[s+3]=Y>>>0,t}binary.writeUint32BE=writeUint32BE;binary.writeInt32BE=writeUint32BE;function writeUint32LE(Y,t,s){return t===void 0&&(t=new Uint8Array(4)),s===void 0&&(s=0),t[s+0]=Y>>>0,t[s+1]=Y>>>8,t[s+2]=Y>>>16,t[s+3]=Y>>>24,t}binary.writeUint32LE=writeUint32LE;binary.writeInt32LE=writeUint32LE;function readInt64BE(Y,t){t===void 0&&(t=0);var s=readInt32BE(Y,t),se=readInt32BE(Y,t+4);return s*4294967296+se-(se>>31)*4294967296}binary.readInt64BE=readInt64BE;function readUint64BE(Y,t){t===void 0&&(t=0);var s=readUint32BE(Y,t),se=readUint32BE(Y,t+4);return s*4294967296+se}binary.readUint64BE=readUint64BE;function readInt64LE(Y,t){t===void 0&&(t=0);var s=readInt32LE(Y,t),se=readInt32LE(Y,t+4);return se*4294967296+s-(s>>31)*4294967296}binary.readInt64LE=readInt64LE;function readUint64LE(Y,t){t===void 0&&(t=0);var s=readUint32LE(Y,t),se=readUint32LE(Y,t+4);return se*4294967296+s}binary.readUint64LE=readUint64LE;function writeUint64BE(Y,t,s){return t===void 0&&(t=new Uint8Array(8)),s===void 0&&(s=0),writeUint32BE(Y/4294967296>>>0,t,s),writeUint32BE(Y>>>0,t,s+4),t}binary.writeUint64BE=writeUint64BE;binary.writeInt64BE=writeUint64BE;function writeUint64LE(Y,t,s){return t===void 0&&(t=new Uint8Array(8)),s===void 0&&(s=0),writeUint32LE(Y>>>0,t,s),writeUint32LE(Y/4294967296>>>0,t,s+4),t}binary.writeUint64LE=writeUint64LE;binary.writeInt64LE=writeUint64LE;function readUintBE(Y,t,s){if(s===void 0&&(s=0),Y%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(Y/8>t.length-s)throw new Error("readUintBE: array is too short for the given bitLength");for(var se=0,fe=1,be=Y/8+s-1;be>=s;be--)se+=t[be]*fe,fe*=256;return se}binary.readUintBE=readUintBE;function readUintLE(Y,t,s){if(s===void 0&&(s=0),Y%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(Y/8>t.length-s)throw new Error("readUintLE: array is too short for the given bitLength");for(var se=0,fe=1,be=s;be<s+Y/8;be++)se+=t[be]*fe,fe*=256;return se}binary.readUintLE=readUintLE;function writeUintBE(Y,t,s,se){if(s===void 0&&(s=new Uint8Array(Y/8)),se===void 0&&(se=0),Y%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var fe=1,be=Y/8+se-1;be>=se;be--)s[be]=t/fe&255,fe*=256;return s}binary.writeUintBE=writeUintBE;function writeUintLE(Y,t,s,se){if(s===void 0&&(s=new Uint8Array(Y/8)),se===void 0&&(se=0),Y%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var fe=1,be=se;be<se+Y/8;be++)s[be]=t/fe&255,fe*=256;return s}binary.writeUintLE=writeUintLE;function readFloat32BE(Y,t){t===void 0&&(t=0);var s=new DataView(Y.buffer,Y.byteOffset,Y.byteLength);return s.getFloat32(t)}binary.readFloat32BE=readFloat32BE;function readFloat32LE(Y,t){t===void 0&&(t=0);var s=new DataView(Y.buffer,Y.byteOffset,Y.byteLength);return s.getFloat32(t,!0)}binary.readFloat32LE=readFloat32LE;function readFloat64BE(Y,t){t===void 0&&(t=0);var s=new DataView(Y.buffer,Y.byteOffset,Y.byteLength);return s.getFloat64(t)}binary.readFloat64BE=readFloat64BE;function readFloat64LE(Y,t){t===void 0&&(t=0);var s=new DataView(Y.buffer,Y.byteOffset,Y.byteLength);return s.getFloat64(t,!0)}binary.readFloat64LE=readFloat64LE;function writeFloat32BE(Y,t,s){t===void 0&&(t=new Uint8Array(4)),s===void 0&&(s=0);var se=new DataView(t.buffer,t.byteOffset,t.byteLength);return se.setFloat32(s,Y),t}binary.writeFloat32BE=writeFloat32BE;function writeFloat32LE(Y,t,s){t===void 0&&(t=new Uint8Array(4)),s===void 0&&(s=0);var se=new DataView(t.buffer,t.byteOffset,t.byteLength);return se.setFloat32(s,Y,!0),t}binary.writeFloat32LE=writeFloat32LE;function writeFloat64BE(Y,t,s){t===void 0&&(t=new Uint8Array(8)),s===void 0&&(s=0);var se=new DataView(t.buffer,t.byteOffset,t.byteLength);return se.setFloat64(s,Y),t}binary.writeFloat64BE=writeFloat64BE;function writeFloat64LE(Y,t,s){t===void 0&&(t=new Uint8Array(8)),s===void 0&&(s=0);var se=new DataView(t.buffer,t.byteOffset,t.byteLength);return se.setFloat64(s,Y,!0),t}binary.writeFloat64LE=writeFloat64LE;var wipe$1={};Object.defineProperty(wipe$1,"__esModule",{value:!0});function wipe(Y){for(var t=0;t<Y.length;t++)Y[t]=0;return Y}wipe$1.wipe=wipe;Object.defineProperty(chacha,"__esModule",{value:!0});var binary_1=binary,wipe_1$3=wipe$1,ROUNDS=20;function core(Y,t,s){for(var se=1634760805,fe=857760878,be=2036477234,xe=1797285236,we=s[3]<<24|s[2]<<16|s[1]<<8|s[0],Se=s[7]<<24|s[6]<<16|s[5]<<8|s[4],Ee=s[11]<<24|s[10]<<16|s[9]<<8|s[8],me=s[15]<<24|s[14]<<16|s[13]<<8|s[12],Ie=s[19]<<24|s[18]<<16|s[17]<<8|s[16],fr=s[23]<<24|s[22]<<16|s[21]<<8|s[20],Oe=s[27]<<24|s[26]<<16|s[25]<<8|s[24],wr=s[31]<<24|s[30]<<16|s[29]<<8|s[28],qr=t[3]<<24|t[2]<<16|t[1]<<8|t[0],Gr=t[7]<<24|t[6]<<16|t[5]<<8|t[4],Yr=t[11]<<24|t[10]<<16|t[9]<<8|t[8],Wr=t[15]<<24|t[14]<<16|t[13]<<8|t[12],ti=se,Qr=fe,oi=be,fi=xe,jr=we,ci=Se,gi=Ee,$i=me,hi=Ie,Er=fr,kr=Oe,Vr=wr,Jr=qr,ii=Gr,Xr=Yr,ei=Wr,Zr=0;Zr<ROUNDS;Zr+=2)ti=ti+jr|0,Jr^=ti,Jr=Jr>>>16|Jr<<16,hi=hi+Jr|0,jr^=hi,jr=jr>>>20|jr<<12,Qr=Qr+ci|0,ii^=Qr,ii=ii>>>16|ii<<16,Er=Er+ii|0,ci^=Er,ci=ci>>>20|ci<<12,oi=oi+gi|0,Xr^=oi,Xr=Xr>>>16|Xr<<16,kr=kr+Xr|0,gi^=kr,gi=gi>>>20|gi<<12,fi=fi+$i|0,ei^=fi,ei=ei>>>16|ei<<16,Vr=Vr+ei|0,$i^=Vr,$i=$i>>>20|$i<<12,oi=oi+gi|0,Xr^=oi,Xr=Xr>>>24|Xr<<8,kr=kr+Xr|0,gi^=kr,gi=gi>>>25|gi<<7,fi=fi+$i|0,ei^=fi,ei=ei>>>24|ei<<8,Vr=Vr+ei|0,$i^=Vr,$i=$i>>>25|$i<<7,Qr=Qr+ci|0,ii^=Qr,ii=ii>>>24|ii<<8,Er=Er+ii|0,ci^=Er,ci=ci>>>25|ci<<7,ti=ti+jr|0,Jr^=ti,Jr=Jr>>>24|Jr<<8,hi=hi+Jr|0,jr^=hi,jr=jr>>>25|jr<<7,ti=ti+ci|0,ei^=ti,ei=ei>>>16|ei<<16,kr=kr+ei|0,ci^=kr,ci=ci>>>20|ci<<12,Qr=Qr+gi|0,Jr^=Qr,Jr=Jr>>>16|Jr<<16,Vr=Vr+Jr|0,gi^=Vr,gi=gi>>>20|gi<<12,oi=oi+$i|0,ii^=oi,ii=ii>>>16|ii<<16,hi=hi+ii|0,$i^=hi,$i=$i>>>20|$i<<12,fi=fi+jr|0,Xr^=fi,Xr=Xr>>>16|Xr<<16,Er=Er+Xr|0,jr^=Er,jr=jr>>>20|jr<<12,oi=oi+$i|0,ii^=oi,ii=ii>>>24|ii<<8,hi=hi+ii|0,$i^=hi,$i=$i>>>25|$i<<7,fi=fi+jr|0,Xr^=fi,Xr=Xr>>>24|Xr<<8,Er=Er+Xr|0,jr^=Er,jr=jr>>>25|jr<<7,Qr=Qr+gi|0,Jr^=Qr,Jr=Jr>>>24|Jr<<8,Vr=Vr+Jr|0,gi^=Vr,gi=gi>>>25|gi<<7,ti=ti+ci|0,ei^=ti,ei=ei>>>24|ei<<8,kr=kr+ei|0,ci^=kr,ci=ci>>>25|ci<<7;binary_1.writeUint32LE(ti+se|0,Y,0),binary_1.writeUint32LE(Qr+fe|0,Y,4),binary_1.writeUint32LE(oi+be|0,Y,8),binary_1.writeUint32LE(fi+xe|0,Y,12),binary_1.writeUint32LE(jr+we|0,Y,16),binary_1.writeUint32LE(ci+Se|0,Y,20),binary_1.writeUint32LE(gi+Ee|0,Y,24),binary_1.writeUint32LE($i+me|0,Y,28),binary_1.writeUint32LE(hi+Ie|0,Y,32),binary_1.writeUint32LE(Er+fr|0,Y,36),binary_1.writeUint32LE(kr+Oe|0,Y,40),binary_1.writeUint32LE(Vr+wr|0,Y,44),binary_1.writeUint32LE(Jr+qr|0,Y,48),binary_1.writeUint32LE(ii+Gr|0,Y,52),binary_1.writeUint32LE(Xr+Yr|0,Y,56),binary_1.writeUint32LE(ei+Wr|0,Y,60)}function streamXOR(Y,t,s,se,fe){if(fe===void 0&&(fe=0),Y.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(se.length<s.length)throw new Error("ChaCha: destination is shorter than source");var be,xe;if(fe===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");be=new Uint8Array(16),xe=be.length-t.length,be.set(t,xe)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");be=t,xe=fe}for(var we=new Uint8Array(64),Se=0;Se<s.length;Se+=64){core(we,be,Y);for(var Ee=Se;Ee<Se+64&&Ee<s.length;Ee++)se[Ee]=s[Ee]^we[Ee-Se];incrementCounter(be,0,xe)}return wipe_1$3.wipe(we),fe===0&&wipe_1$3.wipe(be),se}chacha.streamXOR=streamXOR;function stream(Y,t,s,se){return se===void 0&&(se=0),wipe_1$3.wipe(s),streamXOR(Y,t,s,s,se)}chacha.stream=stream;function incrementCounter(Y,t,s){for(var se=1;s--;)se=se+(Y[t]&255)|0,Y[t]=se&255,se>>>=8,t++;if(se>0)throw new Error("ChaCha: counter overflow")}var poly1305={},constantTime={};Object.defineProperty(constantTime,"__esModule",{value:!0});function select(Y,t,s){return~(Y-1)&t|Y-1&s}constantTime.select=select;function lessOrEqual(Y,t){return(Y|0)-(t|0)-1>>>31&1}constantTime.lessOrEqual=lessOrEqual;function compare(Y,t){if(Y.length!==t.length)return 0;for(var s=0,se=0;se<Y.length;se++)s|=Y[se]^t[se];return 1&s-1>>>8}constantTime.compare=compare;function equal(Y,t){return Y.length===0||t.length===0?!1:compare(Y,t)!==0}constantTime.equal=equal;(function(Y){Object.defineProperty(Y,"__esModule",{value:!0});var t=constantTime,s=wipe$1;Y.DIGEST_LENGTH=16;var se=function(){function xe(we){this.digestLength=Y.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var Se=we[0]|we[1]<<8;this._r[0]=Se&8191;var Ee=we[2]|we[3]<<8;this._r[1]=(Se>>>13|Ee<<3)&8191;var me=we[4]|we[5]<<8;this._r[2]=(Ee>>>10|me<<6)&7939;var Ie=we[6]|we[7]<<8;this._r[3]=(me>>>7|Ie<<9)&8191;var fr=we[8]|we[9]<<8;this._r[4]=(Ie>>>4|fr<<12)&255,this._r[5]=fr>>>1&8190;var Oe=we[10]|we[11]<<8;this._r[6]=(fr>>>14|Oe<<2)&8191;var wr=we[12]|we[13]<<8;this._r[7]=(Oe>>>11|wr<<5)&8065;var qr=we[14]|we[15]<<8;this._r[8]=(wr>>>8|qr<<8)&8191,this._r[9]=qr>>>5&127,this._pad[0]=we[16]|we[17]<<8,this._pad[1]=we[18]|we[19]<<8,this._pad[2]=we[20]|we[21]<<8,this._pad[3]=we[22]|we[23]<<8,this._pad[4]=we[24]|we[25]<<8,this._pad[5]=we[26]|we[27]<<8,this._pad[6]=we[28]|we[29]<<8,this._pad[7]=we[30]|we[31]<<8}return xe.prototype._blocks=function(we,Se,Ee){for(var me=this._fin?0:2048,Ie=this._h[0],fr=this._h[1],Oe=this._h[2],wr=this._h[3],qr=this._h[4],Gr=this._h[5],Yr=this._h[6],Wr=this._h[7],ti=this._h[8],Qr=this._h[9],oi=this._r[0],fi=this._r[1],jr=this._r[2],ci=this._r[3],gi=this._r[4],$i=this._r[5],hi=this._r[6],Er=this._r[7],kr=this._r[8],Vr=this._r[9];Ee>=16;){var Jr=we[Se+0]|we[Se+1]<<8;Ie+=Jr&8191;var ii=we[Se+2]|we[Se+3]<<8;fr+=(Jr>>>13|ii<<3)&8191;var Xr=we[Se+4]|we[Se+5]<<8;Oe+=(ii>>>10|Xr<<6)&8191;var ei=we[Se+6]|we[Se+7]<<8;wr+=(Xr>>>7|ei<<9)&8191;var Zr=we[Se+8]|we[Se+9]<<8;qr+=(ei>>>4|Zr<<12)&8191,Gr+=Zr>>>1&8191;var Br=we[Se+10]|we[Se+11]<<8;Yr+=(Zr>>>14|Br<<2)&8191;var si=we[Se+12]|we[Se+13]<<8;Wr+=(Br>>>11|si<<5)&8191;var Si=we[Se+14]|we[Se+15]<<8;ti+=(si>>>8|Si<<8)&8191,Qr+=Si>>>5|me;var Ei=0,qi=Ei;qi+=Ie*oi,qi+=fr*(5*Vr),qi+=Oe*(5*kr),qi+=wr*(5*Er),qi+=qr*(5*hi),Ei=qi>>>13,qi&=8191,qi+=Gr*(5*$i),qi+=Yr*(5*gi),qi+=Wr*(5*ci),qi+=ti*(5*jr),qi+=Qr*(5*fi),Ei+=qi>>>13,qi&=8191;var Ii=Ei;Ii+=Ie*fi,Ii+=fr*oi,Ii+=Oe*(5*Vr),Ii+=wr*(5*kr),Ii+=qr*(5*Er),Ei=Ii>>>13,Ii&=8191,Ii+=Gr*(5*hi),Ii+=Yr*(5*$i),Ii+=Wr*(5*gi),Ii+=ti*(5*ci),Ii+=Qr*(5*jr),Ei+=Ii>>>13,Ii&=8191;var Ni=Ei;Ni+=Ie*jr,Ni+=fr*fi,Ni+=Oe*oi,Ni+=wr*(5*Vr),Ni+=qr*(5*kr),Ei=Ni>>>13,Ni&=8191,Ni+=Gr*(5*Er),Ni+=Yr*(5*hi),Ni+=Wr*(5*$i),Ni+=ti*(5*gi),Ni+=Qr*(5*ci),Ei+=Ni>>>13,Ni&=8191;var ri=Ei;ri+=Ie*ci,ri+=fr*jr,ri+=Oe*fi,ri+=wr*oi,ri+=qr*(5*Vr),Ei=ri>>>13,ri&=8191,ri+=Gr*(5*kr),ri+=Yr*(5*Er),ri+=Wr*(5*hi),ri+=ti*(5*$i),ri+=Qr*(5*gi),Ei+=ri>>>13,ri&=8191;var ai=Ei;ai+=Ie*gi,ai+=fr*ci,ai+=Oe*jr,ai+=wr*fi,ai+=qr*oi,Ei=ai>>>13,ai&=8191,ai+=Gr*(5*Vr),ai+=Yr*(5*kr),ai+=Wr*(5*Er),ai+=ti*(5*hi),ai+=Qr*(5*$i),Ei+=ai>>>13,ai&=8191;var li=Ei;li+=Ie*$i,li+=fr*gi,li+=Oe*ci,li+=wr*jr,li+=qr*fi,Ei=li>>>13,li&=8191,li+=Gr*oi,li+=Yr*(5*Vr),li+=Wr*(5*kr),li+=ti*(5*Er),li+=Qr*(5*hi),Ei+=li>>>13,li&=8191;var Hr=Ei;Hr+=Ie*hi,Hr+=fr*$i,Hr+=Oe*gi,Hr+=wr*ci,Hr+=qr*jr,Ei=Hr>>>13,Hr&=8191,Hr+=Gr*fi,Hr+=Yr*oi,Hr+=Wr*(5*Vr),Hr+=ti*(5*kr),Hr+=Qr*(5*Er),Ei+=Hr>>>13,Hr&=8191;var vi=Ei;vi+=Ie*Er,vi+=fr*hi,vi+=Oe*$i,vi+=wr*gi,vi+=qr*ci,Ei=vi>>>13,vi&=8191,vi+=Gr*jr,vi+=Yr*fi,vi+=Wr*oi,vi+=ti*(5*Vr),vi+=Qr*(5*kr),Ei+=vi>>>13,vi&=8191;var xi=Ei;xi+=Ie*kr,xi+=fr*Er,xi+=Oe*hi,xi+=wr*$i,xi+=qr*gi,Ei=xi>>>13,xi&=8191,xi+=Gr*ci,xi+=Yr*jr,xi+=Wr*fi,xi+=ti*oi,xi+=Qr*(5*Vr),Ei+=xi>>>13,xi&=8191;var Di=Ei;Di+=Ie*Vr,Di+=fr*kr,Di+=Oe*Er,Di+=wr*hi,Di+=qr*$i,Ei=Di>>>13,Di&=8191,Di+=Gr*gi,Di+=Yr*ci,Di+=Wr*jr,Di+=ti*fi,Di+=Qr*oi,Ei+=Di>>>13,Di&=8191,Ei=(Ei<<2)+Ei|0,Ei=Ei+qi|0,qi=Ei&8191,Ei=Ei>>>13,Ii+=Ei,Ie=qi,fr=Ii,Oe=Ni,wr=ri,qr=ai,Gr=li,Yr=Hr,Wr=vi,ti=xi,Qr=Di,Se+=16,Ee-=16}this._h[0]=Ie,this._h[1]=fr,this._h[2]=Oe,this._h[3]=wr,this._h[4]=qr,this._h[5]=Gr,this._h[6]=Yr,this._h[7]=Wr,this._h[8]=ti,this._h[9]=Qr},xe.prototype.finish=function(we,Se){Se===void 0&&(Se=0);var Ee=new Uint16Array(10),me,Ie,fr,Oe;if(this._leftover){for(Oe=this._leftover,this._buffer[Oe++]=1;Oe<16;Oe++)this._buffer[Oe]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(me=this._h[1]>>>13,this._h[1]&=8191,Oe=2;Oe<10;Oe++)this._h[Oe]+=me,me=this._h[Oe]>>>13,this._h[Oe]&=8191;for(this._h[0]+=me*5,me=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=me,me=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=me,Ee[0]=this._h[0]+5,me=Ee[0]>>>13,Ee[0]&=8191,Oe=1;Oe<10;Oe++)Ee[Oe]=this._h[Oe]+me,me=Ee[Oe]>>>13,Ee[Oe]&=8191;for(Ee[9]-=8192,Ie=(me^1)-1,Oe=0;Oe<10;Oe++)Ee[Oe]&=Ie;for(Ie=~Ie,Oe=0;Oe<10;Oe++)this._h[Oe]=this._h[Oe]&Ie|Ee[Oe];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,fr=this._h[0]+this._pad[0],this._h[0]=fr&65535,Oe=1;Oe<8;Oe++)fr=(this._h[Oe]+this._pad[Oe]|0)+(fr>>>16)|0,this._h[Oe]=fr&65535;return we[Se+0]=this._h[0]>>>0,we[Se+1]=this._h[0]>>>8,we[Se+2]=this._h[1]>>>0,we[Se+3]=this._h[1]>>>8,we[Se+4]=this._h[2]>>>0,we[Se+5]=this._h[2]>>>8,we[Se+6]=this._h[3]>>>0,we[Se+7]=this._h[3]>>>8,we[Se+8]=this._h[4]>>>0,we[Se+9]=this._h[4]>>>8,we[Se+10]=this._h[5]>>>0,we[Se+11]=this._h[5]>>>8,we[Se+12]=this._h[6]>>>0,we[Se+13]=this._h[6]>>>8,we[Se+14]=this._h[7]>>>0,we[Se+15]=this._h[7]>>>8,this._finished=!0,this},xe.prototype.update=function(we){var Se=0,Ee=we.length,me;if(this._leftover){me=16-this._leftover,me>Ee&&(me=Ee);for(var Ie=0;Ie<me;Ie++)this._buffer[this._leftover+Ie]=we[Se+Ie];if(Ee-=me,Se+=me,this._leftover+=me,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(Ee>=16&&(me=Ee-Ee%16,this._blocks(we,Se,me),Se+=me,Ee-=me),Ee){for(var Ie=0;Ie<Ee;Ie++)this._buffer[this._leftover+Ie]=we[Se+Ie];this._leftover+=Ee}return this},xe.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var we=new Uint8Array(16);return this.finish(we),we},xe.prototype.clean=function(){return s.wipe(this._buffer),s.wipe(this._r),s.wipe(this._h),s.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},xe}();Y.Poly1305=se;function fe(xe,we){var Se=new se(xe);Se.update(we);var Ee=Se.digest();return Se.clean(),Ee}Y.oneTimeAuth=fe;function be(xe,we){return xe.length!==Y.DIGEST_LENGTH||we.length!==Y.DIGEST_LENGTH?!1:t.equal(xe,we)}Y.equal=be})(poly1305);(function(Y){Object.defineProperty(Y,"__esModule",{value:!0});var t=chacha,s=poly1305,se=wipe$1,fe=binary,be=constantTime;Y.KEY_LENGTH=32,Y.NONCE_LENGTH=12,Y.TAG_LENGTH=16;var xe=new Uint8Array(16),we=function(){function Se(Ee){if(this.nonceLength=Y.NONCE_LENGTH,this.tagLength=Y.TAG_LENGTH,Ee.length!==Y.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(Ee)}return Se.prototype.seal=function(Ee,me,Ie,fr){if(Ee.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var Oe=new Uint8Array(16);Oe.set(Ee,Oe.length-Ee.length);var wr=new Uint8Array(32);t.stream(this._key,Oe,wr,4);var qr=me.length+this.tagLength,Gr;if(fr){if(fr.length!==qr)throw new Error("ChaCha20Poly1305: incorrect destination length");Gr=fr}else Gr=new Uint8Array(qr);return t.streamXOR(this._key,Oe,me,Gr,4),this._authenticate(Gr.subarray(Gr.length-this.tagLength,Gr.length),wr,Gr.subarray(0,Gr.length-this.tagLength),Ie),se.wipe(Oe),Gr},Se.prototype.open=function(Ee,me,Ie,fr){if(Ee.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(me.length<this.tagLength)return null;var Oe=new Uint8Array(16);Oe.set(Ee,Oe.length-Ee.length);var wr=new Uint8Array(32);t.stream(this._key,Oe,wr,4);var qr=new Uint8Array(this.tagLength);if(this._authenticate(qr,wr,me.subarray(0,me.length-this.tagLength),Ie),!be.equal(qr,me.subarray(me.length-this.tagLength,me.length)))return null;var Gr=me.length-this.tagLength,Yr;if(fr){if(fr.length!==Gr)throw new Error("ChaCha20Poly1305: incorrect destination length");Yr=fr}else Yr=new Uint8Array(Gr);return t.streamXOR(this._key,Oe,me.subarray(0,me.length-this.tagLength),Yr,4),se.wipe(Oe),Yr},Se.prototype.clean=function(){return se.wipe(this._key),this},Se.prototype._authenticate=function(Ee,me,Ie,fr){var Oe=new s.Poly1305(me);fr&&(Oe.update(fr),fr.length%16>0&&Oe.update(xe.subarray(fr.length%16))),Oe.update(Ie),Ie.length%16>0&&Oe.update(xe.subarray(Ie.length%16));var wr=new Uint8Array(8);fr&&fe.writeUint64LE(fr.length,wr),Oe.update(wr),fe.writeUint64LE(Ie.length,wr),Oe.update(wr);for(var qr=Oe.digest(),Gr=0;Gr<qr.length;Gr++)Ee[Gr]=qr[Gr];Oe.clean(),se.wipe(qr),se.wipe(wr)},Se}();Y.ChaCha20Poly1305=we})(chacha20poly1305);var hkdf={},hmac$2={},hash$1={};Object.defineProperty(hash$1,"__esModule",{value:!0});function isSerializableHash(Y){return typeof Y.saveState<"u"&&typeof Y.restoreState<"u"&&typeof Y.cleanSavedState<"u"}hash$1.isSerializableHash=isSerializableHash;Object.defineProperty(hmac$2,"__esModule",{value:!0});var hash_1=hash$1,constant_time_1=constantTime,wipe_1$2=wipe$1,HMAC=function(){function Y(t,s){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var se=new Uint8Array(this.blockSize);s.length>this.blockSize?this._inner.update(s).finish(se).clean():se.set(s);for(var fe=0;fe<se.length;fe++)se[fe]^=54;this._inner.update(se);for(var fe=0;fe<se.length;fe++)se[fe]^=106;this._outer.update(se),hash_1.isSerializableHash(this._inner)&&hash_1.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wipe_1$2.wipe(se)}return Y.prototype.reset=function(){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},Y.prototype.clean=function(){hash_1.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hash_1.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},Y.prototype.update=function(t){return this._inner.update(t),this},Y.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},Y.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},Y.prototype.saveState=function(){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},Y.prototype.restoreState=function(t){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},Y.prototype.cleanSavedState=function(t){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},Y}();hmac$2.HMAC=HMAC;function hmac$1(Y,t,s){var se=new HMAC(Y,t);se.update(s);var fe=se.digest();return se.clean(),fe}hmac$2.hmac=hmac$1;hmac$2.equal=constant_time_1.equal;Object.defineProperty(hkdf,"__esModule",{value:!0});var hmac_1=hmac$2,wipe_1$1=wipe$1,HKDF=function(){function Y(t,s,se,fe){se===void 0&&(se=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=fe;var be=hmac_1.hmac(this._hash,se,s);this._hmac=new hmac_1.HMAC(t,be),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return Y.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},Y.prototype.expand=function(t){for(var s=new Uint8Array(t),se=0;se<s.length;se++)this._bufpos===this._buffer.length&&this._fillBuffer(),s[se]=this._buffer[this._bufpos++];return s},Y.prototype.clean=function(){this._hmac.clean(),wipe_1$1.wipe(this._buffer),wipe_1$1.wipe(this._counter),this._bufpos=0},Y}(),HKDF_1=hkdf.HKDF=HKDF,random={},system={},browser$d={};Object.defineProperty(browser$d,"__esModule",{value:!0});browser$d.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const s=new Uint8Array(t);for(let se=0;se<s.length;se+=QUOTA)this._crypto.getRandomValues(s.subarray(se,se+Math.min(s.length-se,QUOTA)));return s}}browser$d.BrowserRandomSource=BrowserRandomSource;function commonjsRequire(Y){throw new Error('Could not dynamically require "'+Y+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var node$1={},cryptoBrowserify={},browser$c={exports:{}},hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$c.exports;hasRequiredBrowser$a=1;var Y=65536,t=4294967295;function s(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var se=safeBufferExports.Buffer,fe=commonjsGlobal.crypto||commonjsGlobal.msCrypto;fe&&fe.getRandomValues?browser$c.exports=be:browser$c.exports=s;function be(xe,we){if(xe>t)throw new RangeError("requested too many random bytes");var Se=se.allocUnsafe(xe);if(xe>0)if(xe>Y)for(var Ee=0;Ee<xe;Ee+=Y)fe.getRandomValues(Se.slice(Ee,Ee+Y));else fe.getRandomValues(Se);return typeof we=="function"?process$1.nextTick(function(){we(null,Se)}):Se}return browser$c.exports}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var Y=safeBufferExports.Buffer,t=readableBrowserExports.Transform,s=inherits_browserExports;function se(be,xe){if(!Y.isBuffer(be)&&typeof be!="string")throw new TypeError(xe+" must be a string or a buffer")}function fe(be){t.call(this),this._block=Y.allocUnsafe(be),this._blockSize=be,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return s(fe,t),fe.prototype._transform=function(be,xe,we){var Se=null;try{this.update(be,xe)}catch(Ee){Se=Ee}we(Se)},fe.prototype._flush=function(be){var xe=null;try{this.push(this.digest())}catch(we){xe=we}be(xe)},fe.prototype.update=function(be,xe){if(se(be,"Data"),this._finalized)throw new Error("Digest already called");Y.isBuffer(be)||(be=Y.from(be,xe));for(var we=this._block,Se=0;this._blockOffset+be.length-Se>=this._blockSize;){for(var Ee=this._blockOffset;Ee<this._blockSize;)we[Ee++]=be[Se++];this._update(),this._blockOffset=0}for(;Se<be.length;)we[this._blockOffset++]=be[Se++];for(var me=0,Ie=be.length*8;Ie>0;++me)this._length[me]+=Ie,Ie=this._length[me]/4294967296|0,Ie>0&&(this._length[me]-=4294967296*Ie);return this},fe.prototype._update=function(){throw new Error("_update is not implemented")},fe.prototype.digest=function(be){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var xe=this._digest();be!==void 0&&(xe=xe.toString(be)),this._block.fill(0),this._blockOffset=0;for(var we=0;we<4;++we)this._length[we]=0;return xe},fe.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=fe,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var Y=inherits_browserExports,t=requireHashBase(),s=safeBufferExports.Buffer,se=new Array(16);function fe(){t.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}Y(fe,t),fe.prototype._update=function(){for(var me=se,Ie=0;Ie<16;++Ie)me[Ie]=this._block.readInt32LE(Ie*4);var fr=this._a,Oe=this._b,wr=this._c,qr=this._d;fr=xe(fr,Oe,wr,qr,me[0],3614090360,7),qr=xe(qr,fr,Oe,wr,me[1],3905402710,12),wr=xe(wr,qr,fr,Oe,me[2],606105819,17),Oe=xe(Oe,wr,qr,fr,me[3],3250441966,22),fr=xe(fr,Oe,wr,qr,me[4],4118548399,7),qr=xe(qr,fr,Oe,wr,me[5],1200080426,12),wr=xe(wr,qr,fr,Oe,me[6],2821735955,17),Oe=xe(Oe,wr,qr,fr,me[7],4249261313,22),fr=xe(fr,Oe,wr,qr,me[8],1770035416,7),qr=xe(qr,fr,Oe,wr,me[9],2336552879,12),wr=xe(wr,qr,fr,Oe,me[10],4294925233,17),Oe=xe(Oe,wr,qr,fr,me[11],2304563134,22),fr=xe(fr,Oe,wr,qr,me[12],1804603682,7),qr=xe(qr,fr,Oe,wr,me[13],4254626195,12),wr=xe(wr,qr,fr,Oe,me[14],2792965006,17),Oe=xe(Oe,wr,qr,fr,me[15],1236535329,22),fr=we(fr,Oe,wr,qr,me[1],4129170786,5),qr=we(qr,fr,Oe,wr,me[6],3225465664,9),wr=we(wr,qr,fr,Oe,me[11],643717713,14),Oe=we(Oe,wr,qr,fr,me[0],3921069994,20),fr=we(fr,Oe,wr,qr,me[5],3593408605,5),qr=we(qr,fr,Oe,wr,me[10],38016083,9),wr=we(wr,qr,fr,Oe,me[15],3634488961,14),Oe=we(Oe,wr,qr,fr,me[4],3889429448,20),fr=we(fr,Oe,wr,qr,me[9],568446438,5),qr=we(qr,fr,Oe,wr,me[14],3275163606,9),wr=we(wr,qr,fr,Oe,me[3],4107603335,14),Oe=we(Oe,wr,qr,fr,me[8],1163531501,20),fr=we(fr,Oe,wr,qr,me[13],2850285829,5),qr=we(qr,fr,Oe,wr,me[2],4243563512,9),wr=we(wr,qr,fr,Oe,me[7],1735328473,14),Oe=we(Oe,wr,qr,fr,me[12],2368359562,20),fr=Se(fr,Oe,wr,qr,me[5],4294588738,4),qr=Se(qr,fr,Oe,wr,me[8],2272392833,11),wr=Se(wr,qr,fr,Oe,me[11],1839030562,16),Oe=Se(Oe,wr,qr,fr,me[14],4259657740,23),fr=Se(fr,Oe,wr,qr,me[1],2763975236,4),qr=Se(qr,fr,Oe,wr,me[4],1272893353,11),wr=Se(wr,qr,fr,Oe,me[7],4139469664,16),Oe=Se(Oe,wr,qr,fr,me[10],3200236656,23),fr=Se(fr,Oe,wr,qr,me[13],681279174,4),qr=Se(qr,fr,Oe,wr,me[0],3936430074,11),wr=Se(wr,qr,fr,Oe,me[3],3572445317,16),Oe=Se(Oe,wr,qr,fr,me[6],76029189,23),fr=Se(fr,Oe,wr,qr,me[9],3654602809,4),qr=Se(qr,fr,Oe,wr,me[12],3873151461,11),wr=Se(wr,qr,fr,Oe,me[15],530742520,16),Oe=Se(Oe,wr,qr,fr,me[2],3299628645,23),fr=Ee(fr,Oe,wr,qr,me[0],4096336452,6),qr=Ee(qr,fr,Oe,wr,me[7],1126891415,10),wr=Ee(wr,qr,fr,Oe,me[14],2878612391,15),Oe=Ee(Oe,wr,qr,fr,me[5],4237533241,21),fr=Ee(fr,Oe,wr,qr,me[12],1700485571,6),qr=Ee(qr,fr,Oe,wr,me[3],2399980690,10),wr=Ee(wr,qr,fr,Oe,me[10],4293915773,15),Oe=Ee(Oe,wr,qr,fr,me[1],2240044497,21),fr=Ee(fr,Oe,wr,qr,me[8],1873313359,6),qr=Ee(qr,fr,Oe,wr,me[15],4264355552,10),wr=Ee(wr,qr,fr,Oe,me[6],2734768916,15),Oe=Ee(Oe,wr,qr,fr,me[13],1309151649,21),fr=Ee(fr,Oe,wr,qr,me[4],4149444226,6),qr=Ee(qr,fr,Oe,wr,me[11],3174756917,10),wr=Ee(wr,qr,fr,Oe,me[2],718787259,15),Oe=Ee(Oe,wr,qr,fr,me[9],3951481745,21),this._a=this._a+fr|0,this._b=this._b+Oe|0,this._c=this._c+wr|0,this._d=this._d+qr|0},fe.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var me=s.allocUnsafe(16);return me.writeInt32LE(this._a,0),me.writeInt32LE(this._b,4),me.writeInt32LE(this._c,8),me.writeInt32LE(this._d,12),me};function be(me,Ie){return me<<Ie|me>>>32-Ie}function xe(me,Ie,fr,Oe,wr,qr,Gr){return be(me+(Ie&fr|~Ie&Oe)+wr+qr|0,Gr)+Ie|0}function we(me,Ie,fr,Oe,wr,qr,Gr){return be(me+(Ie&Oe|fr&~Oe)+wr+qr|0,Gr)+Ie|0}function Se(me,Ie,fr,Oe,wr,qr,Gr){return be(me+(Ie^fr^Oe)+wr+qr|0,Gr)+Ie|0}function Ee(me,Ie,fr,Oe,wr,qr,Gr){return be(me+(fr^(Ie|~Oe))+wr+qr|0,Gr)+Ie|0}return md5_js=fe,md5_js}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var Y=dist.Buffer,t=inherits_browserExports,s=requireHashBase(),se=new Array(16),fe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],be=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],xe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],we=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Se=[0,1518500249,1859775393,2400959708,2840853838],Ee=[1352829926,1548603684,1836072691,2053994217,0];function me(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}t(me,s),me.prototype._update=function(){for(var Yr=se,Wr=0;Wr<16;++Wr)Yr[Wr]=this._block.readInt32LE(Wr*4);for(var ti=this._a|0,Qr=this._b|0,oi=this._c|0,fi=this._d|0,jr=this._e|0,ci=this._a|0,gi=this._b|0,$i=this._c|0,hi=this._d|0,Er=this._e|0,kr=0;kr<80;kr+=1){var Vr,Jr;kr<16?(Vr=fr(ti,Qr,oi,fi,jr,Yr[fe[kr]],Se[0],xe[kr]),Jr=Gr(ci,gi,$i,hi,Er,Yr[be[kr]],Ee[0],we[kr])):kr<32?(Vr=Oe(ti,Qr,oi,fi,jr,Yr[fe[kr]],Se[1],xe[kr]),Jr=qr(ci,gi,$i,hi,Er,Yr[be[kr]],Ee[1],we[kr])):kr<48?(Vr=wr(ti,Qr,oi,fi,jr,Yr[fe[kr]],Se[2],xe[kr]),Jr=wr(ci,gi,$i,hi,Er,Yr[be[kr]],Ee[2],we[kr])):kr<64?(Vr=qr(ti,Qr,oi,fi,jr,Yr[fe[kr]],Se[3],xe[kr]),Jr=Oe(ci,gi,$i,hi,Er,Yr[be[kr]],Ee[3],we[kr])):(Vr=Gr(ti,Qr,oi,fi,jr,Yr[fe[kr]],Se[4],xe[kr]),Jr=fr(ci,gi,$i,hi,Er,Yr[be[kr]],Ee[4],we[kr])),ti=jr,jr=fi,fi=Ie(oi,10),oi=Qr,Qr=Vr,ci=Er,Er=hi,hi=Ie($i,10),$i=gi,gi=Jr}var ii=this._b+oi+hi|0;this._b=this._c+fi+Er|0,this._c=this._d+jr+ci|0,this._d=this._e+ti+gi|0,this._e=this._a+Qr+$i|0,this._a=ii},me.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Yr=Y.alloc?Y.alloc(20):new Y(20);return Yr.writeInt32LE(this._a,0),Yr.writeInt32LE(this._b,4),Yr.writeInt32LE(this._c,8),Yr.writeInt32LE(this._d,12),Yr.writeInt32LE(this._e,16),Yr};function Ie(Yr,Wr){return Yr<<Wr|Yr>>>32-Wr}function fr(Yr,Wr,ti,Qr,oi,fi,jr,ci){return Ie(Yr+(Wr^ti^Qr)+fi+jr|0,ci)+oi|0}function Oe(Yr,Wr,ti,Qr,oi,fi,jr,ci){return Ie(Yr+(Wr&ti|~Wr&Qr)+fi+jr|0,ci)+oi|0}function wr(Yr,Wr,ti,Qr,oi,fi,jr,ci){return Ie(Yr+((Wr|~ti)^Qr)+fi+jr|0,ci)+oi|0}function qr(Yr,Wr,ti,Qr,oi,fi,jr,ci){return Ie(Yr+(Wr&Qr|ti&~Qr)+fi+jr|0,ci)+oi|0}function Gr(Yr,Wr,ti,Qr,oi,fi,jr,ci){return Ie(Yr+(Wr^(ti|~Qr))+fi+jr|0,ci)+oi|0}return ripemd160=me,ripemd160}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=s;var Y=eventsExports.EventEmitter,t=inherits_browserExports;t(s,Y),s.Readable=require_stream_readable$1(),s.Writable=require_stream_writable$1(),s.Duplex=require_stream_duplex$1(),s.Transform=_stream_transform$1,s.PassThrough=_stream_passthrough$1,s.finished=endOfStream,s.pipeline=pipeline_1,s.Stream=s;function s(){Y.call(this)}return s.prototype.pipe=function(se,fe){var be=this;function xe(Oe){se.writable&&se.write(Oe)===!1&&be.pause&&be.pause()}be.on("data",xe);function we(){be.readable&&be.resume&&be.resume()}se.on("drain",we),!se._isStdio&&(!fe||fe.end!==!1)&&(be.on("end",Ee),be.on("close",me));var Se=!1;function Ee(){Se||(Se=!0,se.end())}function me(){Se||(Se=!0,typeof se.destroy=="function"&&se.destroy())}function Ie(Oe){if(fr(),Y.listenerCount(this,"error")===0)throw Oe}be.on("error",Ie),se.on("error",Ie);function fr(){be.removeListener("data",xe),se.removeListener("drain",we),be.removeListener("end",Ee),be.removeListener("close",me),be.removeListener("error",Ie),se.removeListener("error",Ie),be.removeListener("end",fr),be.removeListener("close",fr),se.removeListener("close",fr)}return be.on("end",fr),be.on("close",fr),se.on("close",fr),se.emit("pipe",be),se},streamBrowserify}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var Y=safeBufferExports.Buffer,t=requireStreamBrowserify().Transform,s=requireString_decoder().StringDecoder,se=inherits_browserExports;function fe(be){t.call(this),this.hashMode=typeof be=="string",this.hashMode?this[be]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return se(fe,t),fe.prototype.update=function(be,xe,we){typeof be=="string"&&(be=Y.from(be,xe));var Se=this._update(be);return this.hashMode?this:(we&&(Se=this._toString(Se,we)),Se)},fe.prototype.setAutoPadding=function(){},fe.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},fe.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},fe.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},fe.prototype._transform=function(be,xe,we){var Se;try{this.hashMode?this._update(be):this.push(this._update(be))}catch(Ee){Se=Ee}finally{we(Se)}},fe.prototype._flush=function(be){var xe;try{this.push(this.__final())}catch(we){xe=we}be(xe)},fe.prototype._finalOrDigest=function(be){var xe=this.__final()||Y.alloc(0);return be&&(xe=this._toString(xe,be,!0)),xe},fe.prototype._toString=function(be,xe,we){if(this._decoder||(this._decoder=new s(xe),this._encoding=xe),this._encoding!==xe)throw new Error("can't switch encodings");var Se=this._decoder.write(be);return we&&(Se+=this._decoder.end()),Se},cipherBase=fe,cipherBase}var browser$b,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$b;hasRequiredBrowser$9=1;var Y=inherits_browserExports,t=requireMd5_js(),s=requireRipemd160(),se=sha_jsExports,fe=requireCipherBase();function be(xe){fe.call(this,"digest"),this._hash=xe}return Y(be,fe),be.prototype._update=function(xe){this._hash.update(xe)},be.prototype._final=function(){return this._hash.digest()},browser$b=function(we){return we=we.toLowerCase(),we==="md5"?new t:we==="rmd160"||we==="ripemd160"?new s:new be(se(we))},browser$b}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var Y=inherits_browserExports,t=safeBufferExports.Buffer,s=requireCipherBase(),se=t.alloc(128),fe=64;function be(xe,we){s.call(this,"digest"),typeof we=="string"&&(we=t.from(we)),this._alg=xe,this._key=we,we.length>fe?we=xe(we):we.length<fe&&(we=t.concat([we,se],fe));for(var Se=this._ipad=t.allocUnsafe(fe),Ee=this._opad=t.allocUnsafe(fe),me=0;me<fe;me++)Se[me]=we[me]^54,Ee[me]=we[me]^92;this._hash=[Se]}return Y(be,s),be.prototype._update=function(xe){this._hash.push(xe)},be.prototype._final=function(){var xe=this._alg(t.concat(this._hash));return this._alg(t.concat([this._opad,xe]))},legacy=be,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var Y=requireMd5_js();return md5=function(t){return new Y().update(t).digest()},md5}var browser$a,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$a;hasRequiredBrowser$8=1;var Y=inherits_browserExports,t=requireLegacy(),s=requireCipherBase(),se=safeBufferExports.Buffer,fe=requireMd5(),be=requireRipemd160(),xe=sha_jsExports,we=se.alloc(128);function Se(Ee,me){s.call(this,"digest"),typeof me=="string"&&(me=se.from(me));var Ie=Ee==="sha512"||Ee==="sha384"?128:64;if(this._alg=Ee,this._key=me,me.length>Ie){var fr=Ee==="rmd160"?new be:xe(Ee);me=fr.update(me).digest()}else me.length<Ie&&(me=se.concat([me,we],Ie));for(var Oe=this._ipad=se.allocUnsafe(Ie),wr=this._opad=se.allocUnsafe(Ie),qr=0;qr<Ie;qr++)Oe[qr]=me[qr]^54,wr[qr]=me[qr]^92;this._hash=Ee==="rmd160"?new be:xe(Ee),this._hash.update(Oe)}return Y(Se,s),Se.prototype._update=function(Ee){this._hash.update(Ee)},Se.prototype._final=function(){var Ee=this._hash.digest(),me=this._alg==="rmd160"?new be:xe(this._alg);return me.update(this._opad).update(Ee).digest()},browser$a=function(me,Ie){return me=me.toLowerCase(),me==="rmd160"||me==="ripemd160"?new Se("rmd160",Ie):me==="md5"?new t(fe,Ie):new Se(me,Ie)},browser$a}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224,sha384,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$9={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var Y=Math.pow(2,30)-1;return precondition=function(t,s){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof s!="number")throw new TypeError("Key length not a number");if(s<0||s>Y||s!==s)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var Y;if(commonjsGlobal.process&&commonjsGlobal.process.browser)Y="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var t=parseInt(process$1.version.split(".")[0].slice(1),10);Y=t>=6?"utf-8":"binary"}else Y="utf-8";return defaultEncoding_1=Y,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var Y=safeBufferExports.Buffer;return toBuffer=function(t,s,se){if(Y.isBuffer(t))return t;if(typeof t=="string")return Y.from(t,s);if(ArrayBuffer.isView(t))return Y.from(t.buffer);throw new TypeError(se+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var Y=requireMd5(),t=requireRipemd160(),s=sha_jsExports,se=safeBufferExports.Buffer,fe=requirePrecondition(),be=requireDefaultEncoding(),xe=requireToBuffer(),we=se.alloc(128),Se={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Ee(fr,Oe,wr){var qr=me(fr),Gr=fr==="sha512"||fr==="sha384"?128:64;Oe.length>Gr?Oe=qr(Oe):Oe.length<Gr&&(Oe=se.concat([Oe,we],Gr));for(var Yr=se.allocUnsafe(Gr+Se[fr]),Wr=se.allocUnsafe(Gr+Se[fr]),ti=0;ti<Gr;ti++)Yr[ti]=Oe[ti]^54,Wr[ti]=Oe[ti]^92;var Qr=se.allocUnsafe(Gr+wr+4);Yr.copy(Qr,0,0,Gr),this.ipad1=Qr,this.ipad2=Yr,this.opad=Wr,this.alg=fr,this.blocksize=Gr,this.hash=qr,this.size=Se[fr]}Ee.prototype.run=function(fr,Oe){fr.copy(Oe,this.blocksize);var wr=this.hash(Oe);return wr.copy(this.opad,this.blocksize),this.hash(this.opad)};function me(fr){function Oe(qr){return s(fr).update(qr).digest()}function wr(qr){return new t().update(qr).digest()}return fr==="rmd160"||fr==="ripemd160"?wr:fr==="md5"?Y:Oe}function Ie(fr,Oe,wr,qr,Gr){fe(wr,qr),fr=xe(fr,be,"Password"),Oe=xe(Oe,be,"Salt"),Gr=Gr||"sha1";var Yr=new Ee(Gr,fr,Oe.length),Wr=se.allocUnsafe(qr),ti=se.allocUnsafe(Oe.length+4);Oe.copy(ti,0,0,Oe.length);for(var Qr=0,oi=Se[Gr],fi=Math.ceil(qr/oi),jr=1;jr<=fi;jr++){ti.writeUInt32BE(jr,Oe.length);for(var ci=Yr.run(ti,Yr.ipad1),gi=ci,$i=1;$i<wr;$i++){gi=Yr.run(gi,Yr.ipad2);for(var hi=0;hi<oi;hi++)ci[hi]^=gi[hi]}ci.copy(Wr,Qr),Qr+=oi}return Wr}return syncBrowser=Ie,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var Y=safeBufferExports.Buffer,t=requirePrecondition(),s=requireDefaultEncoding(),se=requireSyncBrowser(),fe=requireToBuffer(),be,xe=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,we={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Se=[];function Ee(wr){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!xe||!xe.importKey||!xe.deriveBits)return Promise.resolve(!1);if(Se[wr]!==void 0)return Se[wr];be=be||Y.alloc(8);var qr=fr(be,be,10,128,wr).then(function(){return!0}).catch(function(){return!1});return Se[wr]=qr,qr}var me;function Ie(){return me||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?me=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?me=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?me=commonjsGlobal.setImmediate:me=commonjsGlobal.setTimeout,me)}function fr(wr,qr,Gr,Yr,Wr){return xe.importKey("raw",wr,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ti){return xe.deriveBits({name:"PBKDF2",salt:qr,iterations:Gr,hash:{name:Wr}},ti,Yr<<3)}).then(function(ti){return Y.from(ti)})}function Oe(wr,qr){wr.then(function(Gr){Ie()(function(){qr(null,Gr)})},function(Gr){Ie()(function(){qr(Gr)})})}return async=function(wr,qr,Gr,Yr,Wr,ti){typeof Wr=="function"&&(ti=Wr,Wr=void 0),Wr=Wr||"sha1";var Qr=we[Wr.toLowerCase()];if(!Qr||typeof commonjsGlobal.Promise!="function"){Ie()(function(){var oi;try{oi=se(wr,qr,Gr,Yr,Wr)}catch(fi){return ti(fi)}ti(null,oi)});return}if(t(Gr,Yr),wr=fe(wr,s,"Password"),qr=fe(qr,s,"Salt"),typeof ti!="function")throw new Error("No callback provided to pbkdf2");Oe(Ee(Qr).then(function(oi){return oi?fr(wr,qr,Gr,Yr,Qr):se(wr,qr,Gr,Yr,Wr)}),ti)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$9.pbkdf2=requireAsync(),browser$9.pbkdf2Sync=requireSyncBrowser()),browser$9}var browser$8={},des$1={},utils$4={},hasRequiredUtils$4;function requireUtils$4(){if(hasRequiredUtils$4)return utils$4;hasRequiredUtils$4=1,utils$4.readUInt32BE=function(fe,be){var xe=fe[0+be]<<24|fe[1+be]<<16|fe[2+be]<<8|fe[3+be];return xe>>>0},utils$4.writeUInt32BE=function(fe,be,xe){fe[0+xe]=be>>>24,fe[1+xe]=be>>>16&255,fe[2+xe]=be>>>8&255,fe[3+xe]=be&255},utils$4.ip=function(fe,be,xe,we){for(var Se=0,Ee=0,me=6;me>=0;me-=2){for(var Ie=0;Ie<=24;Ie+=8)Se<<=1,Se|=be>>>Ie+me&1;for(var Ie=0;Ie<=24;Ie+=8)Se<<=1,Se|=fe>>>Ie+me&1}for(var me=6;me>=0;me-=2){for(var Ie=1;Ie<=25;Ie+=8)Ee<<=1,Ee|=be>>>Ie+me&1;for(var Ie=1;Ie<=25;Ie+=8)Ee<<=1,Ee|=fe>>>Ie+me&1}xe[we+0]=Se>>>0,xe[we+1]=Ee>>>0},utils$4.rip=function(fe,be,xe,we){for(var Se=0,Ee=0,me=0;me<4;me++)for(var Ie=24;Ie>=0;Ie-=8)Se<<=1,Se|=be>>>Ie+me&1,Se<<=1,Se|=fe>>>Ie+me&1;for(var me=4;me<8;me++)for(var Ie=24;Ie>=0;Ie-=8)Ee<<=1,Ee|=be>>>Ie+me&1,Ee<<=1,Ee|=fe>>>Ie+me&1;xe[we+0]=Se>>>0,xe[we+1]=Ee>>>0},utils$4.pc1=function(fe,be,xe,we){for(var Se=0,Ee=0,me=7;me>=5;me--){for(var Ie=0;Ie<=24;Ie+=8)Se<<=1,Se|=be>>Ie+me&1;for(var Ie=0;Ie<=24;Ie+=8)Se<<=1,Se|=fe>>Ie+me&1}for(var Ie=0;Ie<=24;Ie+=8)Se<<=1,Se|=be>>Ie+me&1;for(var me=1;me<=3;me++){for(var Ie=0;Ie<=24;Ie+=8)Ee<<=1,Ee|=be>>Ie+me&1;for(var Ie=0;Ie<=24;Ie+=8)Ee<<=1,Ee|=fe>>Ie+me&1}for(var Ie=0;Ie<=24;Ie+=8)Ee<<=1,Ee|=fe>>Ie+me&1;xe[we+0]=Se>>>0,xe[we+1]=Ee>>>0},utils$4.r28shl=function(fe,be){return fe<<be&268435455|fe>>>28-be};var Y=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$4.pc2=function(fe,be,xe,we){for(var Se=0,Ee=0,me=Y.length>>>1,Ie=0;Ie<me;Ie++)Se<<=1,Se|=fe>>>Y[Ie]&1;for(var Ie=me;Ie<Y.length;Ie++)Ee<<=1,Ee|=be>>>Y[Ie]&1;xe[we+0]=Se>>>0,xe[we+1]=Ee>>>0},utils$4.expand=function(fe,be,xe){var we=0,Se=0;we=(fe&1)<<5|fe>>>27;for(var Ee=23;Ee>=15;Ee-=4)we<<=6,we|=fe>>>Ee&63;for(var Ee=11;Ee>=3;Ee-=4)Se|=fe>>>Ee&63,Se<<=6;Se|=(fe&31)<<1|fe>>>31,be[xe+0]=we>>>0,be[xe+1]=Se>>>0};var t=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$4.substitute=function(fe,be){for(var xe=0,we=0;we<4;we++){var Se=fe>>>18-we*6&63,Ee=t[we*64+Se];xe<<=4,xe|=Ee}for(var we=0;we<4;we++){var Se=be>>>18-we*6&63,Ee=t[4*64+we*64+Se];xe<<=4,xe|=Ee}return xe>>>0};var s=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$4.permute=function(fe){for(var be=0,xe=0;xe<s.length;xe++)be<<=1,be|=fe>>>s[xe]&1;return be>>>0},utils$4.padSplit=function(fe,be,xe){for(var we=fe.toString(2);we.length<be;)we="0"+we;for(var Se=[],Ee=0;Ee<be;Ee+=xe)Se.push(we.slice(Ee,Ee+xe));return Se.join(" ")},utils$4}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=Y;function Y(t,s){if(!t)throw new Error(s||"Assertion failed")}return Y.equal=function(s,se,fe){if(s!=se)throw new Error(fe||"Assertion failed: "+s+" != "+se)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var Y=requireMinimalisticAssert();function t(s){this.options=s,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=s.padding!==!1}return cipher=t,t.prototype._init=function(){},t.prototype.update=function(se){return se.length===0?[]:this.type==="decrypt"?this._updateDecrypt(se):this._updateEncrypt(se)},t.prototype._buffer=function(se,fe){for(var be=Math.min(this.buffer.length-this.bufferOff,se.length-fe),xe=0;xe<be;xe++)this.buffer[this.bufferOff+xe]=se[fe+xe];return this.bufferOff+=be,be},t.prototype._flushBuffer=function(se,fe){return this._update(this.buffer,0,se,fe),this.bufferOff=0,this.blockSize},t.prototype._updateEncrypt=function(se){var fe=0,be=0,xe=(this.bufferOff+se.length)/this.blockSize|0,we=new Array(xe*this.blockSize);this.bufferOff!==0&&(fe+=this._buffer(se,fe),this.bufferOff===this.buffer.length&&(be+=this._flushBuffer(we,be)));for(var Se=se.length-(se.length-fe)%this.blockSize;fe<Se;fe+=this.blockSize)this._update(se,fe,we,be),be+=this.blockSize;for(;fe<se.length;fe++,this.bufferOff++)this.buffer[this.bufferOff]=se[fe];return we},t.prototype._updateDecrypt=function(se){for(var fe=0,be=0,xe=Math.ceil((this.bufferOff+se.length)/this.blockSize)-1,we=new Array(xe*this.blockSize);xe>0;xe--)fe+=this._buffer(se,fe),be+=this._flushBuffer(we,be);return fe+=this._buffer(se,fe),we},t.prototype.final=function(se){var fe;se&&(fe=this.update(se));var be;return this.type==="encrypt"?be=this._finalEncrypt():be=this._finalDecrypt(),fe?fe.concat(be):be},t.prototype._pad=function(se,fe){if(fe===0)return!1;for(;fe<se.length;)se[fe++]=0;return!0},t.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var se=new Array(this.blockSize);return this._update(this.buffer,0,se,0),se},t.prototype._unpad=function(se){return se},t.prototype._finalDecrypt=function(){Y.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var se=new Array(this.blockSize);return this._flushBuffer(se,0),this._unpad(se)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var Y=requireMinimalisticAssert(),t=inherits_browserExports,s=requireUtils$4(),se=requireCipher();function fe(){this.tmp=new Array(2),this.keys=null}function be(we){se.call(this,we);var Se=new fe;this._desState=Se,this.deriveKeys(Se,we.key)}t(be,se),des=be,be.create=function(Se){return new be(Se)};var xe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return be.prototype.deriveKeys=function(Se,Ee){Se.keys=new Array(16*2),Y.equal(Ee.length,this.blockSize,"Invalid key length");var me=s.readUInt32BE(Ee,0),Ie=s.readUInt32BE(Ee,4);s.pc1(me,Ie,Se.tmp,0),me=Se.tmp[0],Ie=Se.tmp[1];for(var fr=0;fr<Se.keys.length;fr+=2){var Oe=xe[fr>>>1];me=s.r28shl(me,Oe),Ie=s.r28shl(Ie,Oe),s.pc2(me,Ie,Se.keys,fr)}},be.prototype._update=function(Se,Ee,me,Ie){var fr=this._desState,Oe=s.readUInt32BE(Se,Ee),wr=s.readUInt32BE(Se,Ee+4);s.ip(Oe,wr,fr.tmp,0),Oe=fr.tmp[0],wr=fr.tmp[1],this.type==="encrypt"?this._encrypt(fr,Oe,wr,fr.tmp,0):this._decrypt(fr,Oe,wr,fr.tmp,0),Oe=fr.tmp[0],wr=fr.tmp[1],s.writeUInt32BE(me,Oe,Ie),s.writeUInt32BE(me,wr,Ie+4)},be.prototype._pad=function(Se,Ee){if(this.padding===!1)return!1;for(var me=Se.length-Ee,Ie=Ee;Ie<Se.length;Ie++)Se[Ie]=me;return!0},be.prototype._unpad=function(Se){if(this.padding===!1)return Se;for(var Ee=Se[Se.length-1],me=Se.length-Ee;me<Se.length;me++)Y.equal(Se[me],Ee);return Se.slice(0,Se.length-Ee)},be.prototype._encrypt=function(Se,Ee,me,Ie,fr){for(var Oe=Ee,wr=me,qr=0;qr<Se.keys.length;qr+=2){var Gr=Se.keys[qr],Yr=Se.keys[qr+1];s.expand(wr,Se.tmp,0),Gr^=Se.tmp[0],Yr^=Se.tmp[1];var Wr=s.substitute(Gr,Yr),ti=s.permute(Wr),Qr=wr;wr=(Oe^ti)>>>0,Oe=Qr}s.rip(wr,Oe,Ie,fr)},be.prototype._decrypt=function(Se,Ee,me,Ie,fr){for(var Oe=me,wr=Ee,qr=Se.keys.length-2;qr>=0;qr-=2){var Gr=Se.keys[qr],Yr=Se.keys[qr+1];s.expand(Oe,Se.tmp,0),Gr^=Se.tmp[0],Yr^=Se.tmp[1];var Wr=s.substitute(Gr,Yr),ti=s.permute(Wr),Qr=Oe;Oe=(wr^ti)>>>0,wr=Qr}s.rip(Oe,wr,Ie,fr)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var Y=requireMinimalisticAssert(),t=inherits_browserExports,s={};function se(be){Y.equal(be.length,8,"Invalid IV length"),this.iv=new Array(8);for(var xe=0;xe<this.iv.length;xe++)this.iv[xe]=be[xe]}function fe(be){function xe(me){be.call(this,me),this._cbcInit()}t(xe,be);for(var we=Object.keys(s),Se=0;Se<we.length;Se++){var Ee=we[Se];xe.prototype[Ee]=s[Ee]}return xe.create=function(Ie){return new xe(Ie)},xe}return cbc$1.instantiate=fe,s._cbcInit=function(){var xe=new se(this.options.iv);this._cbcState=xe},s._update=function(xe,we,Se,Ee){var me=this._cbcState,Ie=this.constructor.super_.prototype,fr=me.iv;if(this.type==="encrypt"){for(var Oe=0;Oe<this.blockSize;Oe++)fr[Oe]^=xe[we+Oe];Ie._update.call(this,fr,0,Se,Ee);for(var Oe=0;Oe<this.blockSize;Oe++)fr[Oe]=Se[Ee+Oe]}else{Ie._update.call(this,xe,we,Se,Ee);for(var Oe=0;Oe<this.blockSize;Oe++)Se[Ee+Oe]^=fr[Oe];for(var Oe=0;Oe<this.blockSize;Oe++)fr[Oe]=xe[we+Oe]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var Y=requireMinimalisticAssert(),t=inherits_browserExports,s=requireCipher(),se=requireDes$1();function fe(xe,we){Y.equal(we.length,24,"Invalid key length");var Se=we.slice(0,8),Ee=we.slice(8,16),me=we.slice(16,24);xe==="encrypt"?this.ciphers=[se.create({type:"encrypt",key:Se}),se.create({type:"decrypt",key:Ee}),se.create({type:"encrypt",key:me})]:this.ciphers=[se.create({type:"decrypt",key:me}),se.create({type:"encrypt",key:Ee}),se.create({type:"decrypt",key:Se})]}function be(xe){s.call(this,xe);var we=new fe(this.type,this.options.key);this._edeState=we}return t(be,s),ede=be,be.create=function(we){return new be(we)},be.prototype._update=function(we,Se,Ee,me){var Ie=this._edeState;Ie.ciphers[0]._update(we,Se,Ee,me),Ie.ciphers[1]._update(Ee,me,Ee,me),Ie.ciphers[2]._update(Ee,me,Ee,me)},be.prototype._pad=se.prototype._pad,be.prototype._unpad=se.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$4(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var Y=requireCipherBase(),t=requireDes(),s=inherits_browserExports,se=safeBufferExports.Buffer,fe={"des-ede3-cbc":t.CBC.instantiate(t.EDE),"des-ede3":t.EDE,"des-ede-cbc":t.CBC.instantiate(t.EDE),"des-ede":t.EDE,"des-cbc":t.CBC.instantiate(t.DES),"des-ecb":t.DES};fe.des=fe["des-cbc"],fe.des3=fe["des-ede3-cbc"],browserifyDes=be,s(be,Y);function be(xe){Y.call(this);var we=xe.mode.toLowerCase(),Se=fe[we],Ee;xe.decrypt?Ee="decrypt":Ee="encrypt";var me=xe.key;se.isBuffer(me)||(me=se.from(me)),(we==="des-ede"||we==="des-ede-cbc")&&(me=se.concat([me,me.slice(0,8)]));var Ie=xe.iv;se.isBuffer(Ie)||(Ie=se.from(Ie)),this._des=Se.create({key:me,iv:Ie,type:Ee})}return be.prototype._update=function(xe){return se.from(this._des.update(xe))},be.prototype._final=function(){return se.from(this._des.final())},browserifyDes}var browser$7={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(Y,t){return Y._cipher.encryptBlock(t)},ecb.decrypt=function(Y,t){return Y._cipher.decryptBlock(t)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(t,s){for(var se=Math.min(t.length,s.length),fe=new Buffer(se),be=0;be<se;++be)fe[be]=t[be]^s[be];return fe}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var Y=requireBufferXor();return cbc.encrypt=function(t,s){var se=Y(s,t._prev);return t._prev=t._cipher.encryptBlock(se),t._prev},cbc.decrypt=function(t,s){var se=t._prev;t._prev=s;var fe=t._cipher.decryptBlock(s);return Y(fe,se)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var Y=safeBufferExports.Buffer,t=requireBufferXor();function s(se,fe,be){var xe=fe.length,we=t(fe,se._cache);return se._cache=se._cache.slice(xe),se._prev=Y.concat([se._prev,be?fe:we]),we}return cfb.encrypt=function(se,fe,be){for(var xe=Y.allocUnsafe(0),we;fe.length;)if(se._cache.length===0&&(se._cache=se._cipher.encryptBlock(se._prev),se._prev=Y.allocUnsafe(0)),se._cache.length<=fe.length)we=se._cache.length,xe=Y.concat([xe,s(se,fe.slice(0,we),be)]),fe=fe.slice(we);else{xe=Y.concat([xe,s(se,fe,be)]);break}return xe},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var Y=safeBufferExports.Buffer;function t(s,se,fe){var be=s._cipher.encryptBlock(s._prev),xe=be[0]^se;return s._prev=Y.concat([s._prev.slice(1),Y.from([fe?se:xe])]),xe}return cfb8.encrypt=function(s,se,fe){for(var be=se.length,xe=Y.allocUnsafe(be),we=-1;++we<be;)xe[we]=t(s,se[we],fe);return xe},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var Y=safeBufferExports.Buffer;function t(se,fe,be){for(var xe,we=-1,Se=8,Ee=0,me,Ie;++we<Se;)xe=se._cipher.encryptBlock(se._prev),me=fe&1<<7-we?128:0,Ie=xe[0]^me,Ee+=(Ie&128)>>we%8,se._prev=s(se._prev,be?me:Ie);return Ee}function s(se,fe){var be=se.length,xe=-1,we=Y.allocUnsafe(se.length);for(se=Y.concat([se,Y.from([fe])]);++xe<be;)we[xe]=se[xe]<<1|se[xe+1]>>7;return we}return cfb1.encrypt=function(se,fe,be){for(var xe=fe.length,we=Y.allocUnsafe(xe),Se=-1;++Se<xe;)we[Se]=t(se,fe[Se],be);return we},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var Y=requireBufferXor();function t(s){return s._prev=s._cipher.encryptBlock(s._prev),s._prev}return ofb.encrypt=function(s,se){for(;s._cache.length<se.length;)s._cache=Buffer.concat([s._cache,t(s)]);var fe=s._cache.slice(0,se.length);return s._cache=s._cache.slice(se.length),Y(se,fe)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function Y(t){for(var s=t.length,se;s--;)if(se=t.readUInt8(s),se===255)t.writeUInt8(0,s);else{se++,t.writeUInt8(se,s);break}}return incr32_1=Y,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var Y=requireBufferXor(),t=safeBufferExports.Buffer,s=requireIncr32();function se(be){var xe=be._cipher.encryptBlockRaw(be._prev);return s(be._prev),xe}var fe=16;return ctr.encrypt=function(be,xe){var we=Math.ceil(xe.length/fe),Se=be._cache.length;be._cache=t.concat([be._cache,t.allocUnsafe(we*fe)]);for(var Ee=0;Ee<we;Ee++){var me=se(be),Ie=Se+Ee*fe;be._cache.writeUInt32BE(me[0],Ie+0),be._cache.writeUInt32BE(me[1],Ie+4),be._cache.writeUInt32BE(me[2],Ie+8),be._cache.writeUInt32BE(me[3],Ie+12)}var fr=be._cache.slice(0,xe.length);return be._cache=be._cache.slice(xe.length),Y(xe,fr)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var Y={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},t=require$$2;for(var s in t)t[s].module=Y[t[s].mode];return modes_1=t,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var Y=safeBufferExports.Buffer;function t(we){Y.isBuffer(we)||(we=Y.from(we));for(var Se=we.length/4|0,Ee=new Array(Se),me=0;me<Se;me++)Ee[me]=we.readUInt32BE(me*4);return Ee}function s(we){for(var Se=0;Se<we.length;we++)we[Se]=0}function se(we,Se,Ee,me,Ie){for(var fr=Ee[0],Oe=Ee[1],wr=Ee[2],qr=Ee[3],Gr=we[0]^Se[0],Yr=we[1]^Se[1],Wr=we[2]^Se[2],ti=we[3]^Se[3],Qr,oi,fi,jr,ci=4,gi=1;gi<Ie;gi++)Qr=fr[Gr>>>24]^Oe[Yr>>>16&255]^wr[Wr>>>8&255]^qr[ti&255]^Se[ci++],oi=fr[Yr>>>24]^Oe[Wr>>>16&255]^wr[ti>>>8&255]^qr[Gr&255]^Se[ci++],fi=fr[Wr>>>24]^Oe[ti>>>16&255]^wr[Gr>>>8&255]^qr[Yr&255]^Se[ci++],jr=fr[ti>>>24]^Oe[Gr>>>16&255]^wr[Yr>>>8&255]^qr[Wr&255]^Se[ci++],Gr=Qr,Yr=oi,Wr=fi,ti=jr;return Qr=(me[Gr>>>24]<<24|me[Yr>>>16&255]<<16|me[Wr>>>8&255]<<8|me[ti&255])^Se[ci++],oi=(me[Yr>>>24]<<24|me[Wr>>>16&255]<<16|me[ti>>>8&255]<<8|me[Gr&255])^Se[ci++],fi=(me[Wr>>>24]<<24|me[ti>>>16&255]<<16|me[Gr>>>8&255]<<8|me[Yr&255])^Se[ci++],jr=(me[ti>>>24]<<24|me[Gr>>>16&255]<<16|me[Yr>>>8&255]<<8|me[Wr&255])^Se[ci++],Qr=Qr>>>0,oi=oi>>>0,fi=fi>>>0,jr=jr>>>0,[Qr,oi,fi,jr]}var fe=[0,1,2,4,8,16,32,64,128,27,54],be=function(){for(var we=new Array(256),Se=0;Se<256;Se++)Se<128?we[Se]=Se<<1:we[Se]=Se<<1^283;for(var Ee=[],me=[],Ie=[[],[],[],[]],fr=[[],[],[],[]],Oe=0,wr=0,qr=0;qr<256;++qr){var Gr=wr^wr<<1^wr<<2^wr<<3^wr<<4;Gr=Gr>>>8^Gr&255^99,Ee[Oe]=Gr,me[Gr]=Oe;var Yr=we[Oe],Wr=we[Yr],ti=we[Wr],Qr=we[Gr]*257^Gr*16843008;Ie[0][Oe]=Qr<<24|Qr>>>8,Ie[1][Oe]=Qr<<16|Qr>>>16,Ie[2][Oe]=Qr<<8|Qr>>>24,Ie[3][Oe]=Qr,Qr=ti*16843009^Wr*65537^Yr*257^Oe*16843008,fr[0][Gr]=Qr<<24|Qr>>>8,fr[1][Gr]=Qr<<16|Qr>>>16,fr[2][Gr]=Qr<<8|Qr>>>24,fr[3][Gr]=Qr,Oe===0?Oe=wr=1:(Oe=Yr^we[we[we[ti^Yr]]],wr^=we[we[wr]])}return{SBOX:Ee,INV_SBOX:me,SUB_MIX:Ie,INV_SUB_MIX:fr}}();function xe(we){this._key=t(we),this._reset()}return xe.blockSize=4*4,xe.keySize=256/8,xe.prototype.blockSize=xe.blockSize,xe.prototype.keySize=xe.keySize,xe.prototype._reset=function(){for(var we=this._key,Se=we.length,Ee=Se+6,me=(Ee+1)*4,Ie=[],fr=0;fr<Se;fr++)Ie[fr]=we[fr];for(fr=Se;fr<me;fr++){var Oe=Ie[fr-1];fr%Se===0?(Oe=Oe<<8|Oe>>>24,Oe=be.SBOX[Oe>>>24]<<24|be.SBOX[Oe>>>16&255]<<16|be.SBOX[Oe>>>8&255]<<8|be.SBOX[Oe&255],Oe^=fe[fr/Se|0]<<24):Se>6&&fr%Se===4&&(Oe=be.SBOX[Oe>>>24]<<24|be.SBOX[Oe>>>16&255]<<16|be.SBOX[Oe>>>8&255]<<8|be.SBOX[Oe&255]),Ie[fr]=Ie[fr-Se]^Oe}for(var wr=[],qr=0;qr<me;qr++){var Gr=me-qr,Yr=Ie[Gr-(qr%4?0:4)];qr<4||Gr<=4?wr[qr]=Yr:wr[qr]=be.INV_SUB_MIX[0][be.SBOX[Yr>>>24]]^be.INV_SUB_MIX[1][be.SBOX[Yr>>>16&255]]^be.INV_SUB_MIX[2][be.SBOX[Yr>>>8&255]]^be.INV_SUB_MIX[3][be.SBOX[Yr&255]]}this._nRounds=Ee,this._keySchedule=Ie,this._invKeySchedule=wr},xe.prototype.encryptBlockRaw=function(we){return we=t(we),se(we,this._keySchedule,be.SUB_MIX,be.SBOX,this._nRounds)},xe.prototype.encryptBlock=function(we){var Se=this.encryptBlockRaw(we),Ee=Y.allocUnsafe(16);return Ee.writeUInt32BE(Se[0],0),Ee.writeUInt32BE(Se[1],4),Ee.writeUInt32BE(Se[2],8),Ee.writeUInt32BE(Se[3],12),Ee},xe.prototype.decryptBlock=function(we){we=t(we);var Se=we[1];we[1]=we[3],we[3]=Se;var Ee=se(we,this._invKeySchedule,be.INV_SUB_MIX,be.INV_SBOX,this._nRounds),me=Y.allocUnsafe(16);return me.writeUInt32BE(Ee[0],0),me.writeUInt32BE(Ee[3],4),me.writeUInt32BE(Ee[2],8),me.writeUInt32BE(Ee[1],12),me},xe.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},aes.AES=xe,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var Y=safeBufferExports.Buffer,t=Y.alloc(16,0);function s(be){return[be.readUInt32BE(0),be.readUInt32BE(4),be.readUInt32BE(8),be.readUInt32BE(12)]}function se(be){var xe=Y.allocUnsafe(16);return xe.writeUInt32BE(be[0]>>>0,0),xe.writeUInt32BE(be[1]>>>0,4),xe.writeUInt32BE(be[2]>>>0,8),xe.writeUInt32BE(be[3]>>>0,12),xe}function fe(be){this.h=be,this.state=Y.alloc(16,0),this.cache=Y.allocUnsafe(0)}return fe.prototype.ghash=function(be){for(var xe=-1;++xe<be.length;)this.state[xe]^=be[xe];this._multiply()},fe.prototype._multiply=function(){for(var be=s(this.h),xe=[0,0,0,0],we,Se,Ee,me=-1;++me<128;){for(Se=(this.state[~~(me/8)]&1<<7-me%8)!==0,Se&&(xe[0]^=be[0],xe[1]^=be[1],xe[2]^=be[2],xe[3]^=be[3]),Ee=(be[3]&1)!==0,we=3;we>0;we--)be[we]=be[we]>>>1|(be[we-1]&1)<<31;be[0]=be[0]>>>1,Ee&&(be[0]=be[0]^225<<24)}this.state=se(xe)},fe.prototype.update=function(be){this.cache=Y.concat([this.cache,be]);for(var xe;this.cache.length>=16;)xe=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(xe)},fe.prototype.final=function(be,xe){return this.cache.length&&this.ghash(Y.concat([this.cache,t],16)),this.ghash(se([0,be,0,xe])),this.state},ghash=fe,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var Y=requireAes(),t=safeBufferExports.Buffer,s=requireCipherBase(),se=inherits_browserExports,fe=requireGhash(),be=requireBufferXor(),xe=requireIncr32();function we(me,Ie){var fr=0;me.length!==Ie.length&&fr++;for(var Oe=Math.min(me.length,Ie.length),wr=0;wr<Oe;++wr)fr+=me[wr]^Ie[wr];return fr}function Se(me,Ie,fr){if(Ie.length===12)return me._finID=t.concat([Ie,t.from([0,0,0,1])]),t.concat([Ie,t.from([0,0,0,2])]);var Oe=new fe(fr),wr=Ie.length,qr=wr%16;Oe.update(Ie),qr&&(qr=16-qr,Oe.update(t.alloc(qr,0))),Oe.update(t.alloc(8,0));var Gr=wr*8,Yr=t.alloc(8);Yr.writeUIntBE(Gr,0,8),Oe.update(Yr),me._finID=Oe.state;var Wr=t.from(me._finID);return xe(Wr),Wr}function Ee(me,Ie,fr,Oe){s.call(this);var wr=t.alloc(4,0);this._cipher=new Y.AES(Ie);var qr=this._cipher.encryptBlock(wr);this._ghash=new fe(qr),fr=Se(this,fr,qr),this._prev=t.from(fr),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=Oe,this._alen=0,this._len=0,this._mode=me,this._authTag=null,this._called=!1}return se(Ee,s),Ee.prototype._update=function(me){if(!this._called&&this._alen){var Ie=16-this._alen%16;Ie<16&&(Ie=t.alloc(Ie,0),this._ghash.update(Ie))}this._called=!0;var fr=this._mode.encrypt(this,me);return this._decrypt?this._ghash.update(me):this._ghash.update(fr),this._len+=me.length,fr},Ee.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var me=be(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&we(me,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=me,this._cipher.scrub()},Ee.prototype.getAuthTag=function(){if(this._decrypt||!t.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Ee.prototype.setAuthTag=function(Ie){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=Ie},Ee.prototype.setAAD=function(Ie){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(Ie),this._alen+=Ie.length},authCipher=Ee,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var Y=requireAes(),t=safeBufferExports.Buffer,s=requireCipherBase(),se=inherits_browserExports;function fe(be,xe,we,Se){s.call(this),this._cipher=new Y.AES(xe),this._prev=t.from(we),this._cache=t.allocUnsafe(0),this._secCache=t.allocUnsafe(0),this._decrypt=Se,this._mode=be}return se(fe,s),fe.prototype._update=function(be){return this._mode.encrypt(this,be,this._decrypt)},fe.prototype._final=function(){this._cipher.scrub()},streamCipher=fe,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var Y=safeBufferExports.Buffer,t=requireMd5_js();function s(se,fe,be,xe){if(Y.isBuffer(se)||(se=Y.from(se,"binary")),fe&&(Y.isBuffer(fe)||(fe=Y.from(fe,"binary")),fe.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var we=be/8,Se=Y.alloc(we),Ee=Y.alloc(xe||0),me=Y.alloc(0);we>0||xe>0;){var Ie=new t;Ie.update(me),Ie.update(se),fe&&Ie.update(fe),me=Ie.digest();var fr=0;if(we>0){var Oe=Se.length-we;fr=Math.min(we,me.length),me.copy(Se,Oe,0,fr),we-=fr}if(fr<me.length&&xe>0){var wr=Ee.length-xe,qr=Math.min(xe,me.length-fr);me.copy(Ee,wr,fr,fr+qr),xe-=qr}}return me.fill(0),{key:Se,iv:Ee}}return evp_bytestokey=s,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var Y=requireModes$1(),t=requireAuthCipher(),s=safeBufferExports.Buffer,se=requireStreamCipher(),fe=requireCipherBase(),be=requireAes(),xe=requireEvp_bytestokey(),we=inherits_browserExports;function Se(Oe,wr,qr){fe.call(this),this._cache=new me,this._cipher=new be.AES(wr),this._prev=s.from(qr),this._mode=Oe,this._autopadding=!0}we(Se,fe),Se.prototype._update=function(Oe){this._cache.add(Oe);for(var wr,qr,Gr=[];wr=this._cache.get();)qr=this._mode.encrypt(this,wr),Gr.push(qr);return s.concat(Gr)};var Ee=s.alloc(16,16);Se.prototype._final=function(){var Oe=this._cache.flush();if(this._autopadding)return Oe=this._mode.encrypt(this,Oe),this._cipher.scrub(),Oe;if(!Oe.equals(Ee))throw this._cipher.scrub(),new Error("data not multiple of block length")},Se.prototype.setAutoPadding=function(Oe){return this._autopadding=!!Oe,this};function me(){this.cache=s.allocUnsafe(0)}me.prototype.add=function(Oe){this.cache=s.concat([this.cache,Oe])},me.prototype.get=function(){if(this.cache.length>15){var Oe=this.cache.slice(0,16);return this.cache=this.cache.slice(16),Oe}return null},me.prototype.flush=function(){for(var Oe=16-this.cache.length,wr=s.allocUnsafe(Oe),qr=-1;++qr<Oe;)wr.writeUInt8(Oe,qr);return s.concat([this.cache,wr])};function Ie(Oe,wr,qr){var Gr=Y[Oe.toLowerCase()];if(!Gr)throw new TypeError("invalid suite type");if(typeof wr=="string"&&(wr=s.from(wr)),wr.length!==Gr.key/8)throw new TypeError("invalid key length "+wr.length);if(typeof qr=="string"&&(qr=s.from(qr)),Gr.mode!=="GCM"&&qr.length!==Gr.iv)throw new TypeError("invalid iv length "+qr.length);return Gr.type==="stream"?new se(Gr.module,wr,qr):Gr.type==="auth"?new t(Gr.module,wr,qr):new Se(Gr.module,wr,qr)}function fr(Oe,wr){var qr=Y[Oe.toLowerCase()];if(!qr)throw new TypeError("invalid suite type");var Gr=xe(wr,!1,qr.key,qr.iv);return Ie(Oe,Gr.key,Gr.iv)}return encrypter.createCipheriv=Ie,encrypter.createCipher=fr,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var Y=requireAuthCipher(),t=safeBufferExports.Buffer,s=requireModes$1(),se=requireStreamCipher(),fe=requireCipherBase(),be=requireAes(),xe=requireEvp_bytestokey(),we=inherits_browserExports;function Se(Oe,wr,qr){fe.call(this),this._cache=new Ee,this._last=void 0,this._cipher=new be.AES(wr),this._prev=t.from(qr),this._mode=Oe,this._autopadding=!0}we(Se,fe),Se.prototype._update=function(Oe){this._cache.add(Oe);for(var wr,qr,Gr=[];wr=this._cache.get(this._autopadding);)qr=this._mode.decrypt(this,wr),Gr.push(qr);return t.concat(Gr)},Se.prototype._final=function(){var Oe=this._cache.flush();if(this._autopadding)return me(this._mode.decrypt(this,Oe));if(Oe)throw new Error("data not multiple of block length")},Se.prototype.setAutoPadding=function(Oe){return this._autopadding=!!Oe,this};function Ee(){this.cache=t.allocUnsafe(0)}Ee.prototype.add=function(Oe){this.cache=t.concat([this.cache,Oe])},Ee.prototype.get=function(Oe){var wr;if(Oe){if(this.cache.length>16)return wr=this.cache.slice(0,16),this.cache=this.cache.slice(16),wr}else if(this.cache.length>=16)return wr=this.cache.slice(0,16),this.cache=this.cache.slice(16),wr;return null},Ee.prototype.flush=function(){if(this.cache.length)return this.cache};function me(Oe){var wr=Oe[15];if(wr<1||wr>16)throw new Error("unable to decrypt data");for(var qr=-1;++qr<wr;)if(Oe[qr+(16-wr)]!==wr)throw new Error("unable to decrypt data");if(wr!==16)return Oe.slice(0,16-wr)}function Ie(Oe,wr,qr){var Gr=s[Oe.toLowerCase()];if(!Gr)throw new TypeError("invalid suite type");if(typeof qr=="string"&&(qr=t.from(qr)),Gr.mode!=="GCM"&&qr.length!==Gr.iv)throw new TypeError("invalid iv length "+qr.length);if(typeof wr=="string"&&(wr=t.from(wr)),wr.length!==Gr.key/8)throw new TypeError("invalid key length "+wr.length);return Gr.type==="stream"?new se(Gr.module,wr,qr,!0):Gr.type==="auth"?new Y(Gr.module,wr,qr,!0):new Se(Gr.module,wr,qr)}function fr(Oe,wr){var qr=s[Oe.toLowerCase()];if(!qr)throw new TypeError("invalid suite type");var Gr=xe(wr,!1,qr.key,qr.iv);return Ie(Oe,Gr.key,Gr.iv)}return decrypter.createDecipher=fr,decrypter.createDecipheriv=Ie,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$7;hasRequiredBrowser$6=1;var Y=requireEncrypter(),t=requireDecrypter(),s=require$$2;function se(){return Object.keys(s)}return browser$7.createCipher=browser$7.Cipher=Y.createCipher,browser$7.createCipheriv=browser$7.Cipheriv=Y.createCipheriv,browser$7.createDecipher=browser$7.Decipher=t.createDecipher,browser$7.createDecipheriv=browser$7.Decipheriv=t.createDecipheriv,browser$7.listCiphers=browser$7.getCiphers=se,browser$7}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(Y){Y["des-ecb"]={key:8,iv:0},Y["des-cbc"]=Y.des={key:8,iv:8},Y["des-ede3-cbc"]=Y.des3={key:24,iv:8},Y["des-ede3"]={key:24,iv:0},Y["des-ede-cbc"]={key:16,iv:8},Y["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$8;hasRequiredBrowser$5=1;var Y=requireBrowserifyDes(),t=requireBrowser$6(),s=requireModes$1(),se=requireModes(),fe=requireEvp_bytestokey();function be(me,Ie){me=me.toLowerCase();var fr,Oe;if(s[me])fr=s[me].key,Oe=s[me].iv;else if(se[me])fr=se[me].key*8,Oe=se[me].iv;else throw new TypeError("invalid suite type");var wr=fe(Ie,!1,fr,Oe);return we(me,wr.key,wr.iv)}function xe(me,Ie){me=me.toLowerCase();var fr,Oe;if(s[me])fr=s[me].key,Oe=s[me].iv;else if(se[me])fr=se[me].key*8,Oe=se[me].iv;else throw new TypeError("invalid suite type");var wr=fe(Ie,!1,fr,Oe);return Se(me,wr.key,wr.iv)}function we(me,Ie,fr){if(me=me.toLowerCase(),s[me])return t.createCipheriv(me,Ie,fr);if(se[me])return new Y({key:Ie,iv:fr,mode:me});throw new TypeError("invalid suite type")}function Se(me,Ie,fr){if(me=me.toLowerCase(),s[me])return t.createDecipheriv(me,Ie,fr);if(se[me])return new Y({key:Ie,iv:fr,mode:me,decrypt:!0});throw new TypeError("invalid suite type")}function Ee(){return Object.keys(se).concat(t.getCiphers())}return browser$8.createCipher=browser$8.Cipher=be,browser$8.createCipheriv=browser$8.Cipheriv=we,browser$8.createDecipher=browser$8.Decipher=xe,browser$8.createDecipheriv=browser$8.Decipheriv=Se,browser$8.listCiphers=browser$8.getCiphers=Ee,browser$8}var browser$6={},bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(Y){(function(t,s){function se(hi,Er){if(!hi)throw new Error(Er||"Assertion failed")}function fe(hi,Er){hi.super_=Er;var kr=function(){};kr.prototype=Er.prototype,hi.prototype=new kr,hi.prototype.constructor=hi}function be(hi,Er,kr){if(be.isBN(hi))return hi;this.negative=0,this.words=null,this.length=0,this.red=null,hi!==null&&((Er==="le"||Er==="be")&&(kr=Er,Er=10),this._init(hi||0,Er||10,kr||"be"))}typeof t=="object"?t.exports=be:s.BN=be,be.BN=be,be.wordSize=26;var xe;try{typeof window<"u"&&typeof window.Buffer<"u"?xe=window.Buffer:xe=dist.Buffer}catch{}be.isBN=function(Er){return Er instanceof be?!0:Er!==null&&typeof Er=="object"&&Er.constructor.wordSize===be.wordSize&&Array.isArray(Er.words)},be.max=function(Er,kr){return Er.cmp(kr)>0?Er:kr},be.min=function(Er,kr){return Er.cmp(kr)<0?Er:kr},be.prototype._init=function(Er,kr,Vr){if(typeof Er=="number")return this._initNumber(Er,kr,Vr);if(typeof Er=="object")return this._initArray(Er,kr,Vr);kr==="hex"&&(kr=16),se(kr===(kr|0)&&kr>=2&&kr<=36),Er=Er.toString().replace(/\s+/g,"");var Jr=0;Er[0]==="-"&&(Jr++,this.negative=1),Jr<Er.length&&(kr===16?this._parseHex(Er,Jr,Vr):(this._parseBase(Er,kr,Jr),Vr==="le"&&this._initArray(this.toArray(),kr,Vr)))},be.prototype._initNumber=function(Er,kr,Vr){Er<0&&(this.negative=1,Er=-Er),Er<67108864?(this.words=[Er&67108863],this.length=1):Er<4503599627370496?(this.words=[Er&67108863,Er/67108864&67108863],this.length=2):(se(Er<9007199254740992),this.words=[Er&67108863,Er/67108864&67108863,1],this.length=3),Vr==="le"&&this._initArray(this.toArray(),kr,Vr)},be.prototype._initArray=function(Er,kr,Vr){if(se(typeof Er.length=="number"),Er.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Er.length/3),this.words=new Array(this.length);for(var Jr=0;Jr<this.length;Jr++)this.words[Jr]=0;var ii,Xr,ei=0;if(Vr==="be")for(Jr=Er.length-1,ii=0;Jr>=0;Jr-=3)Xr=Er[Jr]|Er[Jr-1]<<8|Er[Jr-2]<<16,this.words[ii]|=Xr<<ei&67108863,this.words[ii+1]=Xr>>>26-ei&67108863,ei+=24,ei>=26&&(ei-=26,ii++);else if(Vr==="le")for(Jr=0,ii=0;Jr<Er.length;Jr+=3)Xr=Er[Jr]|Er[Jr+1]<<8|Er[Jr+2]<<16,this.words[ii]|=Xr<<ei&67108863,this.words[ii+1]=Xr>>>26-ei&67108863,ei+=24,ei>=26&&(ei-=26,ii++);return this.strip()};function we(hi,Er){var kr=hi.charCodeAt(Er);return kr>=65&&kr<=70?kr-55:kr>=97&&kr<=102?kr-87:kr-48&15}function Se(hi,Er,kr){var Vr=we(hi,kr);return kr-1>=Er&&(Vr|=we(hi,kr-1)<<4),Vr}be.prototype._parseHex=function(Er,kr,Vr){this.length=Math.ceil((Er.length-kr)/6),this.words=new Array(this.length);for(var Jr=0;Jr<this.length;Jr++)this.words[Jr]=0;var ii=0,Xr=0,ei;if(Vr==="be")for(Jr=Er.length-1;Jr>=kr;Jr-=2)ei=Se(Er,kr,Jr)<<ii,this.words[Xr]|=ei&67108863,ii>=18?(ii-=18,Xr+=1,this.words[Xr]|=ei>>>26):ii+=8;else{var Zr=Er.length-kr;for(Jr=Zr%2===0?kr+1:kr;Jr<Er.length;Jr+=2)ei=Se(Er,kr,Jr)<<ii,this.words[Xr]|=ei&67108863,ii>=18?(ii-=18,Xr+=1,this.words[Xr]|=ei>>>26):ii+=8}this.strip()};function Ee(hi,Er,kr,Vr){for(var Jr=0,ii=Math.min(hi.length,kr),Xr=Er;Xr<ii;Xr++){var ei=hi.charCodeAt(Xr)-48;Jr*=Vr,ei>=49?Jr+=ei-49+10:ei>=17?Jr+=ei-17+10:Jr+=ei}return Jr}be.prototype._parseBase=function(Er,kr,Vr){this.words=[0],this.length=1;for(var Jr=0,ii=1;ii<=67108863;ii*=kr)Jr++;Jr--,ii=ii/kr|0;for(var Xr=Er.length-Vr,ei=Xr%Jr,Zr=Math.min(Xr,Xr-ei)+Vr,Br=0,si=Vr;si<Zr;si+=Jr)Br=Ee(Er,si,si+Jr,kr),this.imuln(ii),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br);if(ei!==0){var Si=1;for(Br=Ee(Er,si,Er.length,kr),si=0;si<ei;si++)Si*=kr;this.imuln(Si),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br)}this.strip()},be.prototype.copy=function(Er){Er.words=new Array(this.length);for(var kr=0;kr<this.length;kr++)Er.words[kr]=this.words[kr];Er.length=this.length,Er.negative=this.negative,Er.red=this.red},be.prototype.clone=function(){var Er=new be(null);return this.copy(Er),Er},be.prototype._expand=function(Er){for(;this.length<Er;)this.words[this.length++]=0;return this},be.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},be.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},be.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var me=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ie=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],fr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];be.prototype.toString=function(Er,kr){Er=Er||10,kr=kr|0||1;var Vr;if(Er===16||Er==="hex"){Vr="";for(var Jr=0,ii=0,Xr=0;Xr<this.length;Xr++){var ei=this.words[Xr],Zr=((ei<<Jr|ii)&16777215).toString(16);ii=ei>>>24-Jr&16777215,ii!==0||Xr!==this.length-1?Vr=me[6-Zr.length]+Zr+Vr:Vr=Zr+Vr,Jr+=2,Jr>=26&&(Jr-=26,Xr--)}for(ii!==0&&(Vr=ii.toString(16)+Vr);Vr.length%kr!==0;)Vr="0"+Vr;return this.negative!==0&&(Vr="-"+Vr),Vr}if(Er===(Er|0)&&Er>=2&&Er<=36){var Br=Ie[Er],si=fr[Er];Vr="";var Si=this.clone();for(Si.negative=0;!Si.isZero();){var Ei=Si.modn(si).toString(Er);Si=Si.idivn(si),Si.isZero()?Vr=Ei+Vr:Vr=me[Br-Ei.length]+Ei+Vr}for(this.isZero()&&(Vr="0"+Vr);Vr.length%kr!==0;)Vr="0"+Vr;return this.negative!==0&&(Vr="-"+Vr),Vr}se(!1,"Base should be between 2 and 36")},be.prototype.toNumber=function(){var Er=this.words[0];return this.length===2?Er+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Er+=4503599627370496+this.words[1]*67108864:this.length>2&&se(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Er:Er},be.prototype.toJSON=function(){return this.toString(16)},be.prototype.toBuffer=function(Er,kr){return se(typeof xe<"u"),this.toArrayLike(xe,Er,kr)},be.prototype.toArray=function(Er,kr){return this.toArrayLike(Array,Er,kr)},be.prototype.toArrayLike=function(Er,kr,Vr){var Jr=this.byteLength(),ii=Vr||Math.max(1,Jr);se(Jr<=ii,"byte array longer than desired length"),se(ii>0,"Requested array length <= 0"),this.strip();var Xr=kr==="le",ei=new Er(ii),Zr,Br,si=this.clone();if(Xr){for(Br=0;!si.isZero();Br++)Zr=si.andln(255),si.iushrn(8),ei[Br]=Zr;for(;Br<ii;Br++)ei[Br]=0}else{for(Br=0;Br<ii-Jr;Br++)ei[Br]=0;for(Br=0;!si.isZero();Br++)Zr=si.andln(255),si.iushrn(8),ei[ii-Br-1]=Zr}return ei},Math.clz32?be.prototype._countBits=function(Er){return 32-Math.clz32(Er)}:be.prototype._countBits=function(Er){var kr=Er,Vr=0;return kr>=4096&&(Vr+=13,kr>>>=13),kr>=64&&(Vr+=7,kr>>>=7),kr>=8&&(Vr+=4,kr>>>=4),kr>=2&&(Vr+=2,kr>>>=2),Vr+kr},be.prototype._zeroBits=function(Er){if(Er===0)return 26;var kr=Er,Vr=0;return kr&8191||(Vr+=13,kr>>>=13),kr&127||(Vr+=7,kr>>>=7),kr&15||(Vr+=4,kr>>>=4),kr&3||(Vr+=2,kr>>>=2),kr&1||Vr++,Vr},be.prototype.bitLength=function(){var Er=this.words[this.length-1],kr=this._countBits(Er);return(this.length-1)*26+kr};function Oe(hi){for(var Er=new Array(hi.bitLength()),kr=0;kr<Er.length;kr++){var Vr=kr/26|0,Jr=kr%26;Er[kr]=(hi.words[Vr]&1<<Jr)>>>Jr}return Er}be.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Er=0,kr=0;kr<this.length;kr++){var Vr=this._zeroBits(this.words[kr]);if(Er+=Vr,Vr!==26)break}return Er},be.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},be.prototype.toTwos=function(Er){return this.negative!==0?this.abs().inotn(Er).iaddn(1):this.clone()},be.prototype.fromTwos=function(Er){return this.testn(Er-1)?this.notn(Er).iaddn(1).ineg():this.clone()},be.prototype.isNeg=function(){return this.negative!==0},be.prototype.neg=function(){return this.clone().ineg()},be.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},be.prototype.iuor=function(Er){for(;this.length<Er.length;)this.words[this.length++]=0;for(var kr=0;kr<Er.length;kr++)this.words[kr]=this.words[kr]|Er.words[kr];return this.strip()},be.prototype.ior=function(Er){return se((this.negative|Er.negative)===0),this.iuor(Er)},be.prototype.or=function(Er){return this.length>Er.length?this.clone().ior(Er):Er.clone().ior(this)},be.prototype.uor=function(Er){return this.length>Er.length?this.clone().iuor(Er):Er.clone().iuor(this)},be.prototype.iuand=function(Er){var kr;this.length>Er.length?kr=Er:kr=this;for(var Vr=0;Vr<kr.length;Vr++)this.words[Vr]=this.words[Vr]&Er.words[Vr];return this.length=kr.length,this.strip()},be.prototype.iand=function(Er){return se((this.negative|Er.negative)===0),this.iuand(Er)},be.prototype.and=function(Er){return this.length>Er.length?this.clone().iand(Er):Er.clone().iand(this)},be.prototype.uand=function(Er){return this.length>Er.length?this.clone().iuand(Er):Er.clone().iuand(this)},be.prototype.iuxor=function(Er){var kr,Vr;this.length>Er.length?(kr=this,Vr=Er):(kr=Er,Vr=this);for(var Jr=0;Jr<Vr.length;Jr++)this.words[Jr]=kr.words[Jr]^Vr.words[Jr];if(this!==kr)for(;Jr<kr.length;Jr++)this.words[Jr]=kr.words[Jr];return this.length=kr.length,this.strip()},be.prototype.ixor=function(Er){return se((this.negative|Er.negative)===0),this.iuxor(Er)},be.prototype.xor=function(Er){return this.length>Er.length?this.clone().ixor(Er):Er.clone().ixor(this)},be.prototype.uxor=function(Er){return this.length>Er.length?this.clone().iuxor(Er):Er.clone().iuxor(this)},be.prototype.inotn=function(Er){se(typeof Er=="number"&&Er>=0);var kr=Math.ceil(Er/26)|0,Vr=Er%26;this._expand(kr),Vr>0&&kr--;for(var Jr=0;Jr<kr;Jr++)this.words[Jr]=~this.words[Jr]&67108863;return Vr>0&&(this.words[Jr]=~this.words[Jr]&67108863>>26-Vr),this.strip()},be.prototype.notn=function(Er){return this.clone().inotn(Er)},be.prototype.setn=function(Er,kr){se(typeof Er=="number"&&Er>=0);var Vr=Er/26|0,Jr=Er%26;return this._expand(Vr+1),kr?this.words[Vr]=this.words[Vr]|1<<Jr:this.words[Vr]=this.words[Vr]&~(1<<Jr),this.strip()},be.prototype.iadd=function(Er){var kr;if(this.negative!==0&&Er.negative===0)return this.negative=0,kr=this.isub(Er),this.negative^=1,this._normSign();if(this.negative===0&&Er.negative!==0)return Er.negative=0,kr=this.isub(Er),Er.negative=1,kr._normSign();var Vr,Jr;this.length>Er.length?(Vr=this,Jr=Er):(Vr=Er,Jr=this);for(var ii=0,Xr=0;Xr<Jr.length;Xr++)kr=(Vr.words[Xr]|0)+(Jr.words[Xr]|0)+ii,this.words[Xr]=kr&67108863,ii=kr>>>26;for(;ii!==0&&Xr<Vr.length;Xr++)kr=(Vr.words[Xr]|0)+ii,this.words[Xr]=kr&67108863,ii=kr>>>26;if(this.length=Vr.length,ii!==0)this.words[this.length]=ii,this.length++;else if(Vr!==this)for(;Xr<Vr.length;Xr++)this.words[Xr]=Vr.words[Xr];return this},be.prototype.add=function(Er){var kr;return Er.negative!==0&&this.negative===0?(Er.negative=0,kr=this.sub(Er),Er.negative^=1,kr):Er.negative===0&&this.negative!==0?(this.negative=0,kr=Er.sub(this),this.negative=1,kr):this.length>Er.length?this.clone().iadd(Er):Er.clone().iadd(this)},be.prototype.isub=function(Er){if(Er.negative!==0){Er.negative=0;var kr=this.iadd(Er);return Er.negative=1,kr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Er),this.negative=1,this._normSign();var Vr=this.cmp(Er);if(Vr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Jr,ii;Vr>0?(Jr=this,ii=Er):(Jr=Er,ii=this);for(var Xr=0,ei=0;ei<ii.length;ei++)kr=(Jr.words[ei]|0)-(ii.words[ei]|0)+Xr,Xr=kr>>26,this.words[ei]=kr&67108863;for(;Xr!==0&&ei<Jr.length;ei++)kr=(Jr.words[ei]|0)+Xr,Xr=kr>>26,this.words[ei]=kr&67108863;if(Xr===0&&ei<Jr.length&&Jr!==this)for(;ei<Jr.length;ei++)this.words[ei]=Jr.words[ei];return this.length=Math.max(this.length,ei),Jr!==this&&(this.negative=1),this.strip()},be.prototype.sub=function(Er){return this.clone().isub(Er)};function wr(hi,Er,kr){kr.negative=Er.negative^hi.negative;var Vr=hi.length+Er.length|0;kr.length=Vr,Vr=Vr-1|0;var Jr=hi.words[0]|0,ii=Er.words[0]|0,Xr=Jr*ii,ei=Xr&67108863,Zr=Xr/67108864|0;kr.words[0]=ei;for(var Br=1;Br<Vr;Br++){for(var si=Zr>>>26,Si=Zr&67108863,Ei=Math.min(Br,Er.length-1),qi=Math.max(0,Br-hi.length+1);qi<=Ei;qi++){var Ii=Br-qi|0;Jr=hi.words[Ii]|0,ii=Er.words[qi]|0,Xr=Jr*ii+Si,si+=Xr/67108864|0,Si=Xr&67108863}kr.words[Br]=Si|0,Zr=si|0}return Zr!==0?kr.words[Br]=Zr|0:kr.length--,kr.strip()}var qr=function(Er,kr,Vr){var Jr=Er.words,ii=kr.words,Xr=Vr.words,ei=0,Zr,Br,si,Si=Jr[0]|0,Ei=Si&8191,qi=Si>>>13,Ii=Jr[1]|0,Ni=Ii&8191,ri=Ii>>>13,ai=Jr[2]|0,li=ai&8191,Hr=ai>>>13,vi=Jr[3]|0,xi=vi&8191,Di=vi>>>13,Rn=Jr[4]|0,Ki=Rn&8191,wn=Rn>>>13,Nn=Jr[5]|0,Tn=Nn&8191,jn=Nn>>>13,Yn=Jr[6]|0,ji=Yn&8191,Vi=Yn>>>13,On=Jr[7]|0,ki=On&8191,Ti=On>>>13,ta=Jr[8]|0,zi=ta&8191,$n=ta>>>13,ha=Jr[9]|0,En=ha&8191,An=ha>>>13,wa=ii[0]|0,Pn=wa&8191,Cn=wa>>>13,Da=ii[1]|0,Aa=Da&8191,Ca=Da>>>13,Mo=ii[2]|0,Ma=Mo&8191,ja=Mo>>>13,Wo=ii[3]|0,Ha=Wo&8191,na=Wo>>>13,Va=ii[4]|0,sa=Va&8191,aa=Va>>>13,Ya=ii[5]|0,ra=Ya&8191,la=Ya>>>13,no=ii[6]|0,oa=no&8191,pa=no>>>13,Qa=ii[7]|0,da=Qa&8191,ca=Qa>>>13,za=ii[8]|0,va=za&8191,ga=za>>>13,ef=ii[9]|0,to=ef&8191,ro=ef>>>13;Vr.negative=Er.negative^kr.negative,Vr.length=19,Zr=Math.imul(Ei,Pn),Br=Math.imul(Ei,Cn),Br=Br+Math.imul(qi,Pn)|0,si=Math.imul(qi,Cn);var yo=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(yo>>>26)|0,yo&=67108863,Zr=Math.imul(Ni,Pn),Br=Math.imul(Ni,Cn),Br=Br+Math.imul(ri,Pn)|0,si=Math.imul(ri,Cn),Zr=Zr+Math.imul(Ei,Aa)|0,Br=Br+Math.imul(Ei,Ca)|0,Br=Br+Math.imul(qi,Aa)|0,si=si+Math.imul(qi,Ca)|0;var Ac=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(Ac>>>26)|0,Ac&=67108863,Zr=Math.imul(li,Pn),Br=Math.imul(li,Cn),Br=Br+Math.imul(Hr,Pn)|0,si=Math.imul(Hr,Cn),Zr=Zr+Math.imul(Ni,Aa)|0,Br=Br+Math.imul(Ni,Ca)|0,Br=Br+Math.imul(ri,Aa)|0,si=si+Math.imul(ri,Ca)|0,Zr=Zr+Math.imul(Ei,Ma)|0,Br=Br+Math.imul(Ei,ja)|0,Br=Br+Math.imul(qi,Ma)|0,si=si+Math.imul(qi,ja)|0;var Mc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,Zr=Math.imul(xi,Pn),Br=Math.imul(xi,Cn),Br=Br+Math.imul(Di,Pn)|0,si=Math.imul(Di,Cn),Zr=Zr+Math.imul(li,Aa)|0,Br=Br+Math.imul(li,Ca)|0,Br=Br+Math.imul(Hr,Aa)|0,si=si+Math.imul(Hr,Ca)|0,Zr=Zr+Math.imul(Ni,Ma)|0,Br=Br+Math.imul(Ni,ja)|0,Br=Br+Math.imul(ri,Ma)|0,si=si+Math.imul(ri,ja)|0,Zr=Zr+Math.imul(Ei,Ha)|0,Br=Br+Math.imul(Ei,na)|0,Br=Br+Math.imul(qi,Ha)|0,si=si+Math.imul(qi,na)|0;var Pc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(Pc>>>26)|0,Pc&=67108863,Zr=Math.imul(Ki,Pn),Br=Math.imul(Ki,Cn),Br=Br+Math.imul(wn,Pn)|0,si=Math.imul(wn,Cn),Zr=Zr+Math.imul(xi,Aa)|0,Br=Br+Math.imul(xi,Ca)|0,Br=Br+Math.imul(Di,Aa)|0,si=si+Math.imul(Di,Ca)|0,Zr=Zr+Math.imul(li,Ma)|0,Br=Br+Math.imul(li,ja)|0,Br=Br+Math.imul(Hr,Ma)|0,si=si+Math.imul(Hr,ja)|0,Zr=Zr+Math.imul(Ni,Ha)|0,Br=Br+Math.imul(Ni,na)|0,Br=Br+Math.imul(ri,Ha)|0,si=si+Math.imul(ri,na)|0,Zr=Zr+Math.imul(Ei,sa)|0,Br=Br+Math.imul(Ei,aa)|0,Br=Br+Math.imul(qi,sa)|0,si=si+Math.imul(qi,aa)|0;var Cc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(Cc>>>26)|0,Cc&=67108863,Zr=Math.imul(Tn,Pn),Br=Math.imul(Tn,Cn),Br=Br+Math.imul(jn,Pn)|0,si=Math.imul(jn,Cn),Zr=Zr+Math.imul(Ki,Aa)|0,Br=Br+Math.imul(Ki,Ca)|0,Br=Br+Math.imul(wn,Aa)|0,si=si+Math.imul(wn,Ca)|0,Zr=Zr+Math.imul(xi,Ma)|0,Br=Br+Math.imul(xi,ja)|0,Br=Br+Math.imul(Di,Ma)|0,si=si+Math.imul(Di,ja)|0,Zr=Zr+Math.imul(li,Ha)|0,Br=Br+Math.imul(li,na)|0,Br=Br+Math.imul(Hr,Ha)|0,si=si+Math.imul(Hr,na)|0,Zr=Zr+Math.imul(Ni,sa)|0,Br=Br+Math.imul(Ni,aa)|0,Br=Br+Math.imul(ri,sa)|0,si=si+Math.imul(ri,aa)|0,Zr=Zr+Math.imul(Ei,ra)|0,Br=Br+Math.imul(Ei,la)|0,Br=Br+Math.imul(qi,ra)|0,si=si+Math.imul(qi,la)|0;var Oc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(Oc>>>26)|0,Oc&=67108863,Zr=Math.imul(ji,Pn),Br=Math.imul(ji,Cn),Br=Br+Math.imul(Vi,Pn)|0,si=Math.imul(Vi,Cn),Zr=Zr+Math.imul(Tn,Aa)|0,Br=Br+Math.imul(Tn,Ca)|0,Br=Br+Math.imul(jn,Aa)|0,si=si+Math.imul(jn,Ca)|0,Zr=Zr+Math.imul(Ki,Ma)|0,Br=Br+Math.imul(Ki,ja)|0,Br=Br+Math.imul(wn,Ma)|0,si=si+Math.imul(wn,ja)|0,Zr=Zr+Math.imul(xi,Ha)|0,Br=Br+Math.imul(xi,na)|0,Br=Br+Math.imul(Di,Ha)|0,si=si+Math.imul(Di,na)|0,Zr=Zr+Math.imul(li,sa)|0,Br=Br+Math.imul(li,aa)|0,Br=Br+Math.imul(Hr,sa)|0,si=si+Math.imul(Hr,aa)|0,Zr=Zr+Math.imul(Ni,ra)|0,Br=Br+Math.imul(Ni,la)|0,Br=Br+Math.imul(ri,ra)|0,si=si+Math.imul(ri,la)|0,Zr=Zr+Math.imul(Ei,oa)|0,Br=Br+Math.imul(Ei,pa)|0,Br=Br+Math.imul(qi,oa)|0,si=si+Math.imul(qi,pa)|0;var Po=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(Po>>>26)|0,Po&=67108863,Zr=Math.imul(ki,Pn),Br=Math.imul(ki,Cn),Br=Br+Math.imul(Ti,Pn)|0,si=Math.imul(Ti,Cn),Zr=Zr+Math.imul(ji,Aa)|0,Br=Br+Math.imul(ji,Ca)|0,Br=Br+Math.imul(Vi,Aa)|0,si=si+Math.imul(Vi,Ca)|0,Zr=Zr+Math.imul(Tn,Ma)|0,Br=Br+Math.imul(Tn,ja)|0,Br=Br+Math.imul(jn,Ma)|0,si=si+Math.imul(jn,ja)|0,Zr=Zr+Math.imul(Ki,Ha)|0,Br=Br+Math.imul(Ki,na)|0,Br=Br+Math.imul(wn,Ha)|0,si=si+Math.imul(wn,na)|0,Zr=Zr+Math.imul(xi,sa)|0,Br=Br+Math.imul(xi,aa)|0,Br=Br+Math.imul(Di,sa)|0,si=si+Math.imul(Di,aa)|0,Zr=Zr+Math.imul(li,ra)|0,Br=Br+Math.imul(li,la)|0,Br=Br+Math.imul(Hr,ra)|0,si=si+Math.imul(Hr,la)|0,Zr=Zr+Math.imul(Ni,oa)|0,Br=Br+Math.imul(Ni,pa)|0,Br=Br+Math.imul(ri,oa)|0,si=si+Math.imul(ri,pa)|0,Zr=Zr+Math.imul(Ei,da)|0,Br=Br+Math.imul(Ei,ca)|0,Br=Br+Math.imul(qi,da)|0,si=si+Math.imul(qi,ca)|0;var Zo=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,Zr=Math.imul(zi,Pn),Br=Math.imul(zi,Cn),Br=Br+Math.imul($n,Pn)|0,si=Math.imul($n,Cn),Zr=Zr+Math.imul(ki,Aa)|0,Br=Br+Math.imul(ki,Ca)|0,Br=Br+Math.imul(Ti,Aa)|0,si=si+Math.imul(Ti,Ca)|0,Zr=Zr+Math.imul(ji,Ma)|0,Br=Br+Math.imul(ji,ja)|0,Br=Br+Math.imul(Vi,Ma)|0,si=si+Math.imul(Vi,ja)|0,Zr=Zr+Math.imul(Tn,Ha)|0,Br=Br+Math.imul(Tn,na)|0,Br=Br+Math.imul(jn,Ha)|0,si=si+Math.imul(jn,na)|0,Zr=Zr+Math.imul(Ki,sa)|0,Br=Br+Math.imul(Ki,aa)|0,Br=Br+Math.imul(wn,sa)|0,si=si+Math.imul(wn,aa)|0,Zr=Zr+Math.imul(xi,ra)|0,Br=Br+Math.imul(xi,la)|0,Br=Br+Math.imul(Di,ra)|0,si=si+Math.imul(Di,la)|0,Zr=Zr+Math.imul(li,oa)|0,Br=Br+Math.imul(li,pa)|0,Br=Br+Math.imul(Hr,oa)|0,si=si+Math.imul(Hr,pa)|0,Zr=Zr+Math.imul(Ni,da)|0,Br=Br+Math.imul(Ni,ca)|0,Br=Br+Math.imul(ri,da)|0,si=si+Math.imul(ri,ca)|0,Zr=Zr+Math.imul(Ei,va)|0,Br=Br+Math.imul(Ei,ga)|0,Br=Br+Math.imul(qi,va)|0,si=si+Math.imul(qi,ga)|0;var Bc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(Bc>>>26)|0,Bc&=67108863,Zr=Math.imul(En,Pn),Br=Math.imul(En,Cn),Br=Br+Math.imul(An,Pn)|0,si=Math.imul(An,Cn),Zr=Zr+Math.imul(zi,Aa)|0,Br=Br+Math.imul(zi,Ca)|0,Br=Br+Math.imul($n,Aa)|0,si=si+Math.imul($n,Ca)|0,Zr=Zr+Math.imul(ki,Ma)|0,Br=Br+Math.imul(ki,ja)|0,Br=Br+Math.imul(Ti,Ma)|0,si=si+Math.imul(Ti,ja)|0,Zr=Zr+Math.imul(ji,Ha)|0,Br=Br+Math.imul(ji,na)|0,Br=Br+Math.imul(Vi,Ha)|0,si=si+Math.imul(Vi,na)|0,Zr=Zr+Math.imul(Tn,sa)|0,Br=Br+Math.imul(Tn,aa)|0,Br=Br+Math.imul(jn,sa)|0,si=si+Math.imul(jn,aa)|0,Zr=Zr+Math.imul(Ki,ra)|0,Br=Br+Math.imul(Ki,la)|0,Br=Br+Math.imul(wn,ra)|0,si=si+Math.imul(wn,la)|0,Zr=Zr+Math.imul(xi,oa)|0,Br=Br+Math.imul(xi,pa)|0,Br=Br+Math.imul(Di,oa)|0,si=si+Math.imul(Di,pa)|0,Zr=Zr+Math.imul(li,da)|0,Br=Br+Math.imul(li,ca)|0,Br=Br+Math.imul(Hr,da)|0,si=si+Math.imul(Hr,ca)|0,Zr=Zr+Math.imul(Ni,va)|0,Br=Br+Math.imul(Ni,ga)|0,Br=Br+Math.imul(ri,va)|0,si=si+Math.imul(ri,ga)|0,Zr=Zr+Math.imul(Ei,to)|0,Br=Br+Math.imul(Ei,ro)|0,Br=Br+Math.imul(qi,to)|0,si=si+Math.imul(qi,ro)|0;var tc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(tc>>>26)|0,tc&=67108863,Zr=Math.imul(En,Aa),Br=Math.imul(En,Ca),Br=Br+Math.imul(An,Aa)|0,si=Math.imul(An,Ca),Zr=Zr+Math.imul(zi,Ma)|0,Br=Br+Math.imul(zi,ja)|0,Br=Br+Math.imul($n,Ma)|0,si=si+Math.imul($n,ja)|0,Zr=Zr+Math.imul(ki,Ha)|0,Br=Br+Math.imul(ki,na)|0,Br=Br+Math.imul(Ti,Ha)|0,si=si+Math.imul(Ti,na)|0,Zr=Zr+Math.imul(ji,sa)|0,Br=Br+Math.imul(ji,aa)|0,Br=Br+Math.imul(Vi,sa)|0,si=si+Math.imul(Vi,aa)|0,Zr=Zr+Math.imul(Tn,ra)|0,Br=Br+Math.imul(Tn,la)|0,Br=Br+Math.imul(jn,ra)|0,si=si+Math.imul(jn,la)|0,Zr=Zr+Math.imul(Ki,oa)|0,Br=Br+Math.imul(Ki,pa)|0,Br=Br+Math.imul(wn,oa)|0,si=si+Math.imul(wn,pa)|0,Zr=Zr+Math.imul(xi,da)|0,Br=Br+Math.imul(xi,ca)|0,Br=Br+Math.imul(Di,da)|0,si=si+Math.imul(Di,ca)|0,Zr=Zr+Math.imul(li,va)|0,Br=Br+Math.imul(li,ga)|0,Br=Br+Math.imul(Hr,va)|0,si=si+Math.imul(Hr,ga)|0,Zr=Zr+Math.imul(Ni,to)|0,Br=Br+Math.imul(Ni,ro)|0,Br=Br+Math.imul(ri,to)|0,si=si+Math.imul(ri,ro)|0;var Nc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(Nc>>>26)|0,Nc&=67108863,Zr=Math.imul(En,Ma),Br=Math.imul(En,ja),Br=Br+Math.imul(An,Ma)|0,si=Math.imul(An,ja),Zr=Zr+Math.imul(zi,Ha)|0,Br=Br+Math.imul(zi,na)|0,Br=Br+Math.imul($n,Ha)|0,si=si+Math.imul($n,na)|0,Zr=Zr+Math.imul(ki,sa)|0,Br=Br+Math.imul(ki,aa)|0,Br=Br+Math.imul(Ti,sa)|0,si=si+Math.imul(Ti,aa)|0,Zr=Zr+Math.imul(ji,ra)|0,Br=Br+Math.imul(ji,la)|0,Br=Br+Math.imul(Vi,ra)|0,si=si+Math.imul(Vi,la)|0,Zr=Zr+Math.imul(Tn,oa)|0,Br=Br+Math.imul(Tn,pa)|0,Br=Br+Math.imul(jn,oa)|0,si=si+Math.imul(jn,pa)|0,Zr=Zr+Math.imul(Ki,da)|0,Br=Br+Math.imul(Ki,ca)|0,Br=Br+Math.imul(wn,da)|0,si=si+Math.imul(wn,ca)|0,Zr=Zr+Math.imul(xi,va)|0,Br=Br+Math.imul(xi,ga)|0,Br=Br+Math.imul(Di,va)|0,si=si+Math.imul(Di,ga)|0,Zr=Zr+Math.imul(li,to)|0,Br=Br+Math.imul(li,ro)|0,Br=Br+Math.imul(Hr,to)|0,si=si+Math.imul(Hr,ro)|0;var Tc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(Tc>>>26)|0,Tc&=67108863,Zr=Math.imul(En,Ha),Br=Math.imul(En,na),Br=Br+Math.imul(An,Ha)|0,si=Math.imul(An,na),Zr=Zr+Math.imul(zi,sa)|0,Br=Br+Math.imul(zi,aa)|0,Br=Br+Math.imul($n,sa)|0,si=si+Math.imul($n,aa)|0,Zr=Zr+Math.imul(ki,ra)|0,Br=Br+Math.imul(ki,la)|0,Br=Br+Math.imul(Ti,ra)|0,si=si+Math.imul(Ti,la)|0,Zr=Zr+Math.imul(ji,oa)|0,Br=Br+Math.imul(ji,pa)|0,Br=Br+Math.imul(Vi,oa)|0,si=si+Math.imul(Vi,pa)|0,Zr=Zr+Math.imul(Tn,da)|0,Br=Br+Math.imul(Tn,ca)|0,Br=Br+Math.imul(jn,da)|0,si=si+Math.imul(jn,ca)|0,Zr=Zr+Math.imul(Ki,va)|0,Br=Br+Math.imul(Ki,ga)|0,Br=Br+Math.imul(wn,va)|0,si=si+Math.imul(wn,ga)|0,Zr=Zr+Math.imul(xi,to)|0,Br=Br+Math.imul(xi,ro)|0,Br=Br+Math.imul(Di,to)|0,si=si+Math.imul(Di,ro)|0;var rc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(rc>>>26)|0,rc&=67108863,Zr=Math.imul(En,sa),Br=Math.imul(En,aa),Br=Br+Math.imul(An,sa)|0,si=Math.imul(An,aa),Zr=Zr+Math.imul(zi,ra)|0,Br=Br+Math.imul(zi,la)|0,Br=Br+Math.imul($n,ra)|0,si=si+Math.imul($n,la)|0,Zr=Zr+Math.imul(ki,oa)|0,Br=Br+Math.imul(ki,pa)|0,Br=Br+Math.imul(Ti,oa)|0,si=si+Math.imul(Ti,pa)|0,Zr=Zr+Math.imul(ji,da)|0,Br=Br+Math.imul(ji,ca)|0,Br=Br+Math.imul(Vi,da)|0,si=si+Math.imul(Vi,ca)|0,Zr=Zr+Math.imul(Tn,va)|0,Br=Br+Math.imul(Tn,ga)|0,Br=Br+Math.imul(jn,va)|0,si=si+Math.imul(jn,ga)|0,Zr=Zr+Math.imul(Ki,to)|0,Br=Br+Math.imul(Ki,ro)|0,Br=Br+Math.imul(wn,to)|0,si=si+Math.imul(wn,ro)|0;var yc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(yc>>>26)|0,yc&=67108863,Zr=Math.imul(En,ra),Br=Math.imul(En,la),Br=Br+Math.imul(An,ra)|0,si=Math.imul(An,la),Zr=Zr+Math.imul(zi,oa)|0,Br=Br+Math.imul(zi,pa)|0,Br=Br+Math.imul($n,oa)|0,si=si+Math.imul($n,pa)|0,Zr=Zr+Math.imul(ki,da)|0,Br=Br+Math.imul(ki,ca)|0,Br=Br+Math.imul(Ti,da)|0,si=si+Math.imul(Ti,ca)|0,Zr=Zr+Math.imul(ji,va)|0,Br=Br+Math.imul(ji,ga)|0,Br=Br+Math.imul(Vi,va)|0,si=si+Math.imul(Vi,ga)|0,Zr=Zr+Math.imul(Tn,to)|0,Br=Br+Math.imul(Tn,ro)|0,Br=Br+Math.imul(jn,to)|0,si=si+Math.imul(jn,ro)|0;var mc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(mc>>>26)|0,mc&=67108863,Zr=Math.imul(En,oa),Br=Math.imul(En,pa),Br=Br+Math.imul(An,oa)|0,si=Math.imul(An,pa),Zr=Zr+Math.imul(zi,da)|0,Br=Br+Math.imul(zi,ca)|0,Br=Br+Math.imul($n,da)|0,si=si+Math.imul($n,ca)|0,Zr=Zr+Math.imul(ki,va)|0,Br=Br+Math.imul(ki,ga)|0,Br=Br+Math.imul(Ti,va)|0,si=si+Math.imul(Ti,ga)|0,Zr=Zr+Math.imul(ji,to)|0,Br=Br+Math.imul(ji,ro)|0,Br=Br+Math.imul(Vi,to)|0,si=si+Math.imul(Vi,ro)|0;var wo=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(wo>>>26)|0,wo&=67108863,Zr=Math.imul(En,da),Br=Math.imul(En,ca),Br=Br+Math.imul(An,da)|0,si=Math.imul(An,ca),Zr=Zr+Math.imul(zi,va)|0,Br=Br+Math.imul(zi,ga)|0,Br=Br+Math.imul($n,va)|0,si=si+Math.imul($n,ga)|0,Zr=Zr+Math.imul(ki,to)|0,Br=Br+Math.imul(ki,ro)|0,Br=Br+Math.imul(Ti,to)|0,si=si+Math.imul(Ti,ro)|0;var Uc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(Uc>>>26)|0,Uc&=67108863,Zr=Math.imul(En,va),Br=Math.imul(En,ga),Br=Br+Math.imul(An,va)|0,si=Math.imul(An,ga),Zr=Zr+Math.imul(zi,to)|0,Br=Br+Math.imul(zi,ro)|0,Br=Br+Math.imul($n,to)|0,si=si+Math.imul($n,ro)|0;var jc=(ei+Zr|0)+((Br&8191)<<13)|0;ei=(si+(Br>>>13)|0)+(jc>>>26)|0,jc&=67108863,Zr=Math.imul(En,to),Br=Math.imul(En,ro),Br=Br+Math.imul(An,to)|0,si=Math.imul(An,ro);var Lc=(ei+Zr|0)+((Br&8191)<<13)|0;return ei=(si+(Br>>>13)|0)+(Lc>>>26)|0,Lc&=67108863,Xr[0]=yo,Xr[1]=Ac,Xr[2]=Mc,Xr[3]=Pc,Xr[4]=Cc,Xr[5]=Oc,Xr[6]=Po,Xr[7]=Zo,Xr[8]=Bc,Xr[9]=tc,Xr[10]=Nc,Xr[11]=Tc,Xr[12]=rc,Xr[13]=yc,Xr[14]=mc,Xr[15]=wo,Xr[16]=Uc,Xr[17]=jc,Xr[18]=Lc,ei!==0&&(Xr[19]=ei,Vr.length++),Vr};Math.imul||(qr=wr);function Gr(hi,Er,kr){kr.negative=Er.negative^hi.negative,kr.length=hi.length+Er.length;for(var Vr=0,Jr=0,ii=0;ii<kr.length-1;ii++){var Xr=Jr;Jr=0;for(var ei=Vr&67108863,Zr=Math.min(ii,Er.length-1),Br=Math.max(0,ii-hi.length+1);Br<=Zr;Br++){var si=ii-Br,Si=hi.words[si]|0,Ei=Er.words[Br]|0,qi=Si*Ei,Ii=qi&67108863;Xr=Xr+(qi/67108864|0)|0,Ii=Ii+ei|0,ei=Ii&67108863,Xr=Xr+(Ii>>>26)|0,Jr+=Xr>>>26,Xr&=67108863}kr.words[ii]=ei,Vr=Xr,Xr=Jr}return Vr!==0?kr.words[ii]=Vr:kr.length--,kr.strip()}function Yr(hi,Er,kr){var Vr=new Wr;return Vr.mulp(hi,Er,kr)}be.prototype.mulTo=function(Er,kr){var Vr,Jr=this.length+Er.length;return this.length===10&&Er.length===10?Vr=qr(this,Er,kr):Jr<63?Vr=wr(this,Er,kr):Jr<1024?Vr=Gr(this,Er,kr):Vr=Yr(this,Er,kr),Vr};function Wr(hi,Er){this.x=hi,this.y=Er}Wr.prototype.makeRBT=function(Er){for(var kr=new Array(Er),Vr=be.prototype._countBits(Er)-1,Jr=0;Jr<Er;Jr++)kr[Jr]=this.revBin(Jr,Vr,Er);return kr},Wr.prototype.revBin=function(Er,kr,Vr){if(Er===0||Er===Vr-1)return Er;for(var Jr=0,ii=0;ii<kr;ii++)Jr|=(Er&1)<<kr-ii-1,Er>>=1;return Jr},Wr.prototype.permute=function(Er,kr,Vr,Jr,ii,Xr){for(var ei=0;ei<Xr;ei++)Jr[ei]=kr[Er[ei]],ii[ei]=Vr[Er[ei]]},Wr.prototype.transform=function(Er,kr,Vr,Jr,ii,Xr){this.permute(Xr,Er,kr,Vr,Jr,ii);for(var ei=1;ei<ii;ei<<=1)for(var Zr=ei<<1,Br=Math.cos(2*Math.PI/Zr),si=Math.sin(2*Math.PI/Zr),Si=0;Si<ii;Si+=Zr)for(var Ei=Br,qi=si,Ii=0;Ii<ei;Ii++){var Ni=Vr[Si+Ii],ri=Jr[Si+Ii],ai=Vr[Si+Ii+ei],li=Jr[Si+Ii+ei],Hr=Ei*ai-qi*li;li=Ei*li+qi*ai,ai=Hr,Vr[Si+Ii]=Ni+ai,Jr[Si+Ii]=ri+li,Vr[Si+Ii+ei]=Ni-ai,Jr[Si+Ii+ei]=ri-li,Ii!==Zr&&(Hr=Br*Ei-si*qi,qi=Br*qi+si*Ei,Ei=Hr)}},Wr.prototype.guessLen13b=function(Er,kr){var Vr=Math.max(kr,Er)|1,Jr=Vr&1,ii=0;for(Vr=Vr/2|0;Vr;Vr=Vr>>>1)ii++;return 1<<ii+1+Jr},Wr.prototype.conjugate=function(Er,kr,Vr){if(!(Vr<=1))for(var Jr=0;Jr<Vr/2;Jr++){var ii=Er[Jr];Er[Jr]=Er[Vr-Jr-1],Er[Vr-Jr-1]=ii,ii=kr[Jr],kr[Jr]=-kr[Vr-Jr-1],kr[Vr-Jr-1]=-ii}},Wr.prototype.normalize13b=function(Er,kr){for(var Vr=0,Jr=0;Jr<kr/2;Jr++){var ii=Math.round(Er[2*Jr+1]/kr)*8192+Math.round(Er[2*Jr]/kr)+Vr;Er[Jr]=ii&67108863,ii<67108864?Vr=0:Vr=ii/67108864|0}return Er},Wr.prototype.convert13b=function(Er,kr,Vr,Jr){for(var ii=0,Xr=0;Xr<kr;Xr++)ii=ii+(Er[Xr]|0),Vr[2*Xr]=ii&8191,ii=ii>>>13,Vr[2*Xr+1]=ii&8191,ii=ii>>>13;for(Xr=2*kr;Xr<Jr;++Xr)Vr[Xr]=0;se(ii===0),se((ii&-8192)===0)},Wr.prototype.stub=function(Er){for(var kr=new Array(Er),Vr=0;Vr<Er;Vr++)kr[Vr]=0;return kr},Wr.prototype.mulp=function(Er,kr,Vr){var Jr=2*this.guessLen13b(Er.length,kr.length),ii=this.makeRBT(Jr),Xr=this.stub(Jr),ei=new Array(Jr),Zr=new Array(Jr),Br=new Array(Jr),si=new Array(Jr),Si=new Array(Jr),Ei=new Array(Jr),qi=Vr.words;qi.length=Jr,this.convert13b(Er.words,Er.length,ei,Jr),this.convert13b(kr.words,kr.length,si,Jr),this.transform(ei,Xr,Zr,Br,Jr,ii),this.transform(si,Xr,Si,Ei,Jr,ii);for(var Ii=0;Ii<Jr;Ii++){var Ni=Zr[Ii]*Si[Ii]-Br[Ii]*Ei[Ii];Br[Ii]=Zr[Ii]*Ei[Ii]+Br[Ii]*Si[Ii],Zr[Ii]=Ni}return this.conjugate(Zr,Br,Jr),this.transform(Zr,Br,qi,Xr,Jr,ii),this.conjugate(qi,Xr,Jr),this.normalize13b(qi,Jr),Vr.negative=Er.negative^kr.negative,Vr.length=Er.length+kr.length,Vr.strip()},be.prototype.mul=function(Er){var kr=new be(null);return kr.words=new Array(this.length+Er.length),this.mulTo(Er,kr)},be.prototype.mulf=function(Er){var kr=new be(null);return kr.words=new Array(this.length+Er.length),Yr(this,Er,kr)},be.prototype.imul=function(Er){return this.clone().mulTo(Er,this)},be.prototype.imuln=function(Er){se(typeof Er=="number"),se(Er<67108864);for(var kr=0,Vr=0;Vr<this.length;Vr++){var Jr=(this.words[Vr]|0)*Er,ii=(Jr&67108863)+(kr&67108863);kr>>=26,kr+=Jr/67108864|0,kr+=ii>>>26,this.words[Vr]=ii&67108863}return kr!==0&&(this.words[Vr]=kr,this.length++),this},be.prototype.muln=function(Er){return this.clone().imuln(Er)},be.prototype.sqr=function(){return this.mul(this)},be.prototype.isqr=function(){return this.imul(this.clone())},be.prototype.pow=function(Er){var kr=Oe(Er);if(kr.length===0)return new be(1);for(var Vr=this,Jr=0;Jr<kr.length&&kr[Jr]===0;Jr++,Vr=Vr.sqr());if(++Jr<kr.length)for(var ii=Vr.sqr();Jr<kr.length;Jr++,ii=ii.sqr())kr[Jr]!==0&&(Vr=Vr.mul(ii));return Vr},be.prototype.iushln=function(Er){se(typeof Er=="number"&&Er>=0);var kr=Er%26,Vr=(Er-kr)/26,Jr=67108863>>>26-kr<<26-kr,ii;if(kr!==0){var Xr=0;for(ii=0;ii<this.length;ii++){var ei=this.words[ii]&Jr,Zr=(this.words[ii]|0)-ei<<kr;this.words[ii]=Zr|Xr,Xr=ei>>>26-kr}Xr&&(this.words[ii]=Xr,this.length++)}if(Vr!==0){for(ii=this.length-1;ii>=0;ii--)this.words[ii+Vr]=this.words[ii];for(ii=0;ii<Vr;ii++)this.words[ii]=0;this.length+=Vr}return this.strip()},be.prototype.ishln=function(Er){return se(this.negative===0),this.iushln(Er)},be.prototype.iushrn=function(Er,kr,Vr){se(typeof Er=="number"&&Er>=0);var Jr;kr?Jr=(kr-kr%26)/26:Jr=0;var ii=Er%26,Xr=Math.min((Er-ii)/26,this.length),ei=67108863^67108863>>>ii<<ii,Zr=Vr;if(Jr-=Xr,Jr=Math.max(0,Jr),Zr){for(var Br=0;Br<Xr;Br++)Zr.words[Br]=this.words[Br];Zr.length=Xr}if(Xr!==0)if(this.length>Xr)for(this.length-=Xr,Br=0;Br<this.length;Br++)this.words[Br]=this.words[Br+Xr];else this.words[0]=0,this.length=1;var si=0;for(Br=this.length-1;Br>=0&&(si!==0||Br>=Jr);Br--){var Si=this.words[Br]|0;this.words[Br]=si<<26-ii|Si>>>ii,si=Si&ei}return Zr&&si!==0&&(Zr.words[Zr.length++]=si),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},be.prototype.ishrn=function(Er,kr,Vr){return se(this.negative===0),this.iushrn(Er,kr,Vr)},be.prototype.shln=function(Er){return this.clone().ishln(Er)},be.prototype.ushln=function(Er){return this.clone().iushln(Er)},be.prototype.shrn=function(Er){return this.clone().ishrn(Er)},be.prototype.ushrn=function(Er){return this.clone().iushrn(Er)},be.prototype.testn=function(Er){se(typeof Er=="number"&&Er>=0);var kr=Er%26,Vr=(Er-kr)/26,Jr=1<<kr;if(this.length<=Vr)return!1;var ii=this.words[Vr];return!!(ii&Jr)},be.prototype.imaskn=function(Er){se(typeof Er=="number"&&Er>=0);var kr=Er%26,Vr=(Er-kr)/26;if(se(this.negative===0,"imaskn works only with positive numbers"),this.length<=Vr)return this;if(kr!==0&&Vr++,this.length=Math.min(Vr,this.length),kr!==0){var Jr=67108863^67108863>>>kr<<kr;this.words[this.length-1]&=Jr}return this.strip()},be.prototype.maskn=function(Er){return this.clone().imaskn(Er)},be.prototype.iaddn=function(Er){return se(typeof Er=="number"),se(Er<67108864),Er<0?this.isubn(-Er):this.negative!==0?this.length===1&&(this.words[0]|0)<Er?(this.words[0]=Er-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Er),this.negative=1,this):this._iaddn(Er)},be.prototype._iaddn=function(Er){this.words[0]+=Er;for(var kr=0;kr<this.length&&this.words[kr]>=67108864;kr++)this.words[kr]-=67108864,kr===this.length-1?this.words[kr+1]=1:this.words[kr+1]++;return this.length=Math.max(this.length,kr+1),this},be.prototype.isubn=function(Er){if(se(typeof Er=="number"),se(Er<67108864),Er<0)return this.iaddn(-Er);if(this.negative!==0)return this.negative=0,this.iaddn(Er),this.negative=1,this;if(this.words[0]-=Er,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var kr=0;kr<this.length&&this.words[kr]<0;kr++)this.words[kr]+=67108864,this.words[kr+1]-=1;return this.strip()},be.prototype.addn=function(Er){return this.clone().iaddn(Er)},be.prototype.subn=function(Er){return this.clone().isubn(Er)},be.prototype.iabs=function(){return this.negative=0,this},be.prototype.abs=function(){return this.clone().iabs()},be.prototype._ishlnsubmul=function(Er,kr,Vr){var Jr=Er.length+Vr,ii;this._expand(Jr);var Xr,ei=0;for(ii=0;ii<Er.length;ii++){Xr=(this.words[ii+Vr]|0)+ei;var Zr=(Er.words[ii]|0)*kr;Xr-=Zr&67108863,ei=(Xr>>26)-(Zr/67108864|0),this.words[ii+Vr]=Xr&67108863}for(;ii<this.length-Vr;ii++)Xr=(this.words[ii+Vr]|0)+ei,ei=Xr>>26,this.words[ii+Vr]=Xr&67108863;if(ei===0)return this.strip();for(se(ei===-1),ei=0,ii=0;ii<this.length;ii++)Xr=-(this.words[ii]|0)+ei,ei=Xr>>26,this.words[ii]=Xr&67108863;return this.negative=1,this.strip()},be.prototype._wordDiv=function(Er,kr){var Vr=this.length-Er.length,Jr=this.clone(),ii=Er,Xr=ii.words[ii.length-1]|0,ei=this._countBits(Xr);Vr=26-ei,Vr!==0&&(ii=ii.ushln(Vr),Jr.iushln(Vr),Xr=ii.words[ii.length-1]|0);var Zr=Jr.length-ii.length,Br;if(kr!=="mod"){Br=new be(null),Br.length=Zr+1,Br.words=new Array(Br.length);for(var si=0;si<Br.length;si++)Br.words[si]=0}var Si=Jr.clone()._ishlnsubmul(ii,1,Zr);Si.negative===0&&(Jr=Si,Br&&(Br.words[Zr]=1));for(var Ei=Zr-1;Ei>=0;Ei--){var qi=(Jr.words[ii.length+Ei]|0)*67108864+(Jr.words[ii.length+Ei-1]|0);for(qi=Math.min(qi/Xr|0,67108863),Jr._ishlnsubmul(ii,qi,Ei);Jr.negative!==0;)qi--,Jr.negative=0,Jr._ishlnsubmul(ii,1,Ei),Jr.isZero()||(Jr.negative^=1);Br&&(Br.words[Ei]=qi)}return Br&&Br.strip(),Jr.strip(),kr!=="div"&&Vr!==0&&Jr.iushrn(Vr),{div:Br||null,mod:Jr}},be.prototype.divmod=function(Er,kr,Vr){if(se(!Er.isZero()),this.isZero())return{div:new be(0),mod:new be(0)};var Jr,ii,Xr;return this.negative!==0&&Er.negative===0?(Xr=this.neg().divmod(Er,kr),kr!=="mod"&&(Jr=Xr.div.neg()),kr!=="div"&&(ii=Xr.mod.neg(),Vr&&ii.negative!==0&&ii.iadd(Er)),{div:Jr,mod:ii}):this.negative===0&&Er.negative!==0?(Xr=this.divmod(Er.neg(),kr),kr!=="mod"&&(Jr=Xr.div.neg()),{div:Jr,mod:Xr.mod}):this.negative&Er.negative?(Xr=this.neg().divmod(Er.neg(),kr),kr!=="div"&&(ii=Xr.mod.neg(),Vr&&ii.negative!==0&&ii.isub(Er)),{div:Xr.div,mod:ii}):Er.length>this.length||this.cmp(Er)<0?{div:new be(0),mod:this}:Er.length===1?kr==="div"?{div:this.divn(Er.words[0]),mod:null}:kr==="mod"?{div:null,mod:new be(this.modn(Er.words[0]))}:{div:this.divn(Er.words[0]),mod:new be(this.modn(Er.words[0]))}:this._wordDiv(Er,kr)},be.prototype.div=function(Er){return this.divmod(Er,"div",!1).div},be.prototype.mod=function(Er){return this.divmod(Er,"mod",!1).mod},be.prototype.umod=function(Er){return this.divmod(Er,"mod",!0).mod},be.prototype.divRound=function(Er){var kr=this.divmod(Er);if(kr.mod.isZero())return kr.div;var Vr=kr.div.negative!==0?kr.mod.isub(Er):kr.mod,Jr=Er.ushrn(1),ii=Er.andln(1),Xr=Vr.cmp(Jr);return Xr<0||ii===1&&Xr===0?kr.div:kr.div.negative!==0?kr.div.isubn(1):kr.div.iaddn(1)},be.prototype.modn=function(Er){se(Er<=67108863);for(var kr=(1<<26)%Er,Vr=0,Jr=this.length-1;Jr>=0;Jr--)Vr=(kr*Vr+(this.words[Jr]|0))%Er;return Vr},be.prototype.idivn=function(Er){se(Er<=67108863);for(var kr=0,Vr=this.length-1;Vr>=0;Vr--){var Jr=(this.words[Vr]|0)+kr*67108864;this.words[Vr]=Jr/Er|0,kr=Jr%Er}return this.strip()},be.prototype.divn=function(Er){return this.clone().idivn(Er)},be.prototype.egcd=function(Er){se(Er.negative===0),se(!Er.isZero());var kr=this,Vr=Er.clone();kr.negative!==0?kr=kr.umod(Er):kr=kr.clone();for(var Jr=new be(1),ii=new be(0),Xr=new be(0),ei=new be(1),Zr=0;kr.isEven()&&Vr.isEven();)kr.iushrn(1),Vr.iushrn(1),++Zr;for(var Br=Vr.clone(),si=kr.clone();!kr.isZero();){for(var Si=0,Ei=1;!(kr.words[0]&Ei)&&Si<26;++Si,Ei<<=1);if(Si>0)for(kr.iushrn(Si);Si-- >0;)(Jr.isOdd()||ii.isOdd())&&(Jr.iadd(Br),ii.isub(si)),Jr.iushrn(1),ii.iushrn(1);for(var qi=0,Ii=1;!(Vr.words[0]&Ii)&&qi<26;++qi,Ii<<=1);if(qi>0)for(Vr.iushrn(qi);qi-- >0;)(Xr.isOdd()||ei.isOdd())&&(Xr.iadd(Br),ei.isub(si)),Xr.iushrn(1),ei.iushrn(1);kr.cmp(Vr)>=0?(kr.isub(Vr),Jr.isub(Xr),ii.isub(ei)):(Vr.isub(kr),Xr.isub(Jr),ei.isub(ii))}return{a:Xr,b:ei,gcd:Vr.iushln(Zr)}},be.prototype._invmp=function(Er){se(Er.negative===0),se(!Er.isZero());var kr=this,Vr=Er.clone();kr.negative!==0?kr=kr.umod(Er):kr=kr.clone();for(var Jr=new be(1),ii=new be(0),Xr=Vr.clone();kr.cmpn(1)>0&&Vr.cmpn(1)>0;){for(var ei=0,Zr=1;!(kr.words[0]&Zr)&&ei<26;++ei,Zr<<=1);if(ei>0)for(kr.iushrn(ei);ei-- >0;)Jr.isOdd()&&Jr.iadd(Xr),Jr.iushrn(1);for(var Br=0,si=1;!(Vr.words[0]&si)&&Br<26;++Br,si<<=1);if(Br>0)for(Vr.iushrn(Br);Br-- >0;)ii.isOdd()&&ii.iadd(Xr),ii.iushrn(1);kr.cmp(Vr)>=0?(kr.isub(Vr),Jr.isub(ii)):(Vr.isub(kr),ii.isub(Jr))}var Si;return kr.cmpn(1)===0?Si=Jr:Si=ii,Si.cmpn(0)<0&&Si.iadd(Er),Si},be.prototype.gcd=function(Er){if(this.isZero())return Er.abs();if(Er.isZero())return this.abs();var kr=this.clone(),Vr=Er.clone();kr.negative=0,Vr.negative=0;for(var Jr=0;kr.isEven()&&Vr.isEven();Jr++)kr.iushrn(1),Vr.iushrn(1);do{for(;kr.isEven();)kr.iushrn(1);for(;Vr.isEven();)Vr.iushrn(1);var ii=kr.cmp(Vr);if(ii<0){var Xr=kr;kr=Vr,Vr=Xr}else if(ii===0||Vr.cmpn(1)===0)break;kr.isub(Vr)}while(!0);return Vr.iushln(Jr)},be.prototype.invm=function(Er){return this.egcd(Er).a.umod(Er)},be.prototype.isEven=function(){return(this.words[0]&1)===0},be.prototype.isOdd=function(){return(this.words[0]&1)===1},be.prototype.andln=function(Er){return this.words[0]&Er},be.prototype.bincn=function(Er){se(typeof Er=="number");var kr=Er%26,Vr=(Er-kr)/26,Jr=1<<kr;if(this.length<=Vr)return this._expand(Vr+1),this.words[Vr]|=Jr,this;for(var ii=Jr,Xr=Vr;ii!==0&&Xr<this.length;Xr++){var ei=this.words[Xr]|0;ei+=ii,ii=ei>>>26,ei&=67108863,this.words[Xr]=ei}return ii!==0&&(this.words[Xr]=ii,this.length++),this},be.prototype.isZero=function(){return this.length===1&&this.words[0]===0},be.prototype.cmpn=function(Er){var kr=Er<0;if(this.negative!==0&&!kr)return-1;if(this.negative===0&&kr)return 1;this.strip();var Vr;if(this.length>1)Vr=1;else{kr&&(Er=-Er),se(Er<=67108863,"Number is too big");var Jr=this.words[0]|0;Vr=Jr===Er?0:Jr<Er?-1:1}return this.negative!==0?-Vr|0:Vr},be.prototype.cmp=function(Er){if(this.negative!==0&&Er.negative===0)return-1;if(this.negative===0&&Er.negative!==0)return 1;var kr=this.ucmp(Er);return this.negative!==0?-kr|0:kr},be.prototype.ucmp=function(Er){if(this.length>Er.length)return 1;if(this.length<Er.length)return-1;for(var kr=0,Vr=this.length-1;Vr>=0;Vr--){var Jr=this.words[Vr]|0,ii=Er.words[Vr]|0;if(Jr!==ii){Jr<ii?kr=-1:Jr>ii&&(kr=1);break}}return kr},be.prototype.gtn=function(Er){return this.cmpn(Er)===1},be.prototype.gt=function(Er){return this.cmp(Er)===1},be.prototype.gten=function(Er){return this.cmpn(Er)>=0},be.prototype.gte=function(Er){return this.cmp(Er)>=0},be.prototype.ltn=function(Er){return this.cmpn(Er)===-1},be.prototype.lt=function(Er){return this.cmp(Er)===-1},be.prototype.lten=function(Er){return this.cmpn(Er)<=0},be.prototype.lte=function(Er){return this.cmp(Er)<=0},be.prototype.eqn=function(Er){return this.cmpn(Er)===0},be.prototype.eq=function(Er){return this.cmp(Er)===0},be.red=function(Er){return new gi(Er)},be.prototype.toRed=function(Er){return se(!this.red,"Already a number in reduction context"),se(this.negative===0,"red works only with positives"),Er.convertTo(this)._forceRed(Er)},be.prototype.fromRed=function(){return se(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},be.prototype._forceRed=function(Er){return this.red=Er,this},be.prototype.forceRed=function(Er){return se(!this.red,"Already a number in reduction context"),this._forceRed(Er)},be.prototype.redAdd=function(Er){return se(this.red,"redAdd works only with red numbers"),this.red.add(this,Er)},be.prototype.redIAdd=function(Er){return se(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Er)},be.prototype.redSub=function(Er){return se(this.red,"redSub works only with red numbers"),this.red.sub(this,Er)},be.prototype.redISub=function(Er){return se(this.red,"redISub works only with red numbers"),this.red.isub(this,Er)},be.prototype.redShl=function(Er){return se(this.red,"redShl works only with red numbers"),this.red.shl(this,Er)},be.prototype.redMul=function(Er){return se(this.red,"redMul works only with red numbers"),this.red._verify2(this,Er),this.red.mul(this,Er)},be.prototype.redIMul=function(Er){return se(this.red,"redMul works only with red numbers"),this.red._verify2(this,Er),this.red.imul(this,Er)},be.prototype.redSqr=function(){return se(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},be.prototype.redISqr=function(){return se(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},be.prototype.redSqrt=function(){return se(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},be.prototype.redInvm=function(){return se(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},be.prototype.redNeg=function(){return se(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},be.prototype.redPow=function(Er){return se(this.red&&!Er.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Er)};var ti={k256:null,p224:null,p192:null,p25519:null};function Qr(hi,Er){this.name=hi,this.p=new be(Er,16),this.n=this.p.bitLength(),this.k=new be(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Qr.prototype._tmp=function(){var Er=new be(null);return Er.words=new Array(Math.ceil(this.n/13)),Er},Qr.prototype.ireduce=function(Er){var kr=Er,Vr;do this.split(kr,this.tmp),kr=this.imulK(kr),kr=kr.iadd(this.tmp),Vr=kr.bitLength();while(Vr>this.n);var Jr=Vr<this.n?-1:kr.ucmp(this.p);return Jr===0?(kr.words[0]=0,kr.length=1):Jr>0?kr.isub(this.p):kr.strip!==void 0?kr.strip():kr._strip(),kr},Qr.prototype.split=function(Er,kr){Er.iushrn(this.n,0,kr)},Qr.prototype.imulK=function(Er){return Er.imul(this.k)};function oi(){Qr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}fe(oi,Qr),oi.prototype.split=function(Er,kr){for(var Vr=4194303,Jr=Math.min(Er.length,9),ii=0;ii<Jr;ii++)kr.words[ii]=Er.words[ii];if(kr.length=Jr,Er.length<=9){Er.words[0]=0,Er.length=1;return}var Xr=Er.words[9];for(kr.words[kr.length++]=Xr&Vr,ii=10;ii<Er.length;ii++){var ei=Er.words[ii]|0;Er.words[ii-10]=(ei&Vr)<<4|Xr>>>22,Xr=ei}Xr>>>=22,Er.words[ii-10]=Xr,Xr===0&&Er.length>10?Er.length-=10:Er.length-=9},oi.prototype.imulK=function(Er){Er.words[Er.length]=0,Er.words[Er.length+1]=0,Er.length+=2;for(var kr=0,Vr=0;Vr<Er.length;Vr++){var Jr=Er.words[Vr]|0;kr+=Jr*977,Er.words[Vr]=kr&67108863,kr=Jr*64+(kr/67108864|0)}return Er.words[Er.length-1]===0&&(Er.length--,Er.words[Er.length-1]===0&&Er.length--),Er};function fi(){Qr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}fe(fi,Qr);function jr(){Qr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}fe(jr,Qr);function ci(){Qr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}fe(ci,Qr),ci.prototype.imulK=function(Er){for(var kr=0,Vr=0;Vr<Er.length;Vr++){var Jr=(Er.words[Vr]|0)*19+kr,ii=Jr&67108863;Jr>>>=26,Er.words[Vr]=ii,kr=Jr}return kr!==0&&(Er.words[Er.length++]=kr),Er},be._prime=function(Er){if(ti[Er])return ti[Er];var kr;if(Er==="k256")kr=new oi;else if(Er==="p224")kr=new fi;else if(Er==="p192")kr=new jr;else if(Er==="p25519")kr=new ci;else throw new Error("Unknown prime "+Er);return ti[Er]=kr,kr};function gi(hi){if(typeof hi=="string"){var Er=be._prime(hi);this.m=Er.p,this.prime=Er}else se(hi.gtn(1),"modulus must be greater than 1"),this.m=hi,this.prime=null}gi.prototype._verify1=function(Er){se(Er.negative===0,"red works only with positives"),se(Er.red,"red works only with red numbers")},gi.prototype._verify2=function(Er,kr){se((Er.negative|kr.negative)===0,"red works only with positives"),se(Er.red&&Er.red===kr.red,"red works only with red numbers")},gi.prototype.imod=function(Er){return this.prime?this.prime.ireduce(Er)._forceRed(this):Er.umod(this.m)._forceRed(this)},gi.prototype.neg=function(Er){return Er.isZero()?Er.clone():this.m.sub(Er)._forceRed(this)},gi.prototype.add=function(Er,kr){this._verify2(Er,kr);var Vr=Er.add(kr);return Vr.cmp(this.m)>=0&&Vr.isub(this.m),Vr._forceRed(this)},gi.prototype.iadd=function(Er,kr){this._verify2(Er,kr);var Vr=Er.iadd(kr);return Vr.cmp(this.m)>=0&&Vr.isub(this.m),Vr},gi.prototype.sub=function(Er,kr){this._verify2(Er,kr);var Vr=Er.sub(kr);return Vr.cmpn(0)<0&&Vr.iadd(this.m),Vr._forceRed(this)},gi.prototype.isub=function(Er,kr){this._verify2(Er,kr);var Vr=Er.isub(kr);return Vr.cmpn(0)<0&&Vr.iadd(this.m),Vr},gi.prototype.shl=function(Er,kr){return this._verify1(Er),this.imod(Er.ushln(kr))},gi.prototype.imul=function(Er,kr){return this._verify2(Er,kr),this.imod(Er.imul(kr))},gi.prototype.mul=function(Er,kr){return this._verify2(Er,kr),this.imod(Er.mul(kr))},gi.prototype.isqr=function(Er){return this.imul(Er,Er.clone())},gi.prototype.sqr=function(Er){return this.mul(Er,Er)},gi.prototype.sqrt=function(Er){if(Er.isZero())return Er.clone();var kr=this.m.andln(3);if(se(kr%2===1),kr===3){var Vr=this.m.add(new be(1)).iushrn(2);return this.pow(Er,Vr)}for(var Jr=this.m.subn(1),ii=0;!Jr.isZero()&&Jr.andln(1)===0;)ii++,Jr.iushrn(1);se(!Jr.isZero());var Xr=new be(1).toRed(this),ei=Xr.redNeg(),Zr=this.m.subn(1).iushrn(1),Br=this.m.bitLength();for(Br=new be(2*Br*Br).toRed(this);this.pow(Br,Zr).cmp(ei)!==0;)Br.redIAdd(ei);for(var si=this.pow(Br,Jr),Si=this.pow(Er,Jr.addn(1).iushrn(1)),Ei=this.pow(Er,Jr),qi=ii;Ei.cmp(Xr)!==0;){for(var Ii=Ei,Ni=0;Ii.cmp(Xr)!==0;Ni++)Ii=Ii.redSqr();se(Ni<qi);var ri=this.pow(si,new be(1).iushln(qi-Ni-1));Si=Si.redMul(ri),si=ri.redSqr(),Ei=Ei.redMul(si),qi=Ni}return Si},gi.prototype.invm=function(Er){var kr=Er._invmp(this.m);return kr.negative!==0?(kr.negative=0,this.imod(kr).redNeg()):this.imod(kr)},gi.prototype.pow=function(Er,kr){if(kr.isZero())return new be(1).toRed(this);if(kr.cmpn(1)===0)return Er.clone();var Vr=4,Jr=new Array(1<<Vr);Jr[0]=new be(1).toRed(this),Jr[1]=Er;for(var ii=2;ii<Jr.length;ii++)Jr[ii]=this.mul(Jr[ii-1],Er);var Xr=Jr[0],ei=0,Zr=0,Br=kr.bitLength()%26;for(Br===0&&(Br=26),ii=kr.length-1;ii>=0;ii--){for(var si=kr.words[ii],Si=Br-1;Si>=0;Si--){var Ei=si>>Si&1;if(Xr!==Jr[0]&&(Xr=this.sqr(Xr)),Ei===0&&ei===0){Zr=0;continue}ei<<=1,ei|=Ei,Zr++,!(Zr!==Vr&&(ii!==0||Si!==0))&&(Xr=this.mul(Xr,Jr[ei]),Zr=0,ei=0)}Br=26}return Xr},gi.prototype.convertTo=function(Er){var kr=Er.umod(this.m);return kr===Er?kr.clone():kr},gi.prototype.convertFrom=function(Er){var kr=Er.clone();return kr.red=null,kr},be.mont=function(Er){return new $i(Er)};function $i(hi){gi.call(this,hi),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new be(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}fe($i,gi),$i.prototype.convertTo=function(Er){return this.imod(Er.ushln(this.shift))},$i.prototype.convertFrom=function(Er){var kr=this.imod(Er.mul(this.rinv));return kr.red=null,kr},$i.prototype.imul=function(Er,kr){if(Er.isZero()||kr.isZero())return Er.words[0]=0,Er.length=1,Er;var Vr=Er.imul(kr),Jr=Vr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ii=Vr.isub(Jr).iushrn(this.shift),Xr=ii;return ii.cmp(this.m)>=0?Xr=ii.isub(this.m):ii.cmpn(0)<0&&(Xr=ii.iadd(this.m)),Xr._forceRed(this)},$i.prototype.mul=function(Er,kr){if(Er.isZero()||kr.isZero())return new be(0)._forceRed(this);var Vr=Er.mul(kr),Jr=Vr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ii=Vr.isub(Jr).iushrn(this.shift),Xr=ii;return ii.cmp(this.m)>=0?Xr=ii.isub(this.m):ii.cmpn(0)<0&&(Xr=ii.iadd(this.m)),Xr._forceRed(this)},$i.prototype.invm=function(Er){var kr=this.imod(Er._invmp(this.m).mul(this.r2));return kr._forceRed(this)}})(Y,commonjsGlobal)}(bn)),bn.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var Y;brorand.exports=function(fe){return Y||(Y=new t(null)),Y.generate(fe)};function t(se){this.rand=se}if(brorand.exports.Rand=t,t.prototype.generate=function(fe){return this._rand(fe)},t.prototype._rand=function(fe){if(this.rand.getBytes)return this.rand.getBytes(fe);for(var be=new Uint8Array(fe),xe=0;xe<be.length;xe++)be[xe]=this.rand.getByte();return be},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(fe){var be=new Uint8Array(fe);return self.crypto.getRandomValues(be),be}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(fe){var be=new Uint8Array(fe);return self.msCrypto.getRandomValues(be),be}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=requireCryptoBrowserify();if(typeof s.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(fe){return s.randomBytes(fe)}}catch{}return brorand.exports}var mr$1,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$1;hasRequiredMr=1;var Y=requireBn(),t=requireBrorand();function s(se){this.rand=se||new t.Rand}return mr$1=s,s.create=function(fe){return new s(fe)},s.prototype._randbelow=function(fe){var be=fe.bitLength(),xe=Math.ceil(be/8);do var we=new Y(this.rand.generate(xe));while(we.cmp(fe)>=0);return we},s.prototype._randrange=function(fe,be){var xe=be.sub(fe);return fe.add(this._randbelow(xe))},s.prototype.test=function(fe,be,xe){var we=fe.bitLength(),Se=Y.mont(fe),Ee=new Y(1).toRed(Se);be||(be=Math.max(1,we/48|0));for(var me=fe.subn(1),Ie=0;!me.testn(Ie);Ie++);for(var fr=fe.shrn(Ie),Oe=me.toRed(Se),wr=!0;be>0;be--){var qr=this._randrange(new Y(2),me);xe&&xe(qr);var Gr=qr.toRed(Se).redPow(fr);if(!(Gr.cmp(Ee)===0||Gr.cmp(Oe)===0)){for(var Yr=1;Yr<Ie;Yr++){if(Gr=Gr.redSqr(),Gr.cmp(Ee)===0)return!1;if(Gr.cmp(Oe)===0)break}if(Yr===Ie)return!1}}return wr},s.prototype.getDivisor=function(fe,be){var xe=fe.bitLength(),we=Y.mont(fe),Se=new Y(1).toRed(we);be||(be=Math.max(1,xe/48|0));for(var Ee=fe.subn(1),me=0;!Ee.testn(me);me++);for(var Ie=fe.shrn(me),fr=Ee.toRed(we);be>0;be--){var Oe=this._randrange(new Y(2),Ee),wr=fe.gcd(Oe);if(wr.cmpn(1)!==0)return wr;var qr=Oe.toRed(we).redPow(Ie);if(!(qr.cmp(Se)===0||qr.cmp(fr)===0)){for(var Gr=1;Gr<me;Gr++){if(qr=qr.redSqr(),qr.cmp(Se)===0)return qr.fromRed().subn(1).gcd(fe);if(qr.cmp(fr)===0)break}if(Gr===me)return qr=qr.redSqr(),qr.fromRed().subn(1).gcd(fe)}}return!1},mr$1}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var Y=requireBrowser$a();generatePrime=Gr,Gr.simpleSieve=wr,Gr.fermatTest=qr;var t=requireBn(),s=new t(24),se=requireMr(),fe=new se,be=new t(1),xe=new t(2),we=new t(5);new t(16),new t(8);var Se=new t(10),Ee=new t(3);new t(7);var me=new t(11),Ie=new t(4);new t(12);var fr=null;function Oe(){if(fr!==null)return fr;var Yr=1048576,Wr=[];Wr[0]=2;for(var ti=1,Qr=3;Qr<Yr;Qr+=2){for(var oi=Math.ceil(Math.sqrt(Qr)),fi=0;fi<ti&&Wr[fi]<=oi&&Qr%Wr[fi]!==0;fi++);ti!==fi&&Wr[fi]<=oi||(Wr[ti++]=Qr)}return fr=Wr,Wr}function wr(Yr){for(var Wr=Oe(),ti=0;ti<Wr.length;ti++)if(Yr.modn(Wr[ti])===0)return Yr.cmpn(Wr[ti])===0;return!0}function qr(Yr){var Wr=t.mont(Yr);return xe.toRed(Wr).redPow(Yr.subn(1)).fromRed().cmpn(1)===0}function Gr(Yr,Wr){if(Yr<16)return Wr===2||Wr===5?new t([140,123]):new t([140,39]);Wr=new t(Wr);for(var ti,Qr;;){for(ti=new t(Y(Math.ceil(Yr/8)));ti.bitLength()>Yr;)ti.ishrn(1);if(ti.isEven()&&ti.iadd(be),ti.testn(1)||ti.iadd(xe),Wr.cmp(xe)){if(!Wr.cmp(we))for(;ti.mod(Se).cmp(Ee);)ti.iadd(Ie)}else for(;ti.mod(s).cmp(me);)ti.iadd(Ie);if(Qr=ti.shrn(1),wr(Qr)&&wr(ti)&&qr(Qr)&&qr(ti)&&fe.test(Qr)&&fe.test(ti))return ti}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var Y=requireBn(),t=requireMr(),s=new t,se=new Y(24),fe=new Y(11),be=new Y(10),xe=new Y(3),we=new Y(7),Se=requireGeneratePrime(),Ee=requireBrowser$a();dh=wr;function me(Gr,Yr){return Yr=Yr||"utf8",Buffer.isBuffer(Gr)||(Gr=new Buffer(Gr,Yr)),this._pub=new Y(Gr),this}function Ie(Gr,Yr){return Yr=Yr||"utf8",Buffer.isBuffer(Gr)||(Gr=new Buffer(Gr,Yr)),this._priv=new Y(Gr),this}var fr={};function Oe(Gr,Yr){var Wr=Yr.toString("hex"),ti=[Wr,Gr.toString(16)].join("_");if(ti in fr)return fr[ti];var Qr=0;if(Gr.isEven()||!Se.simpleSieve||!Se.fermatTest(Gr)||!s.test(Gr))return Qr+=1,Wr==="02"||Wr==="05"?Qr+=8:Qr+=4,fr[ti]=Qr,Qr;s.test(Gr.shrn(1))||(Qr+=2);var oi;switch(Wr){case"02":Gr.mod(se).cmp(fe)&&(Qr+=8);break;case"05":oi=Gr.mod(be),oi.cmp(xe)&&oi.cmp(we)&&(Qr+=8);break;default:Qr+=4}return fr[ti]=Qr,Qr}function wr(Gr,Yr,Wr){this.setGenerator(Yr),this.__prime=new Y(Gr),this._prime=Y.mont(this.__prime),this._primeLen=Gr.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Wr?(this.setPublicKey=me,this.setPrivateKey=Ie):this._primeCode=8}Object.defineProperty(wr.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Oe(this.__prime,this.__gen)),this._primeCode}}),wr.prototype.generateKeys=function(){return this._priv||(this._priv=new Y(Ee(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},wr.prototype.computeSecret=function(Gr){Gr=new Y(Gr),Gr=Gr.toRed(this._prime);var Yr=Gr.redPow(this._priv).fromRed(),Wr=new Buffer(Yr.toArray()),ti=this.getPrime();if(Wr.length<ti.length){var Qr=new Buffer(ti.length-Wr.length);Qr.fill(0),Wr=Buffer.concat([Qr,Wr])}return Wr},wr.prototype.getPublicKey=function(Yr){return qr(this._pub,Yr)},wr.prototype.getPrivateKey=function(Yr){return qr(this._priv,Yr)},wr.prototype.getPrime=function(Gr){return qr(this.__prime,Gr)},wr.prototype.getGenerator=function(Gr){return qr(this._gen,Gr)},wr.prototype.setGenerator=function(Gr,Yr){return Yr=Yr||"utf8",Buffer.isBuffer(Gr)||(Gr=new Buffer(Gr,Yr)),this.__gen=Gr,this._gen=new Y(Gr),this};function qr(Gr,Yr){var Wr=new Buffer(Gr.toArray());return Yr?Wr.toString(Yr):Wr}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$6;hasRequiredBrowser$4=1;var Y=requireGeneratePrime(),t=require$$1$1,s=requireDh();function se(xe){var we=new Buffer(t[xe].prime,"hex"),Se=new Buffer(t[xe].gen,"hex");return new s(we,Se)}var fe={binary:!0,hex:!0,base64:!0};function be(xe,we,Se,Ee){return Buffer.isBuffer(we)||fe[we]===void 0?be(xe,"binary",we,Se):(we=we||"binary",Ee=Ee||"binary",Se=Se||new Buffer([2]),Buffer.isBuffer(Se)||(Se=new Buffer(Se,Ee)),typeof xe=="number"?new s(Y(xe,Se),Se,!0):(Buffer.isBuffer(xe)||(xe=new Buffer(xe,we)),new s(xe,Se,!0)))}return browser$6.DiffieHellmanGroup=browser$6.createDiffieHellmanGroup=browser$6.getDiffieHellman=se,browser$6.createDiffieHellman=browser$6.DiffieHellman=be,browser$6}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:Y}:processNextickArgs.exports=process$1;function Y(t,s,se,fe){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var be=arguments.length,xe,we;switch(be){case 0:case 1:return process$1.nextTick(t);case 2:return process$1.nextTick(function(){t.call(null,s)});case 3:return process$1.nextTick(function(){t.call(null,s,se)});case 4:return process$1.nextTick(function(){t.call(null,s,se,fe)});default:for(xe=new Array(be-1),we=0;we<xe.length;)xe[we++]=arguments[we];return process$1.nextTick(function(){t.apply(null,xe)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var Y={}.toString;return isarray=Array.isArray||function(t){return Y.call(t)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=eventsExports.EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(Y,t){var s=dist,se=s.Buffer;function fe(xe,we){for(var Se in xe)we[Se]=xe[Se]}se.from&&se.alloc&&se.allocUnsafe&&se.allocUnsafeSlow?Y.exports=s:(fe(s,t),t.Buffer=be);function be(xe,we,Se){return se(xe,we,Se)}fe(se,be),be.from=function(xe,we,Se){if(typeof xe=="number")throw new TypeError("Argument must not be a number");return se(xe,we,Se)},be.alloc=function(xe,we,Se){if(typeof xe!="number")throw new TypeError("Argument must be a number");var Ee=se(xe);return we!==void 0?typeof Se=="string"?Ee.fill(we,Se):Ee.fill(we):Ee.fill(0),Ee},be.allocUnsafe=function(xe){if(typeof xe!="number")throw new TypeError("Argument must be a number");return se(xe)},be.allocUnsafeSlow=function(xe){if(typeof xe!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(xe)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function Y(qr){return Array.isArray?Array.isArray(qr):wr(qr)==="[object Array]"}util.isArray=Y;function t(qr){return typeof qr=="boolean"}util.isBoolean=t;function s(qr){return qr===null}util.isNull=s;function se(qr){return qr==null}util.isNullOrUndefined=se;function fe(qr){return typeof qr=="number"}util.isNumber=fe;function be(qr){return typeof qr=="string"}util.isString=be;function xe(qr){return typeof qr=="symbol"}util.isSymbol=xe;function we(qr){return qr===void 0}util.isUndefined=we;function Se(qr){return wr(qr)==="[object RegExp]"}util.isRegExp=Se;function Ee(qr){return typeof qr=="object"&&qr!==null}util.isObject=Ee;function me(qr){return wr(qr)==="[object Date]"}util.isDate=me;function Ie(qr){return wr(qr)==="[object Error]"||qr instanceof Error}util.isError=Ie;function fr(qr){return typeof qr=="function"}util.isFunction=fr;function Oe(qr){return qr===null||typeof qr=="boolean"||typeof qr=="number"||typeof qr=="string"||typeof qr=="symbol"||typeof qr>"u"}util.isPrimitive=Oe,util.isBuffer=dist.Buffer.isBuffer;function wr(qr){return Object.prototype.toString.call(qr)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(Y){function t(be,xe){if(!(be instanceof xe))throw new TypeError("Cannot call a class as a function")}var s=requireSafeBuffer().Buffer,se=util$1;function fe(be,xe,we){be.copy(xe,we)}Y.exports=function(){function be(){t(this,be),this.head=null,this.tail=null,this.length=0}return be.prototype.push=function(we){var Se={data:we,next:null};this.length>0?this.tail.next=Se:this.head=Se,this.tail=Se,++this.length},be.prototype.unshift=function(we){var Se={data:we,next:this.head};this.length===0&&(this.tail=Se),this.head=Se,++this.length},be.prototype.shift=function(){if(this.length!==0){var we=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,we}},be.prototype.clear=function(){this.head=this.tail=null,this.length=0},be.prototype.join=function(we){if(this.length===0)return"";for(var Se=this.head,Ee=""+Se.data;Se=Se.next;)Ee+=we+Se.data;return Ee},be.prototype.concat=function(we){if(this.length===0)return s.alloc(0);for(var Se=s.allocUnsafe(we>>>0),Ee=this.head,me=0;Ee;)fe(Ee.data,Se,me),me+=Ee.data.length,Ee=Ee.next;return Se},be}(),se&&se.inspect&&se.inspect.custom&&(Y.exports.prototype[se.inspect.custom]=function(){var be=se.inspect({length:this.length});return this.constructor.name+" "+be})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var Y=requireProcessNextickArgs();function t(fe,be){var xe=this,we=this._readableState&&this._readableState.destroyed,Se=this._writableState&&this._writableState.destroyed;return we||Se?(be?be(fe):fe&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Y.nextTick(se,this,fe)):Y.nextTick(se,this,fe)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(fe||null,function(Ee){!be&&Ee?xe._writableState?xe._writableState.errorEmitted||(xe._writableState.errorEmitted=!0,Y.nextTick(se,xe,Ee)):Y.nextTick(se,xe,Ee):be&&be(Ee)}),this)}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function se(fe,be){fe.emit("error",be)}return destroy_1={destroy:t,undestroy:s},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var Y=requireProcessNextickArgs();_stream_writable=qr;function t(Xr){var ei=this;this.next=null,this.entry=null,this.finish=function(){ii(ei,Xr)}}var s=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:Y.nextTick,se;qr.WritableState=Oe;var fe=Object.create(requireUtil());fe.inherits=inherits_browserExports;var be={deprecate:browser$e},xe=requireStreamBrowser(),we=requireSafeBuffer().Buffer,Se=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Ee(Xr){return we.from(Xr)}function me(Xr){return we.isBuffer(Xr)||Xr instanceof Se}var Ie=requireDestroy();fe.inherits(qr,xe);function fr(){}function Oe(Xr,ei){se=se||require_stream_duplex(),Xr=Xr||{};var Zr=ei instanceof se;this.objectMode=!!Xr.objectMode,Zr&&(this.objectMode=this.objectMode||!!Xr.writableObjectMode);var Br=Xr.highWaterMark,si=Xr.writableHighWaterMark,Si=this.objectMode?16:16*1024;Br||Br===0?this.highWaterMark=Br:Zr&&(si||si===0)?this.highWaterMark=si:this.highWaterMark=Si,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ei=Xr.decodeStrings===!1;this.decodeStrings=!Ei,this.defaultEncoding=Xr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(qi){jr(ei,qi)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}Oe.prototype.getBuffer=function(){for(var ei=this.bufferedRequest,Zr=[];ei;)Zr.push(ei),ei=ei.next;return Zr},function(){try{Object.defineProperty(Oe.prototype,"buffer",{get:be.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var wr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(wr=Function.prototype[Symbol.hasInstance],Object.defineProperty(qr,Symbol.hasInstance,{value:function(Xr){return wr.call(this,Xr)?!0:this!==qr?!1:Xr&&Xr._writableState instanceof Oe}})):wr=function(Xr){return Xr instanceof this};function qr(Xr){if(se=se||require_stream_duplex(),!wr.call(qr,this)&&!(this instanceof se))return new qr(Xr);this._writableState=new Oe(Xr,this),this.writable=!0,Xr&&(typeof Xr.write=="function"&&(this._write=Xr.write),typeof Xr.writev=="function"&&(this._writev=Xr.writev),typeof Xr.destroy=="function"&&(this._destroy=Xr.destroy),typeof Xr.final=="function"&&(this._final=Xr.final)),xe.call(this)}qr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Gr(Xr,ei){var Zr=new Error("write after end");Xr.emit("error",Zr),Y.nextTick(ei,Zr)}function Yr(Xr,ei,Zr,Br){var si=!0,Si=!1;return Zr===null?Si=new TypeError("May not write null values to stream"):typeof Zr!="string"&&Zr!==void 0&&!ei.objectMode&&(Si=new TypeError("Invalid non-string/buffer chunk")),Si&&(Xr.emit("error",Si),Y.nextTick(Br,Si),si=!1),si}qr.prototype.write=function(Xr,ei,Zr){var Br=this._writableState,si=!1,Si=!Br.objectMode&&me(Xr);return Si&&!we.isBuffer(Xr)&&(Xr=Ee(Xr)),typeof ei=="function"&&(Zr=ei,ei=null),Si?ei="buffer":ei||(ei=Br.defaultEncoding),typeof Zr!="function"&&(Zr=fr),Br.ended?Gr(this,Zr):(Si||Yr(this,Br,Xr,Zr))&&(Br.pendingcb++,si=ti(this,Br,Si,Xr,ei,Zr)),si},qr.prototype.cork=function(){var Xr=this._writableState;Xr.corked++},qr.prototype.uncork=function(){var Xr=this._writableState;Xr.corked&&(Xr.corked--,!Xr.writing&&!Xr.corked&&!Xr.bufferProcessing&&Xr.bufferedRequest&&$i(this,Xr))},qr.prototype.setDefaultEncoding=function(ei){if(typeof ei=="string"&&(ei=ei.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ei+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ei);return this._writableState.defaultEncoding=ei,this};function Wr(Xr,ei,Zr){return!Xr.objectMode&&Xr.decodeStrings!==!1&&typeof ei=="string"&&(ei=we.from(ei,Zr)),ei}Object.defineProperty(qr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ti(Xr,ei,Zr,Br,si,Si){if(!Zr){var Ei=Wr(ei,Br,si);Br!==Ei&&(Zr=!0,si="buffer",Br=Ei)}var qi=ei.objectMode?1:Br.length;ei.length+=qi;var Ii=ei.length<ei.highWaterMark;if(Ii||(ei.needDrain=!0),ei.writing||ei.corked){var Ni=ei.lastBufferedRequest;ei.lastBufferedRequest={chunk:Br,encoding:si,isBuf:Zr,callback:Si,next:null},Ni?Ni.next=ei.lastBufferedRequest:ei.bufferedRequest=ei.lastBufferedRequest,ei.bufferedRequestCount+=1}else Qr(Xr,ei,!1,qi,Br,si,Si);return Ii}function Qr(Xr,ei,Zr,Br,si,Si,Ei){ei.writelen=Br,ei.writecb=Ei,ei.writing=!0,ei.sync=!0,Zr?Xr._writev(si,ei.onwrite):Xr._write(si,Si,ei.onwrite),ei.sync=!1}function oi(Xr,ei,Zr,Br,si){--ei.pendingcb,Zr?(Y.nextTick(si,Br),Y.nextTick(Vr,Xr,ei),Xr._writableState.errorEmitted=!0,Xr.emit("error",Br)):(si(Br),Xr._writableState.errorEmitted=!0,Xr.emit("error",Br),Vr(Xr,ei))}function fi(Xr){Xr.writing=!1,Xr.writecb=null,Xr.length-=Xr.writelen,Xr.writelen=0}function jr(Xr,ei){var Zr=Xr._writableState,Br=Zr.sync,si=Zr.writecb;if(fi(Zr),ei)oi(Xr,Zr,Br,ei,si);else{var Si=hi(Zr);!Si&&!Zr.corked&&!Zr.bufferProcessing&&Zr.bufferedRequest&&$i(Xr,Zr),Br?s(ci,Xr,Zr,Si,si):ci(Xr,Zr,Si,si)}}function ci(Xr,ei,Zr,Br){Zr||gi(Xr,ei),ei.pendingcb--,Br(),Vr(Xr,ei)}function gi(Xr,ei){ei.length===0&&ei.needDrain&&(ei.needDrain=!1,Xr.emit("drain"))}function $i(Xr,ei){ei.bufferProcessing=!0;var Zr=ei.bufferedRequest;if(Xr._writev&&Zr&&Zr.next){var Br=ei.bufferedRequestCount,si=new Array(Br),Si=ei.corkedRequestsFree;Si.entry=Zr;for(var Ei=0,qi=!0;Zr;)si[Ei]=Zr,Zr.isBuf||(qi=!1),Zr=Zr.next,Ei+=1;si.allBuffers=qi,Qr(Xr,ei,!0,ei.length,si,"",Si.finish),ei.pendingcb++,ei.lastBufferedRequest=null,Si.next?(ei.corkedRequestsFree=Si.next,Si.next=null):ei.corkedRequestsFree=new t(ei),ei.bufferedRequestCount=0}else{for(;Zr;){var Ii=Zr.chunk,Ni=Zr.encoding,ri=Zr.callback,ai=ei.objectMode?1:Ii.length;if(Qr(Xr,ei,!1,ai,Ii,Ni,ri),Zr=Zr.next,ei.bufferedRequestCount--,ei.writing)break}Zr===null&&(ei.lastBufferedRequest=null)}ei.bufferedRequest=Zr,ei.bufferProcessing=!1}qr.prototype._write=function(Xr,ei,Zr){Zr(new Error("_write() is not implemented"))},qr.prototype._writev=null,qr.prototype.end=function(Xr,ei,Zr){var Br=this._writableState;typeof Xr=="function"?(Zr=Xr,Xr=null,ei=null):typeof ei=="function"&&(Zr=ei,ei=null),Xr!=null&&this.write(Xr,ei),Br.corked&&(Br.corked=1,this.uncork()),Br.ending||Jr(this,Br,Zr)};function hi(Xr){return Xr.ending&&Xr.length===0&&Xr.bufferedRequest===null&&!Xr.finished&&!Xr.writing}function Er(Xr,ei){Xr._final(function(Zr){ei.pendingcb--,Zr&&Xr.emit("error",Zr),ei.prefinished=!0,Xr.emit("prefinish"),Vr(Xr,ei)})}function kr(Xr,ei){!ei.prefinished&&!ei.finalCalled&&(typeof Xr._final=="function"?(ei.pendingcb++,ei.finalCalled=!0,Y.nextTick(Er,Xr,ei)):(ei.prefinished=!0,Xr.emit("prefinish")))}function Vr(Xr,ei){var Zr=hi(ei);return Zr&&(kr(Xr,ei),ei.pendingcb===0&&(ei.finished=!0,Xr.emit("finish"))),Zr}function Jr(Xr,ei,Zr){ei.ending=!0,Vr(Xr,ei),Zr&&(ei.finished?Y.nextTick(Zr):Xr.once("finish",Zr)),ei.ended=!0,Xr.writable=!1}function ii(Xr,ei,Zr){var Br=Xr.entry;for(Xr.entry=null;Br;){var si=Br.callback;ei.pendingcb--,si(Zr),Br=Br.next}ei.corkedRequestsFree.next=Xr}return Object.defineProperty(qr.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Xr){this._writableState&&(this._writableState.destroyed=Xr)}}),qr.prototype.destroy=Ie.destroy,qr.prototype._undestroy=Ie.undestroy,qr.prototype._destroy=function(Xr,ei){this.end(),ei(Xr)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var Y=requireProcessNextickArgs(),t=Object.keys||function(Ie){var fr=[];for(var Oe in Ie)fr.push(Oe);return fr};_stream_duplex=Se;var s=Object.create(requireUtil());s.inherits=inherits_browserExports;var se=require_stream_readable(),fe=require_stream_writable();s.inherits(Se,se);for(var be=t(fe.prototype),xe=0;xe<be.length;xe++){var we=be[xe];Se.prototype[we]||(Se.prototype[we]=fe.prototype[we])}function Se(Ie){if(!(this instanceof Se))return new Se(Ie);se.call(this,Ie),fe.call(this,Ie),Ie&&Ie.readable===!1&&(this.readable=!1),Ie&&Ie.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,Ie&&Ie.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Ee)}Object.defineProperty(Se.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ee(){this.allowHalfOpen||this._writableState.ended||Y.nextTick(me,this)}function me(Ie){Ie.end()}return Object.defineProperty(Se.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Ie){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Ie,this._writableState.destroyed=Ie)}}),Se.prototype._destroy=function(Ie,fr){this.push(null),this.end(),Y.nextTick(fr,Ie)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var Y=requireProcessNextickArgs();_stream_readable=Wr;var t=requireIsarray(),s;Wr.ReadableState=Yr,eventsExports.EventEmitter;var se=function(ri,ai){return ri.listeners(ai).length},fe=requireStreamBrowser(),be=requireSafeBuffer().Buffer,xe=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function we(ri){return be.from(ri)}function Se(ri){return be.isBuffer(ri)||ri instanceof xe}var Ee=Object.create(requireUtil());Ee.inherits=inherits_browserExports;var me=util$1,Ie=void 0;me&&me.debuglog?Ie=me.debuglog("stream"):Ie=function(){};var fr=requireBufferList(),Oe=requireDestroy(),wr;Ee.inherits(Wr,fe);var qr=["error","close","destroy","pause","resume"];function Gr(ri,ai,li){if(typeof ri.prependListener=="function")return ri.prependListener(ai,li);!ri._events||!ri._events[ai]?ri.on(ai,li):t(ri._events[ai])?ri._events[ai].unshift(li):ri._events[ai]=[li,ri._events[ai]]}function Yr(ri,ai){s=s||require_stream_duplex(),ri=ri||{};var li=ai instanceof s;this.objectMode=!!ri.objectMode,li&&(this.objectMode=this.objectMode||!!ri.readableObjectMode);var Hr=ri.highWaterMark,vi=ri.readableHighWaterMark,xi=this.objectMode?16:16*1024;Hr||Hr===0?this.highWaterMark=Hr:li&&(vi||vi===0)?this.highWaterMark=vi:this.highWaterMark=xi,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new fr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ri.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ri.encoding&&(wr||(wr=requireString_decoder().StringDecoder),this.decoder=new wr(ri.encoding),this.encoding=ri.encoding)}function Wr(ri){if(s=s||require_stream_duplex(),!(this instanceof Wr))return new Wr(ri);this._readableState=new Yr(ri,this),this.readable=!0,ri&&(typeof ri.read=="function"&&(this._read=ri.read),typeof ri.destroy=="function"&&(this._destroy=ri.destroy)),fe.call(this)}Object.defineProperty(Wr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ri){this._readableState&&(this._readableState.destroyed=ri)}}),Wr.prototype.destroy=Oe.destroy,Wr.prototype._undestroy=Oe.undestroy,Wr.prototype._destroy=function(ri,ai){this.push(null),ai(ri)},Wr.prototype.push=function(ri,ai){var li=this._readableState,Hr;return li.objectMode?Hr=!0:typeof ri=="string"&&(ai=ai||li.defaultEncoding,ai!==li.encoding&&(ri=be.from(ri,ai),ai=""),Hr=!0),ti(this,ri,ai,!1,Hr)},Wr.prototype.unshift=function(ri){return ti(this,ri,null,!0,!1)};function ti(ri,ai,li,Hr,vi){var xi=ri._readableState;if(ai===null)xi.reading=!1,$i(ri,xi);else{var Di;vi||(Di=oi(xi,ai)),Di?ri.emit("error",Di):xi.objectMode||ai&&ai.length>0?(typeof ai!="string"&&!xi.objectMode&&Object.getPrototypeOf(ai)!==be.prototype&&(ai=we(ai)),Hr?xi.endEmitted?ri.emit("error",new Error("stream.unshift() after end event")):Qr(ri,xi,ai,!0):xi.ended?ri.emit("error",new Error("stream.push() after EOF")):(xi.reading=!1,xi.decoder&&!li?(ai=xi.decoder.write(ai),xi.objectMode||ai.length!==0?Qr(ri,xi,ai,!1):kr(ri,xi)):Qr(ri,xi,ai,!1))):Hr||(xi.reading=!1)}return fi(xi)}function Qr(ri,ai,li,Hr){ai.flowing&&ai.length===0&&!ai.sync?(ri.emit("data",li),ri.read(0)):(ai.length+=ai.objectMode?1:li.length,Hr?ai.buffer.unshift(li):ai.buffer.push(li),ai.needReadable&&hi(ri)),kr(ri,ai)}function oi(ri,ai){var li;return!Se(ai)&&typeof ai!="string"&&ai!==void 0&&!ri.objectMode&&(li=new TypeError("Invalid non-string/buffer chunk")),li}function fi(ri){return!ri.ended&&(ri.needReadable||ri.length<ri.highWaterMark||ri.length===0)}Wr.prototype.isPaused=function(){return this._readableState.flowing===!1},Wr.prototype.setEncoding=function(ri){return wr||(wr=requireString_decoder().StringDecoder),this._readableState.decoder=new wr(ri),this._readableState.encoding=ri,this};var jr=8388608;function ci(ri){return ri>=jr?ri=jr:(ri--,ri|=ri>>>1,ri|=ri>>>2,ri|=ri>>>4,ri|=ri>>>8,ri|=ri>>>16,ri++),ri}function gi(ri,ai){return ri<=0||ai.length===0&&ai.ended?0:ai.objectMode?1:ri!==ri?ai.flowing&&ai.length?ai.buffer.head.data.length:ai.length:(ri>ai.highWaterMark&&(ai.highWaterMark=ci(ri)),ri<=ai.length?ri:ai.ended?ai.length:(ai.needReadable=!0,0))}Wr.prototype.read=function(ri){Ie("read",ri),ri=parseInt(ri,10);var ai=this._readableState,li=ri;if(ri!==0&&(ai.emittedReadable=!1),ri===0&&ai.needReadable&&(ai.length>=ai.highWaterMark||ai.ended))return Ie("read: emitReadable",ai.length,ai.ended),ai.length===0&&ai.ended?qi(this):hi(this),null;if(ri=gi(ri,ai),ri===0&&ai.ended)return ai.length===0&&qi(this),null;var Hr=ai.needReadable;Ie("need readable",Hr),(ai.length===0||ai.length-ri<ai.highWaterMark)&&(Hr=!0,Ie("length less than watermark",Hr)),ai.ended||ai.reading?(Hr=!1,Ie("reading or ended",Hr)):Hr&&(Ie("do read"),ai.reading=!0,ai.sync=!0,ai.length===0&&(ai.needReadable=!0),this._read(ai.highWaterMark),ai.sync=!1,ai.reading||(ri=gi(li,ai)));var vi;return ri>0?vi=Br(ri,ai):vi=null,vi===null?(ai.needReadable=!0,ri=0):ai.length-=ri,ai.length===0&&(ai.ended||(ai.needReadable=!0),li!==ri&&ai.ended&&qi(this)),vi!==null&&this.emit("data",vi),vi};function $i(ri,ai){if(!ai.ended){if(ai.decoder){var li=ai.decoder.end();li&&li.length&&(ai.buffer.push(li),ai.length+=ai.objectMode?1:li.length)}ai.ended=!0,hi(ri)}}function hi(ri){var ai=ri._readableState;ai.needReadable=!1,ai.emittedReadable||(Ie("emitReadable",ai.flowing),ai.emittedReadable=!0,ai.sync?Y.nextTick(Er,ri):Er(ri))}function Er(ri){Ie("emit readable"),ri.emit("readable"),Zr(ri)}function kr(ri,ai){ai.readingMore||(ai.readingMore=!0,Y.nextTick(Vr,ri,ai))}function Vr(ri,ai){for(var li=ai.length;!ai.reading&&!ai.flowing&&!ai.ended&&ai.length<ai.highWaterMark&&(Ie("maybeReadMore read 0"),ri.read(0),li!==ai.length);)li=ai.length;ai.readingMore=!1}Wr.prototype._read=function(ri){this.emit("error",new Error("_read() is not implemented"))},Wr.prototype.pipe=function(ri,ai){var li=this,Hr=this._readableState;switch(Hr.pipesCount){case 0:Hr.pipes=ri;break;case 1:Hr.pipes=[Hr.pipes,ri];break;default:Hr.pipes.push(ri);break}Hr.pipesCount+=1,Ie("pipe count=%d opts=%j",Hr.pipesCount,ai);var vi=(!ai||ai.end!==!1)&&ri!==process$1.stdout&&ri!==process$1.stderr,xi=vi?Rn:On;Hr.endEmitted?Y.nextTick(xi):li.once("end",xi),ri.on("unpipe",Di);function Di(ki,Ti){Ie("onunpipe"),ki===li&&Ti&&Ti.hasUnpiped===!1&&(Ti.hasUnpiped=!0,Nn())}function Rn(){Ie("onend"),ri.end()}var Ki=Jr(li);ri.on("drain",Ki);var wn=!1;function Nn(){Ie("cleanup"),ri.removeListener("close",ji),ri.removeListener("finish",Vi),ri.removeListener("drain",Ki),ri.removeListener("error",Yn),ri.removeListener("unpipe",Di),li.removeListener("end",Rn),li.removeListener("end",On),li.removeListener("data",jn),wn=!0,Hr.awaitDrain&&(!ri._writableState||ri._writableState.needDrain)&&Ki()}var Tn=!1;li.on("data",jn);function jn(ki){Ie("ondata"),Tn=!1;var Ti=ri.write(ki);Ti===!1&&!Tn&&((Hr.pipesCount===1&&Hr.pipes===ri||Hr.pipesCount>1&&Ni(Hr.pipes,ri)!==-1)&&!wn&&(Ie("false write response, pause",Hr.awaitDrain),Hr.awaitDrain++,Tn=!0),li.pause())}function Yn(ki){Ie("onerror",ki),On(),ri.removeListener("error",Yn),se(ri,"error")===0&&ri.emit("error",ki)}Gr(ri,"error",Yn);function ji(){ri.removeListener("finish",Vi),On()}ri.once("close",ji);function Vi(){Ie("onfinish"),ri.removeListener("close",ji),On()}ri.once("finish",Vi);function On(){Ie("unpipe"),li.unpipe(ri)}return ri.emit("pipe",li),Hr.flowing||(Ie("pipe resume"),li.resume()),ri};function Jr(ri){return function(){var ai=ri._readableState;Ie("pipeOnDrain",ai.awaitDrain),ai.awaitDrain&&ai.awaitDrain--,ai.awaitDrain===0&&se(ri,"data")&&(ai.flowing=!0,Zr(ri))}}Wr.prototype.unpipe=function(ri){var ai=this._readableState,li={hasUnpiped:!1};if(ai.pipesCount===0)return this;if(ai.pipesCount===1)return ri&&ri!==ai.pipes?this:(ri||(ri=ai.pipes),ai.pipes=null,ai.pipesCount=0,ai.flowing=!1,ri&&ri.emit("unpipe",this,li),this);if(!ri){var Hr=ai.pipes,vi=ai.pipesCount;ai.pipes=null,ai.pipesCount=0,ai.flowing=!1;for(var xi=0;xi<vi;xi++)Hr[xi].emit("unpipe",this,{hasUnpiped:!1});return this}var Di=Ni(ai.pipes,ri);return Di===-1?this:(ai.pipes.splice(Di,1),ai.pipesCount-=1,ai.pipesCount===1&&(ai.pipes=ai.pipes[0]),ri.emit("unpipe",this,li),this)},Wr.prototype.on=function(ri,ai){var li=fe.prototype.on.call(this,ri,ai);if(ri==="data")this._readableState.flowing!==!1&&this.resume();else if(ri==="readable"){var Hr=this._readableState;!Hr.endEmitted&&!Hr.readableListening&&(Hr.readableListening=Hr.needReadable=!0,Hr.emittedReadable=!1,Hr.reading?Hr.length&&hi(this):Y.nextTick(ii,this))}return li},Wr.prototype.addListener=Wr.prototype.on;function ii(ri){Ie("readable nexttick read 0"),ri.read(0)}Wr.prototype.resume=function(){var ri=this._readableState;return ri.flowing||(Ie("resume"),ri.flowing=!0,Xr(this,ri)),this};function Xr(ri,ai){ai.resumeScheduled||(ai.resumeScheduled=!0,Y.nextTick(ei,ri,ai))}function ei(ri,ai){ai.reading||(Ie("resume read 0"),ri.read(0)),ai.resumeScheduled=!1,ai.awaitDrain=0,ri.emit("resume"),Zr(ri),ai.flowing&&!ai.reading&&ri.read(0)}Wr.prototype.pause=function(){return Ie("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ie("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Zr(ri){var ai=ri._readableState;for(Ie("flow",ai.flowing);ai.flowing&&ri.read()!==null;);}Wr.prototype.wrap=function(ri){var ai=this,li=this._readableState,Hr=!1;ri.on("end",function(){if(Ie("wrapped end"),li.decoder&&!li.ended){var Di=li.decoder.end();Di&&Di.length&&ai.push(Di)}ai.push(null)}),ri.on("data",function(Di){if(Ie("wrapped data"),li.decoder&&(Di=li.decoder.write(Di)),!(li.objectMode&&Di==null)&&!(!li.objectMode&&(!Di||!Di.length))){var Rn=ai.push(Di);Rn||(Hr=!0,ri.pause())}});for(var vi in ri)this[vi]===void 0&&typeof ri[vi]=="function"&&(this[vi]=function(Di){return function(){return ri[Di].apply(ri,arguments)}}(vi));for(var xi=0;xi<qr.length;xi++)ri.on(qr[xi],this.emit.bind(this,qr[xi]));return this._read=function(Di){Ie("wrapped _read",Di),Hr&&(Hr=!1,ri.resume())},this},Object.defineProperty(Wr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Wr._fromList=Br;function Br(ri,ai){if(ai.length===0)return null;var li;return ai.objectMode?li=ai.buffer.shift():!ri||ri>=ai.length?(ai.decoder?li=ai.buffer.join(""):ai.buffer.length===1?li=ai.buffer.head.data:li=ai.buffer.concat(ai.length),ai.buffer.clear()):li=si(ri,ai.buffer,ai.decoder),li}function si(ri,ai,li){var Hr;return ri<ai.head.data.length?(Hr=ai.head.data.slice(0,ri),ai.head.data=ai.head.data.slice(ri)):ri===ai.head.data.length?Hr=ai.shift():Hr=li?Si(ri,ai):Ei(ri,ai),Hr}function Si(ri,ai){var li=ai.head,Hr=1,vi=li.data;for(ri-=vi.length;li=li.next;){var xi=li.data,Di=ri>xi.length?xi.length:ri;if(Di===xi.length?vi+=xi:vi+=xi.slice(0,ri),ri-=Di,ri===0){Di===xi.length?(++Hr,li.next?ai.head=li.next:ai.head=ai.tail=null):(ai.head=li,li.data=xi.slice(Di));break}++Hr}return ai.length-=Hr,vi}function Ei(ri,ai){var li=be.allocUnsafe(ri),Hr=ai.head,vi=1;for(Hr.data.copy(li),ri-=Hr.data.length;Hr=Hr.next;){var xi=Hr.data,Di=ri>xi.length?xi.length:ri;if(xi.copy(li,li.length-ri,0,Di),ri-=Di,ri===0){Di===xi.length?(++vi,Hr.next?ai.head=Hr.next:ai.head=ai.tail=null):(ai.head=Hr,Hr.data=xi.slice(Di));break}++vi}return ai.length-=vi,li}function qi(ri){var ai=ri._readableState;if(ai.length>0)throw new Error('"endReadable()" called on non-empty stream');ai.endEmitted||(ai.ended=!0,Y.nextTick(Ii,ai,ri))}function Ii(ri,ai){!ri.endEmitted&&ri.length===0&&(ri.endEmitted=!0,ai.readable=!1,ai.emit("end"))}function Ni(ri,ai){for(var li=0,Hr=ri.length;li<Hr;li++)if(ri[li]===ai)return li;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=se;var Y=require_stream_duplex(),t=Object.create(requireUtil());t.inherits=inherits_browserExports,t.inherits(se,Y);function s(xe,we){var Se=this._transformState;Se.transforming=!1;var Ee=Se.writecb;if(!Ee)return this.emit("error",new Error("write callback called multiple times"));Se.writechunk=null,Se.writecb=null,we!=null&&this.push(we),Ee(xe);var me=this._readableState;me.reading=!1,(me.needReadable||me.length<me.highWaterMark)&&this._read(me.highWaterMark)}function se(xe){if(!(this instanceof se))return new se(xe);Y.call(this,xe),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,xe&&(typeof xe.transform=="function"&&(this._transform=xe.transform),typeof xe.flush=="function"&&(this._flush=xe.flush)),this.on("prefinish",fe)}function fe(){var xe=this;typeof this._flush=="function"?this._flush(function(we,Se){be(xe,we,Se)}):be(this,null,null)}se.prototype.push=function(xe,we){return this._transformState.needTransform=!1,Y.prototype.push.call(this,xe,we)},se.prototype._transform=function(xe,we,Se){throw new Error("_transform() is not implemented")},se.prototype._write=function(xe,we,Se){var Ee=this._transformState;if(Ee.writecb=Se,Ee.writechunk=xe,Ee.writeencoding=we,!Ee.transforming){var me=this._readableState;(Ee.needTransform||me.needReadable||me.length<me.highWaterMark)&&this._read(me.highWaterMark)}},se.prototype._read=function(xe){var we=this._transformState;we.writechunk!==null&&we.writecb&&!we.transforming?(we.transforming=!0,this._transform(we.writechunk,we.writeencoding,we.afterTransform)):we.needTransform=!0},se.prototype._destroy=function(xe,we){var Se=this;Y.prototype._destroy.call(this,xe,function(Ee){we(Ee),Se.emit("close")})};function be(xe,we,Se){if(we)return xe.emit("error",we);if(Se!=null&&xe.push(Se),xe._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(xe._transformState.transforming)throw new Error("Calling transform done when still transforming");return xe.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=s;var Y=require_stream_transform(),t=Object.create(requireUtil());t.inherits=inherits_browserExports,t.inherits(s,Y);function s(se){if(!(this instanceof s))return new s(se);Y.call(this,se)}return s.prototype._transform=function(se,fe,be){be(null,se)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(Y,t){t=Y.exports=require_stream_readable(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable(),t.Duplex=require_stream_duplex(),t.Transform=require_stream_transform(),t.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var Y=bnExports,t=requireBrowser$a();function s(be){var xe=se(be),we=xe.toRed(Y.mont(be.modulus)).redPow(new Y(be.publicExponent)).fromRed();return{blinder:we,unblinder:xe.invm(be.modulus)}}function se(be){var xe=be.modulus.byteLength(),we;do we=new Y(t(xe));while(we.cmp(be.modulus)>=0||!we.umod(be.prime1)||!we.umod(be.prime2));return we}function fe(be,xe){var we=s(xe),Se=xe.modulus.byteLength(),Ee=new Y(be).mul(we.blinder).umod(xe.modulus),me=Ee.toRed(Y.mont(xe.prime1)),Ie=Ee.toRed(Y.mont(xe.prime2)),fr=xe.coefficient,Oe=xe.prime1,wr=xe.prime2,qr=me.redPow(xe.exponent1).fromRed(),Gr=Ie.redPow(xe.exponent2).fromRed(),Yr=qr.isub(Gr).imul(fr).umod(Oe).imul(wr);return Gr.iadd(Yr).imul(we.unblinder).umod(xe.modulus).toArrayLike(Buffer,"be",Se)}return fe.getr=se,browserifyRsa=fe,browserifyRsa}var elliptic={};const name="elliptic",version="6.5.5",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$3={name,version,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$3={},utils$2={},hasRequiredUtils$3;function requireUtils$3(){return hasRequiredUtils$3||(hasRequiredUtils$3=1,function(Y){var t=Y;function s(be,xe){if(Array.isArray(be))return be.slice();if(!be)return[];var we=[];if(typeof be!="string"){for(var Se=0;Se<be.length;Se++)we[Se]=be[Se]|0;return we}if(xe==="hex"){be=be.replace(/[^a-z0-9]+/ig,""),be.length%2!==0&&(be="0"+be);for(var Se=0;Se<be.length;Se+=2)we.push(parseInt(be[Se]+be[Se+1],16))}else for(var Se=0;Se<be.length;Se++){var Ee=be.charCodeAt(Se),me=Ee>>8,Ie=Ee&255;me?we.push(me,Ie):we.push(Ie)}return we}t.toArray=s;function se(be){return be.length===1?"0"+be:be}t.zero2=se;function fe(be){for(var xe="",we=0;we<be.length;we++)xe+=se(be[we].toString(16));return xe}t.toHex=fe,t.encode=function(xe,we){return we==="hex"?fe(xe):xe}}(utils$2)),utils$2}var hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(Y){var t=Y,s=requireBn(),se=requireMinimalisticAssert(),fe=requireUtils$3();t.assert=se,t.toArray=fe.toArray,t.zero2=fe.zero2,t.toHex=fe.toHex,t.encode=fe.encode;function be(me,Ie,fr){var Oe=new Array(Math.max(me.bitLength(),fr)+1),wr;for(wr=0;wr<Oe.length;wr+=1)Oe[wr]=0;var qr=1<<Ie+1,Gr=me.clone();for(wr=0;wr<Oe.length;wr++){var Yr,Wr=Gr.andln(qr-1);Gr.isOdd()?(Wr>(qr>>1)-1?Yr=(qr>>1)-Wr:Yr=Wr,Gr.isubn(Yr)):Yr=0,Oe[wr]=Yr,Gr.iushrn(1)}return Oe}t.getNAF=be;function xe(me,Ie){var fr=[[],[]];me=me.clone(),Ie=Ie.clone();for(var Oe=0,wr=0,qr;me.cmpn(-Oe)>0||Ie.cmpn(-wr)>0;){var Gr=me.andln(3)+Oe&3,Yr=Ie.andln(3)+wr&3;Gr===3&&(Gr=-1),Yr===3&&(Yr=-1);var Wr;Gr&1?(qr=me.andln(7)+Oe&7,(qr===3||qr===5)&&Yr===2?Wr=-Gr:Wr=Gr):Wr=0,fr[0].push(Wr);var ti;Yr&1?(qr=Ie.andln(7)+wr&7,(qr===3||qr===5)&&Gr===2?ti=-Yr:ti=Yr):ti=0,fr[1].push(ti),2*Oe===Wr+1&&(Oe=1-Oe),2*wr===ti+1&&(wr=1-wr),me.iushrn(1),Ie.iushrn(1)}return fr}t.getJSF=xe;function we(me,Ie,fr){var Oe="_"+Ie;me.prototype[Ie]=function(){return this[Oe]!==void 0?this[Oe]:this[Oe]=fr.call(this)}}t.cachedProperty=we;function Se(me){return typeof me=="string"?t.toArray(me,"hex"):me}t.parseBytes=Se;function Ee(me){return new s(me,"hex","le")}t.intFromLE=Ee}(utils$3)),utils$3}var curve={},base$2,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$2;hasRequiredBase$1=1;var Y=requireBn(),t=requireUtils$2(),s=t.getNAF,se=t.getJSF,fe=t.assert;function be(we,Se){this.type=we,this.p=new Y(Se.p,16),this.red=Se.prime?Y.red(Se.prime):Y.mont(this.p),this.zero=new Y(0).toRed(this.red),this.one=new Y(1).toRed(this.red),this.two=new Y(2).toRed(this.red),this.n=Se.n&&new Y(Se.n,16),this.g=Se.g&&this.pointFromJSON(Se.g,Se.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Ee=this.n&&this.p.div(this.n);!Ee||Ee.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$2=be,be.prototype.point=function(){throw new Error("Not implemented")},be.prototype.validate=function(){throw new Error("Not implemented")},be.prototype._fixedNafMul=function(Se,Ee){fe(Se.precomputed);var me=Se._getDoubles(),Ie=s(Ee,1,this._bitLength),fr=(1<<me.step+1)-(me.step%2===0?2:1);fr/=3;var Oe=[],wr,qr;for(wr=0;wr<Ie.length;wr+=me.step){qr=0;for(var Gr=wr+me.step-1;Gr>=wr;Gr--)qr=(qr<<1)+Ie[Gr];Oe.push(qr)}for(var Yr=this.jpoint(null,null,null),Wr=this.jpoint(null,null,null),ti=fr;ti>0;ti--){for(wr=0;wr<Oe.length;wr++)qr=Oe[wr],qr===ti?Wr=Wr.mixedAdd(me.points[wr]):qr===-ti&&(Wr=Wr.mixedAdd(me.points[wr].neg()));Yr=Yr.add(Wr)}return Yr.toP()},be.prototype._wnafMul=function(Se,Ee){var me=4,Ie=Se._getNAFPoints(me);me=Ie.wnd;for(var fr=Ie.points,Oe=s(Ee,me,this._bitLength),wr=this.jpoint(null,null,null),qr=Oe.length-1;qr>=0;qr--){for(var Gr=0;qr>=0&&Oe[qr]===0;qr--)Gr++;if(qr>=0&&Gr++,wr=wr.dblp(Gr),qr<0)break;var Yr=Oe[qr];fe(Yr!==0),Se.type==="affine"?Yr>0?wr=wr.mixedAdd(fr[Yr-1>>1]):wr=wr.mixedAdd(fr[-Yr-1>>1].neg()):Yr>0?wr=wr.add(fr[Yr-1>>1]):wr=wr.add(fr[-Yr-1>>1].neg())}return Se.type==="affine"?wr.toP():wr},be.prototype._wnafMulAdd=function(Se,Ee,me,Ie,fr){var Oe=this._wnafT1,wr=this._wnafT2,qr=this._wnafT3,Gr=0,Yr,Wr,ti;for(Yr=0;Yr<Ie;Yr++){ti=Ee[Yr];var Qr=ti._getNAFPoints(Se);Oe[Yr]=Qr.wnd,wr[Yr]=Qr.points}for(Yr=Ie-1;Yr>=1;Yr-=2){var oi=Yr-1,fi=Yr;if(Oe[oi]!==1||Oe[fi]!==1){qr[oi]=s(me[oi],Oe[oi],this._bitLength),qr[fi]=s(me[fi],Oe[fi],this._bitLength),Gr=Math.max(qr[oi].length,Gr),Gr=Math.max(qr[fi].length,Gr);continue}var jr=[Ee[oi],null,null,Ee[fi]];Ee[oi].y.cmp(Ee[fi].y)===0?(jr[1]=Ee[oi].add(Ee[fi]),jr[2]=Ee[oi].toJ().mixedAdd(Ee[fi].neg())):Ee[oi].y.cmp(Ee[fi].y.redNeg())===0?(jr[1]=Ee[oi].toJ().mixedAdd(Ee[fi]),jr[2]=Ee[oi].add(Ee[fi].neg())):(jr[1]=Ee[oi].toJ().mixedAdd(Ee[fi]),jr[2]=Ee[oi].toJ().mixedAdd(Ee[fi].neg()));var ci=[-3,-1,-5,-7,0,7,5,1,3],gi=se(me[oi],me[fi]);for(Gr=Math.max(gi[0].length,Gr),qr[oi]=new Array(Gr),qr[fi]=new Array(Gr),Wr=0;Wr<Gr;Wr++){var $i=gi[0][Wr]|0,hi=gi[1][Wr]|0;qr[oi][Wr]=ci[($i+1)*3+(hi+1)],qr[fi][Wr]=0,wr[oi]=jr}}var Er=this.jpoint(null,null,null),kr=this._wnafT4;for(Yr=Gr;Yr>=0;Yr--){for(var Vr=0;Yr>=0;){var Jr=!0;for(Wr=0;Wr<Ie;Wr++)kr[Wr]=qr[Wr][Yr]|0,kr[Wr]!==0&&(Jr=!1);if(!Jr)break;Vr++,Yr--}if(Yr>=0&&Vr++,Er=Er.dblp(Vr),Yr<0)break;for(Wr=0;Wr<Ie;Wr++){var ii=kr[Wr];ii!==0&&(ii>0?ti=wr[Wr][ii-1>>1]:ii<0&&(ti=wr[Wr][-ii-1>>1].neg()),ti.type==="affine"?Er=Er.mixedAdd(ti):Er=Er.add(ti))}}for(Yr=0;Yr<Ie;Yr++)wr[Yr]=null;return fr?Er:Er.toP()};function xe(we,Se){this.curve=we,this.type=Se,this.precomputed=null}return be.BasePoint=xe,xe.prototype.eq=function(){throw new Error("Not implemented")},xe.prototype.validate=function(){return this.curve.validate(this)},be.prototype.decodePoint=function(Se,Ee){Se=t.toArray(Se,Ee);var me=this.p.byteLength();if((Se[0]===4||Se[0]===6||Se[0]===7)&&Se.length-1===2*me){Se[0]===6?fe(Se[Se.length-1]%2===0):Se[0]===7&&fe(Se[Se.length-1]%2===1);var Ie=this.point(Se.slice(1,1+me),Se.slice(1+me,1+2*me));return Ie}else if((Se[0]===2||Se[0]===3)&&Se.length-1===me)return this.pointFromX(Se.slice(1,1+me),Se[0]===3);throw new Error("Unknown point format")},xe.prototype.encodeCompressed=function(Se){return this.encode(Se,!0)},xe.prototype._encode=function(Se){var Ee=this.curve.p.byteLength(),me=this.getX().toArray("be",Ee);return Se?[this.getY().isEven()?2:3].concat(me):[4].concat(me,this.getY().toArray("be",Ee))},xe.prototype.encode=function(Se,Ee){return t.encode(this._encode(Ee),Se)},xe.prototype.precompute=function(Se){if(this.precomputed)return this;var Ee={doubles:null,naf:null,beta:null};return Ee.naf=this._getNAFPoints(8),Ee.doubles=this._getDoubles(4,Se),Ee.beta=this._getBeta(),this.precomputed=Ee,this},xe.prototype._hasDoubles=function(Se){if(!this.precomputed)return!1;var Ee=this.precomputed.doubles;return Ee?Ee.points.length>=Math.ceil((Se.bitLength()+1)/Ee.step):!1},xe.prototype._getDoubles=function(Se,Ee){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var me=[this],Ie=this,fr=0;fr<Ee;fr+=Se){for(var Oe=0;Oe<Se;Oe++)Ie=Ie.dbl();me.push(Ie)}return{step:Se,points:me}},xe.prototype._getNAFPoints=function(Se){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var Ee=[this],me=(1<<Se)-1,Ie=me===1?null:this.dbl(),fr=1;fr<me;fr++)Ee[fr]=Ee[fr-1].add(Ie);return{wnd:Se,points:Ee}},xe.prototype._getBeta=function(){return null},xe.prototype.dblp=function(Se){for(var Ee=this,me=0;me<Se;me++)Ee=Ee.dbl();return Ee},base$2}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var Y=requireUtils$2(),t=requireBn(),s=inherits_browserExports,se=requireBase$1(),fe=Y.assert;function be(Se){se.call(this,"short",Se),this.a=new t(Se.a,16).toRed(this.red),this.b=new t(Se.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Se),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}s(be,se),short=be,be.prototype._getEndomorphism=function(Ee){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var me,Ie;if(Ee.beta)me=new t(Ee.beta,16).toRed(this.red);else{var fr=this._getEndoRoots(this.p);me=fr[0].cmp(fr[1])<0?fr[0]:fr[1],me=me.toRed(this.red)}if(Ee.lambda)Ie=new t(Ee.lambda,16);else{var Oe=this._getEndoRoots(this.n);this.g.mul(Oe[0]).x.cmp(this.g.x.redMul(me))===0?Ie=Oe[0]:(Ie=Oe[1],fe(this.g.mul(Ie).x.cmp(this.g.x.redMul(me))===0))}var wr;return Ee.basis?wr=Ee.basis.map(function(qr){return{a:new t(qr.a,16),b:new t(qr.b,16)}}):wr=this._getEndoBasis(Ie),{beta:me,lambda:Ie,basis:wr}}},be.prototype._getEndoRoots=function(Ee){var me=Ee===this.p?this.red:t.mont(Ee),Ie=new t(2).toRed(me).redInvm(),fr=Ie.redNeg(),Oe=new t(3).toRed(me).redNeg().redSqrt().redMul(Ie),wr=fr.redAdd(Oe).fromRed(),qr=fr.redSub(Oe).fromRed();return[wr,qr]},be.prototype._getEndoBasis=function(Ee){for(var me=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Ie=Ee,fr=this.n.clone(),Oe=new t(1),wr=new t(0),qr=new t(0),Gr=new t(1),Yr,Wr,ti,Qr,oi,fi,jr,ci=0,gi,$i;Ie.cmpn(0)!==0;){var hi=fr.div(Ie);gi=fr.sub(hi.mul(Ie)),$i=qr.sub(hi.mul(Oe));var Er=Gr.sub(hi.mul(wr));if(!ti&&gi.cmp(me)<0)Yr=jr.neg(),Wr=Oe,ti=gi.neg(),Qr=$i;else if(ti&&++ci===2)break;jr=gi,fr=Ie,Ie=gi,qr=Oe,Oe=$i,Gr=wr,wr=Er}oi=gi.neg(),fi=$i;var kr=ti.sqr().add(Qr.sqr()),Vr=oi.sqr().add(fi.sqr());return Vr.cmp(kr)>=0&&(oi=Yr,fi=Wr),ti.negative&&(ti=ti.neg(),Qr=Qr.neg()),oi.negative&&(oi=oi.neg(),fi=fi.neg()),[{a:ti,b:Qr},{a:oi,b:fi}]},be.prototype._endoSplit=function(Ee){var me=this.endo.basis,Ie=me[0],fr=me[1],Oe=fr.b.mul(Ee).divRound(this.n),wr=Ie.b.neg().mul(Ee).divRound(this.n),qr=Oe.mul(Ie.a),Gr=wr.mul(fr.a),Yr=Oe.mul(Ie.b),Wr=wr.mul(fr.b),ti=Ee.sub(qr).sub(Gr),Qr=Yr.add(Wr).neg();return{k1:ti,k2:Qr}},be.prototype.pointFromX=function(Ee,me){Ee=new t(Ee,16),Ee.red||(Ee=Ee.toRed(this.red));var Ie=Ee.redSqr().redMul(Ee).redIAdd(Ee.redMul(this.a)).redIAdd(this.b),fr=Ie.redSqrt();if(fr.redSqr().redSub(Ie).cmp(this.zero)!==0)throw new Error("invalid point");var Oe=fr.fromRed().isOdd();return(me&&!Oe||!me&&Oe)&&(fr=fr.redNeg()),this.point(Ee,fr)},be.prototype.validate=function(Ee){if(Ee.inf)return!0;var me=Ee.x,Ie=Ee.y,fr=this.a.redMul(me),Oe=me.redSqr().redMul(me).redIAdd(fr).redIAdd(this.b);return Ie.redSqr().redISub(Oe).cmpn(0)===0},be.prototype._endoWnafMulAdd=function(Ee,me,Ie){for(var fr=this._endoWnafT1,Oe=this._endoWnafT2,wr=0;wr<Ee.length;wr++){var qr=this._endoSplit(me[wr]),Gr=Ee[wr],Yr=Gr._getBeta();qr.k1.negative&&(qr.k1.ineg(),Gr=Gr.neg(!0)),qr.k2.negative&&(qr.k2.ineg(),Yr=Yr.neg(!0)),fr[wr*2]=Gr,fr[wr*2+1]=Yr,Oe[wr*2]=qr.k1,Oe[wr*2+1]=qr.k2}for(var Wr=this._wnafMulAdd(1,fr,Oe,wr*2,Ie),ti=0;ti<wr*2;ti++)fr[ti]=null,Oe[ti]=null;return Wr};function xe(Se,Ee,me,Ie){se.BasePoint.call(this,Se,"affine"),Ee===null&&me===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(Ee,16),this.y=new t(me,16),Ie&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}s(xe,se.BasePoint),be.prototype.point=function(Ee,me,Ie){return new xe(this,Ee,me,Ie)},be.prototype.pointFromJSON=function(Ee,me){return xe.fromJSON(this,Ee,me)},xe.prototype._getBeta=function(){if(this.curve.endo){var Ee=this.precomputed;if(Ee&&Ee.beta)return Ee.beta;var me=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Ee){var Ie=this.curve,fr=function(Oe){return Ie.point(Oe.x.redMul(Ie.endo.beta),Oe.y)};Ee.beta=me,me.precomputed={beta:null,naf:Ee.naf&&{wnd:Ee.naf.wnd,points:Ee.naf.points.map(fr)},doubles:Ee.doubles&&{step:Ee.doubles.step,points:Ee.doubles.points.map(fr)}}}return me}},xe.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},xe.fromJSON=function(Ee,me,Ie){typeof me=="string"&&(me=JSON.parse(me));var fr=Ee.point(me[0],me[1],Ie);if(!me[2])return fr;function Oe(qr){return Ee.point(qr[0],qr[1],Ie)}var wr=me[2];return fr.precomputed={beta:null,doubles:wr.doubles&&{step:wr.doubles.step,points:[fr].concat(wr.doubles.points.map(Oe))},naf:wr.naf&&{wnd:wr.naf.wnd,points:[fr].concat(wr.naf.points.map(Oe))}},fr},xe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},xe.prototype.isInfinity=function(){return this.inf},xe.prototype.add=function(Ee){if(this.inf)return Ee;if(Ee.inf)return this;if(this.eq(Ee))return this.dbl();if(this.neg().eq(Ee))return this.curve.point(null,null);if(this.x.cmp(Ee.x)===0)return this.curve.point(null,null);var me=this.y.redSub(Ee.y);me.cmpn(0)!==0&&(me=me.redMul(this.x.redSub(Ee.x).redInvm()));var Ie=me.redSqr().redISub(this.x).redISub(Ee.x),fr=me.redMul(this.x.redSub(Ie)).redISub(this.y);return this.curve.point(Ie,fr)},xe.prototype.dbl=function(){if(this.inf)return this;var Ee=this.y.redAdd(this.y);if(Ee.cmpn(0)===0)return this.curve.point(null,null);var me=this.curve.a,Ie=this.x.redSqr(),fr=Ee.redInvm(),Oe=Ie.redAdd(Ie).redIAdd(Ie).redIAdd(me).redMul(fr),wr=Oe.redSqr().redISub(this.x.redAdd(this.x)),qr=Oe.redMul(this.x.redSub(wr)).redISub(this.y);return this.curve.point(wr,qr)},xe.prototype.getX=function(){return this.x.fromRed()},xe.prototype.getY=function(){return this.y.fromRed()},xe.prototype.mul=function(Ee){return Ee=new t(Ee,16),this.isInfinity()?this:this._hasDoubles(Ee)?this.curve._fixedNafMul(this,Ee):this.curve.endo?this.curve._endoWnafMulAdd([this],[Ee]):this.curve._wnafMul(this,Ee)},xe.prototype.mulAdd=function(Ee,me,Ie){var fr=[this,me],Oe=[Ee,Ie];return this.curve.endo?this.curve._endoWnafMulAdd(fr,Oe):this.curve._wnafMulAdd(1,fr,Oe,2)},xe.prototype.jmulAdd=function(Ee,me,Ie){var fr=[this,me],Oe=[Ee,Ie];return this.curve.endo?this.curve._endoWnafMulAdd(fr,Oe,!0):this.curve._wnafMulAdd(1,fr,Oe,2,!0)},xe.prototype.eq=function(Ee){return this===Ee||this.inf===Ee.inf&&(this.inf||this.x.cmp(Ee.x)===0&&this.y.cmp(Ee.y)===0)},xe.prototype.neg=function(Ee){if(this.inf)return this;var me=this.curve.point(this.x,this.y.redNeg());if(Ee&&this.precomputed){var Ie=this.precomputed,fr=function(Oe){return Oe.neg()};me.precomputed={naf:Ie.naf&&{wnd:Ie.naf.wnd,points:Ie.naf.points.map(fr)},doubles:Ie.doubles&&{step:Ie.doubles.step,points:Ie.doubles.points.map(fr)}}}return me},xe.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var Ee=this.curve.jpoint(this.x,this.y,this.curve.one);return Ee};function we(Se,Ee,me,Ie){se.BasePoint.call(this,Se,"jacobian"),Ee===null&&me===null&&Ie===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(Ee,16),this.y=new t(me,16),this.z=new t(Ie,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return s(we,se.BasePoint),be.prototype.jpoint=function(Ee,me,Ie){return new we(this,Ee,me,Ie)},we.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var Ee=this.z.redInvm(),me=Ee.redSqr(),Ie=this.x.redMul(me),fr=this.y.redMul(me).redMul(Ee);return this.curve.point(Ie,fr)},we.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},we.prototype.add=function(Ee){if(this.isInfinity())return Ee;if(Ee.isInfinity())return this;var me=Ee.z.redSqr(),Ie=this.z.redSqr(),fr=this.x.redMul(me),Oe=Ee.x.redMul(Ie),wr=this.y.redMul(me.redMul(Ee.z)),qr=Ee.y.redMul(Ie.redMul(this.z)),Gr=fr.redSub(Oe),Yr=wr.redSub(qr);if(Gr.cmpn(0)===0)return Yr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Wr=Gr.redSqr(),ti=Wr.redMul(Gr),Qr=fr.redMul(Wr),oi=Yr.redSqr().redIAdd(ti).redISub(Qr).redISub(Qr),fi=Yr.redMul(Qr.redISub(oi)).redISub(wr.redMul(ti)),jr=this.z.redMul(Ee.z).redMul(Gr);return this.curve.jpoint(oi,fi,jr)},we.prototype.mixedAdd=function(Ee){if(this.isInfinity())return Ee.toJ();if(Ee.isInfinity())return this;var me=this.z.redSqr(),Ie=this.x,fr=Ee.x.redMul(me),Oe=this.y,wr=Ee.y.redMul(me).redMul(this.z),qr=Ie.redSub(fr),Gr=Oe.redSub(wr);if(qr.cmpn(0)===0)return Gr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Yr=qr.redSqr(),Wr=Yr.redMul(qr),ti=Ie.redMul(Yr),Qr=Gr.redSqr().redIAdd(Wr).redISub(ti).redISub(ti),oi=Gr.redMul(ti.redISub(Qr)).redISub(Oe.redMul(Wr)),fi=this.z.redMul(qr);return this.curve.jpoint(Qr,oi,fi)},we.prototype.dblp=function(Ee){if(Ee===0)return this;if(this.isInfinity())return this;if(!Ee)return this.dbl();var me;if(this.curve.zeroA||this.curve.threeA){var Ie=this;for(me=0;me<Ee;me++)Ie=Ie.dbl();return Ie}var fr=this.curve.a,Oe=this.curve.tinv,wr=this.x,qr=this.y,Gr=this.z,Yr=Gr.redSqr().redSqr(),Wr=qr.redAdd(qr);for(me=0;me<Ee;me++){var ti=wr.redSqr(),Qr=Wr.redSqr(),oi=Qr.redSqr(),fi=ti.redAdd(ti).redIAdd(ti).redIAdd(fr.redMul(Yr)),jr=wr.redMul(Qr),ci=fi.redSqr().redISub(jr.redAdd(jr)),gi=jr.redISub(ci),$i=fi.redMul(gi);$i=$i.redIAdd($i).redISub(oi);var hi=Wr.redMul(Gr);me+1<Ee&&(Yr=Yr.redMul(oi)),wr=ci,Gr=hi,Wr=$i}return this.curve.jpoint(wr,Wr.redMul(Oe),Gr)},we.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},we.prototype._zeroDbl=function(){var Ee,me,Ie;if(this.zOne){var fr=this.x.redSqr(),Oe=this.y.redSqr(),wr=Oe.redSqr(),qr=this.x.redAdd(Oe).redSqr().redISub(fr).redISub(wr);qr=qr.redIAdd(qr);var Gr=fr.redAdd(fr).redIAdd(fr),Yr=Gr.redSqr().redISub(qr).redISub(qr),Wr=wr.redIAdd(wr);Wr=Wr.redIAdd(Wr),Wr=Wr.redIAdd(Wr),Ee=Yr,me=Gr.redMul(qr.redISub(Yr)).redISub(Wr),Ie=this.y.redAdd(this.y)}else{var ti=this.x.redSqr(),Qr=this.y.redSqr(),oi=Qr.redSqr(),fi=this.x.redAdd(Qr).redSqr().redISub(ti).redISub(oi);fi=fi.redIAdd(fi);var jr=ti.redAdd(ti).redIAdd(ti),ci=jr.redSqr(),gi=oi.redIAdd(oi);gi=gi.redIAdd(gi),gi=gi.redIAdd(gi),Ee=ci.redISub(fi).redISub(fi),me=jr.redMul(fi.redISub(Ee)).redISub(gi),Ie=this.y.redMul(this.z),Ie=Ie.redIAdd(Ie)}return this.curve.jpoint(Ee,me,Ie)},we.prototype._threeDbl=function(){var Ee,me,Ie;if(this.zOne){var fr=this.x.redSqr(),Oe=this.y.redSqr(),wr=Oe.redSqr(),qr=this.x.redAdd(Oe).redSqr().redISub(fr).redISub(wr);qr=qr.redIAdd(qr);var Gr=fr.redAdd(fr).redIAdd(fr).redIAdd(this.curve.a),Yr=Gr.redSqr().redISub(qr).redISub(qr);Ee=Yr;var Wr=wr.redIAdd(wr);Wr=Wr.redIAdd(Wr),Wr=Wr.redIAdd(Wr),me=Gr.redMul(qr.redISub(Yr)).redISub(Wr),Ie=this.y.redAdd(this.y)}else{var ti=this.z.redSqr(),Qr=this.y.redSqr(),oi=this.x.redMul(Qr),fi=this.x.redSub(ti).redMul(this.x.redAdd(ti));fi=fi.redAdd(fi).redIAdd(fi);var jr=oi.redIAdd(oi);jr=jr.redIAdd(jr);var ci=jr.redAdd(jr);Ee=fi.redSqr().redISub(ci),Ie=this.y.redAdd(this.z).redSqr().redISub(Qr).redISub(ti);var gi=Qr.redSqr();gi=gi.redIAdd(gi),gi=gi.redIAdd(gi),gi=gi.redIAdd(gi),me=fi.redMul(jr.redISub(Ee)).redISub(gi)}return this.curve.jpoint(Ee,me,Ie)},we.prototype._dbl=function(){var Ee=this.curve.a,me=this.x,Ie=this.y,fr=this.z,Oe=fr.redSqr().redSqr(),wr=me.redSqr(),qr=Ie.redSqr(),Gr=wr.redAdd(wr).redIAdd(wr).redIAdd(Ee.redMul(Oe)),Yr=me.redAdd(me);Yr=Yr.redIAdd(Yr);var Wr=Yr.redMul(qr),ti=Gr.redSqr().redISub(Wr.redAdd(Wr)),Qr=Wr.redISub(ti),oi=qr.redSqr();oi=oi.redIAdd(oi),oi=oi.redIAdd(oi),oi=oi.redIAdd(oi);var fi=Gr.redMul(Qr).redISub(oi),jr=Ie.redAdd(Ie).redMul(fr);return this.curve.jpoint(ti,fi,jr)},we.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var Ee=this.x.redSqr(),me=this.y.redSqr(),Ie=this.z.redSqr(),fr=me.redSqr(),Oe=Ee.redAdd(Ee).redIAdd(Ee),wr=Oe.redSqr(),qr=this.x.redAdd(me).redSqr().redISub(Ee).redISub(fr);qr=qr.redIAdd(qr),qr=qr.redAdd(qr).redIAdd(qr),qr=qr.redISub(wr);var Gr=qr.redSqr(),Yr=fr.redIAdd(fr);Yr=Yr.redIAdd(Yr),Yr=Yr.redIAdd(Yr),Yr=Yr.redIAdd(Yr);var Wr=Oe.redIAdd(qr).redSqr().redISub(wr).redISub(Gr).redISub(Yr),ti=me.redMul(Wr);ti=ti.redIAdd(ti),ti=ti.redIAdd(ti);var Qr=this.x.redMul(Gr).redISub(ti);Qr=Qr.redIAdd(Qr),Qr=Qr.redIAdd(Qr);var oi=this.y.redMul(Wr.redMul(Yr.redISub(Wr)).redISub(qr.redMul(Gr)));oi=oi.redIAdd(oi),oi=oi.redIAdd(oi),oi=oi.redIAdd(oi);var fi=this.z.redAdd(qr).redSqr().redISub(Ie).redISub(Gr);return this.curve.jpoint(Qr,oi,fi)},we.prototype.mul=function(Ee,me){return Ee=new t(Ee,me),this.curve._wnafMul(this,Ee)},we.prototype.eq=function(Ee){if(Ee.type==="affine")return this.eq(Ee.toJ());if(this===Ee)return!0;var me=this.z.redSqr(),Ie=Ee.z.redSqr();if(this.x.redMul(Ie).redISub(Ee.x.redMul(me)).cmpn(0)!==0)return!1;var fr=me.redMul(this.z),Oe=Ie.redMul(Ee.z);return this.y.redMul(Oe).redISub(Ee.y.redMul(fr)).cmpn(0)===0},we.prototype.eqXToP=function(Ee){var me=this.z.redSqr(),Ie=Ee.toRed(this.curve.red).redMul(me);if(this.x.cmp(Ie)===0)return!0;for(var fr=Ee.clone(),Oe=this.curve.redN.redMul(me);;){if(fr.iadd(this.curve.n),fr.cmp(this.curve.p)>=0)return!1;if(Ie.redIAdd(Oe),this.x.cmp(Ie)===0)return!0}},we.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},we.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var Y=requireBn(),t=inherits_browserExports,s=requireBase$1(),se=requireUtils$2();function fe(xe){s.call(this,"mont",xe),this.a=new Y(xe.a,16).toRed(this.red),this.b=new Y(xe.b,16).toRed(this.red),this.i4=new Y(4).toRed(this.red).redInvm(),this.two=new Y(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}t(fe,s),mont=fe,fe.prototype.validate=function(we){var Se=we.normalize().x,Ee=Se.redSqr(),me=Ee.redMul(Se).redAdd(Ee.redMul(this.a)).redAdd(Se),Ie=me.redSqrt();return Ie.redSqr().cmp(me)===0};function be(xe,we,Se){s.BasePoint.call(this,xe,"projective"),we===null&&Se===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Y(we,16),this.z=new Y(Se,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return t(be,s.BasePoint),fe.prototype.decodePoint=function(we,Se){return this.point(se.toArray(we,Se),1)},fe.prototype.point=function(we,Se){return new be(this,we,Se)},fe.prototype.pointFromJSON=function(we){return be.fromJSON(this,we)},be.prototype.precompute=function(){},be.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},be.fromJSON=function(we,Se){return new be(we,Se[0],Se[1]||we.one)},be.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},be.prototype.isInfinity=function(){return this.z.cmpn(0)===0},be.prototype.dbl=function(){var we=this.x.redAdd(this.z),Se=we.redSqr(),Ee=this.x.redSub(this.z),me=Ee.redSqr(),Ie=Se.redSub(me),fr=Se.redMul(me),Oe=Ie.redMul(me.redAdd(this.curve.a24.redMul(Ie)));return this.curve.point(fr,Oe)},be.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},be.prototype.diffAdd=function(we,Se){var Ee=this.x.redAdd(this.z),me=this.x.redSub(this.z),Ie=we.x.redAdd(we.z),fr=we.x.redSub(we.z),Oe=fr.redMul(Ee),wr=Ie.redMul(me),qr=Se.z.redMul(Oe.redAdd(wr).redSqr()),Gr=Se.x.redMul(Oe.redISub(wr).redSqr());return this.curve.point(qr,Gr)},be.prototype.mul=function(we){for(var Se=we.clone(),Ee=this,me=this.curve.point(null,null),Ie=this,fr=[];Se.cmpn(0)!==0;Se.iushrn(1))fr.push(Se.andln(1));for(var Oe=fr.length-1;Oe>=0;Oe--)fr[Oe]===0?(Ee=Ee.diffAdd(me,Ie),me=me.dbl()):(me=Ee.diffAdd(me,Ie),Ee=Ee.dbl());return me},be.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},be.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},be.prototype.eq=function(we){return this.getX().cmp(we.getX())===0},be.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},be.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var Y=requireUtils$2(),t=requireBn(),s=inherits_browserExports,se=requireBase$1(),fe=Y.assert;function be(we){this.twisted=(we.a|0)!==1,this.mOneA=this.twisted&&(we.a|0)===-1,this.extended=this.mOneA,se.call(this,"edwards",we),this.a=new t(we.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new t(we.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new t(we.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),fe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(we.c|0)===1}s(be,se),edwards=be,be.prototype._mulA=function(Se){return this.mOneA?Se.redNeg():this.a.redMul(Se)},be.prototype._mulC=function(Se){return this.oneC?Se:this.c.redMul(Se)},be.prototype.jpoint=function(Se,Ee,me,Ie){return this.point(Se,Ee,me,Ie)},be.prototype.pointFromX=function(Se,Ee){Se=new t(Se,16),Se.red||(Se=Se.toRed(this.red));var me=Se.redSqr(),Ie=this.c2.redSub(this.a.redMul(me)),fr=this.one.redSub(this.c2.redMul(this.d).redMul(me)),Oe=Ie.redMul(fr.redInvm()),wr=Oe.redSqrt();if(wr.redSqr().redSub(Oe).cmp(this.zero)!==0)throw new Error("invalid point");var qr=wr.fromRed().isOdd();return(Ee&&!qr||!Ee&&qr)&&(wr=wr.redNeg()),this.point(Se,wr)},be.prototype.pointFromY=function(Se,Ee){Se=new t(Se,16),Se.red||(Se=Se.toRed(this.red));var me=Se.redSqr(),Ie=me.redSub(this.c2),fr=me.redMul(this.d).redMul(this.c2).redSub(this.a),Oe=Ie.redMul(fr.redInvm());if(Oe.cmp(this.zero)===0){if(Ee)throw new Error("invalid point");return this.point(this.zero,Se)}var wr=Oe.redSqrt();if(wr.redSqr().redSub(Oe).cmp(this.zero)!==0)throw new Error("invalid point");return wr.fromRed().isOdd()!==Ee&&(wr=wr.redNeg()),this.point(wr,Se)},be.prototype.validate=function(Se){if(Se.isInfinity())return!0;Se.normalize();var Ee=Se.x.redSqr(),me=Se.y.redSqr(),Ie=Ee.redMul(this.a).redAdd(me),fr=this.c2.redMul(this.one.redAdd(this.d.redMul(Ee).redMul(me)));return Ie.cmp(fr)===0};function xe(we,Se,Ee,me,Ie){se.BasePoint.call(this,we,"projective"),Se===null&&Ee===null&&me===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new t(Se,16),this.y=new t(Ee,16),this.z=me?new t(me,16):this.curve.one,this.t=Ie&&new t(Ie,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return s(xe,se.BasePoint),be.prototype.pointFromJSON=function(Se){return xe.fromJSON(this,Se)},be.prototype.point=function(Se,Ee,me,Ie){return new xe(this,Se,Ee,me,Ie)},xe.fromJSON=function(Se,Ee){return new xe(Se,Ee[0],Ee[1],Ee[2])},xe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},xe.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},xe.prototype._extDbl=function(){var Se=this.x.redSqr(),Ee=this.y.redSqr(),me=this.z.redSqr();me=me.redIAdd(me);var Ie=this.curve._mulA(Se),fr=this.x.redAdd(this.y).redSqr().redISub(Se).redISub(Ee),Oe=Ie.redAdd(Ee),wr=Oe.redSub(me),qr=Ie.redSub(Ee),Gr=fr.redMul(wr),Yr=Oe.redMul(qr),Wr=fr.redMul(qr),ti=wr.redMul(Oe);return this.curve.point(Gr,Yr,ti,Wr)},xe.prototype._projDbl=function(){var Se=this.x.redAdd(this.y).redSqr(),Ee=this.x.redSqr(),me=this.y.redSqr(),Ie,fr,Oe,wr,qr,Gr;if(this.curve.twisted){wr=this.curve._mulA(Ee);var Yr=wr.redAdd(me);this.zOne?(Ie=Se.redSub(Ee).redSub(me).redMul(Yr.redSub(this.curve.two)),fr=Yr.redMul(wr.redSub(me)),Oe=Yr.redSqr().redSub(Yr).redSub(Yr)):(qr=this.z.redSqr(),Gr=Yr.redSub(qr).redISub(qr),Ie=Se.redSub(Ee).redISub(me).redMul(Gr),fr=Yr.redMul(wr.redSub(me)),Oe=Yr.redMul(Gr))}else wr=Ee.redAdd(me),qr=this.curve._mulC(this.z).redSqr(),Gr=wr.redSub(qr).redSub(qr),Ie=this.curve._mulC(Se.redISub(wr)).redMul(Gr),fr=this.curve._mulC(wr).redMul(Ee.redISub(me)),Oe=wr.redMul(Gr);return this.curve.point(Ie,fr,Oe)},xe.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},xe.prototype._extAdd=function(Se){var Ee=this.y.redSub(this.x).redMul(Se.y.redSub(Se.x)),me=this.y.redAdd(this.x).redMul(Se.y.redAdd(Se.x)),Ie=this.t.redMul(this.curve.dd).redMul(Se.t),fr=this.z.redMul(Se.z.redAdd(Se.z)),Oe=me.redSub(Ee),wr=fr.redSub(Ie),qr=fr.redAdd(Ie),Gr=me.redAdd(Ee),Yr=Oe.redMul(wr),Wr=qr.redMul(Gr),ti=Oe.redMul(Gr),Qr=wr.redMul(qr);return this.curve.point(Yr,Wr,Qr,ti)},xe.prototype._projAdd=function(Se){var Ee=this.z.redMul(Se.z),me=Ee.redSqr(),Ie=this.x.redMul(Se.x),fr=this.y.redMul(Se.y),Oe=this.curve.d.redMul(Ie).redMul(fr),wr=me.redSub(Oe),qr=me.redAdd(Oe),Gr=this.x.redAdd(this.y).redMul(Se.x.redAdd(Se.y)).redISub(Ie).redISub(fr),Yr=Ee.redMul(wr).redMul(Gr),Wr,ti;return this.curve.twisted?(Wr=Ee.redMul(qr).redMul(fr.redSub(this.curve._mulA(Ie))),ti=wr.redMul(qr)):(Wr=Ee.redMul(qr).redMul(fr.redSub(Ie)),ti=this.curve._mulC(wr).redMul(qr)),this.curve.point(Yr,Wr,ti)},xe.prototype.add=function(Se){return this.isInfinity()?Se:Se.isInfinity()?this:this.curve.extended?this._extAdd(Se):this._projAdd(Se)},xe.prototype.mul=function(Se){return this._hasDoubles(Se)?this.curve._fixedNafMul(this,Se):this.curve._wnafMul(this,Se)},xe.prototype.mulAdd=function(Se,Ee,me){return this.curve._wnafMulAdd(1,[this,Ee],[Se,me],2,!1)},xe.prototype.jmulAdd=function(Se,Ee,me){return this.curve._wnafMulAdd(1,[this,Ee],[Se,me],2,!0)},xe.prototype.normalize=function(){if(this.zOne)return this;var Se=this.z.redInvm();return this.x=this.x.redMul(Se),this.y=this.y.redMul(Se),this.t&&(this.t=this.t.redMul(Se)),this.z=this.curve.one,this.zOne=!0,this},xe.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},xe.prototype.getX=function(){return this.normalize(),this.x.fromRed()},xe.prototype.getY=function(){return this.normalize(),this.y.fromRed()},xe.prototype.eq=function(Se){return this===Se||this.getX().cmp(Se.getX())===0&&this.getY().cmp(Se.getY())===0},xe.prototype.eqXToP=function(Se){var Ee=Se.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(Ee)===0)return!0;for(var me=Se.clone(),Ie=this.curve.redN.redMul(this.z);;){if(me.iadd(this.curve.n),me.cmp(this.curve.p)>=0)return!1;if(Ee.redIAdd(Ie),this.x.cmp(Ee)===0)return!0}},xe.prototype.toP=xe.prototype.normalize,xe.prototype.mixedAdd=xe.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(Y){var t=Y;t.base=requireBase$1(),t.short=requireShort(),t.mont=requireMont(),t.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils$1={},hasRequiredUtils$1;function requireUtils$1(){if(hasRequiredUtils$1)return utils$1;hasRequiredUtils$1=1;var Y=requireMinimalisticAssert(),t=inherits_browserExports;utils$1.inherits=t;function s(Er,kr){return(Er.charCodeAt(kr)&64512)!==55296||kr<0||kr+1>=Er.length?!1:(Er.charCodeAt(kr+1)&64512)===56320}function se(Er,kr){if(Array.isArray(Er))return Er.slice();if(!Er)return[];var Vr=[];if(typeof Er=="string")if(kr){if(kr==="hex")for(Er=Er.replace(/[^a-z0-9]+/ig,""),Er.length%2!==0&&(Er="0"+Er),ii=0;ii<Er.length;ii+=2)Vr.push(parseInt(Er[ii]+Er[ii+1],16))}else for(var Jr=0,ii=0;ii<Er.length;ii++){var Xr=Er.charCodeAt(ii);Xr<128?Vr[Jr++]=Xr:Xr<2048?(Vr[Jr++]=Xr>>6|192,Vr[Jr++]=Xr&63|128):s(Er,ii)?(Xr=65536+((Xr&1023)<<10)+(Er.charCodeAt(++ii)&1023),Vr[Jr++]=Xr>>18|240,Vr[Jr++]=Xr>>12&63|128,Vr[Jr++]=Xr>>6&63|128,Vr[Jr++]=Xr&63|128):(Vr[Jr++]=Xr>>12|224,Vr[Jr++]=Xr>>6&63|128,Vr[Jr++]=Xr&63|128)}else for(ii=0;ii<Er.length;ii++)Vr[ii]=Er[ii]|0;return Vr}utils$1.toArray=se;function fe(Er){for(var kr="",Vr=0;Vr<Er.length;Vr++)kr+=we(Er[Vr].toString(16));return kr}utils$1.toHex=fe;function be(Er){var kr=Er>>>24|Er>>>8&65280|Er<<8&16711680|(Er&255)<<24;return kr>>>0}utils$1.htonl=be;function xe(Er,kr){for(var Vr="",Jr=0;Jr<Er.length;Jr++){var ii=Er[Jr];kr==="little"&&(ii=be(ii)),Vr+=Se(ii.toString(16))}return Vr}utils$1.toHex32=xe;function we(Er){return Er.length===1?"0"+Er:Er}utils$1.zero2=we;function Se(Er){return Er.length===7?"0"+Er:Er.length===6?"00"+Er:Er.length===5?"000"+Er:Er.length===4?"0000"+Er:Er.length===3?"00000"+Er:Er.length===2?"000000"+Er:Er.length===1?"0000000"+Er:Er}utils$1.zero8=Se;function Ee(Er,kr,Vr,Jr){var ii=Vr-kr;Y(ii%4===0);for(var Xr=new Array(ii/4),ei=0,Zr=kr;ei<Xr.length;ei++,Zr+=4){var Br;Jr==="big"?Br=Er[Zr]<<24|Er[Zr+1]<<16|Er[Zr+2]<<8|Er[Zr+3]:Br=Er[Zr+3]<<24|Er[Zr+2]<<16|Er[Zr+1]<<8|Er[Zr],Xr[ei]=Br>>>0}return Xr}utils$1.join32=Ee;function me(Er,kr){for(var Vr=new Array(Er.length*4),Jr=0,ii=0;Jr<Er.length;Jr++,ii+=4){var Xr=Er[Jr];kr==="big"?(Vr[ii]=Xr>>>24,Vr[ii+1]=Xr>>>16&255,Vr[ii+2]=Xr>>>8&255,Vr[ii+3]=Xr&255):(Vr[ii+3]=Xr>>>24,Vr[ii+2]=Xr>>>16&255,Vr[ii+1]=Xr>>>8&255,Vr[ii]=Xr&255)}return Vr}utils$1.split32=me;function Ie(Er,kr){return Er>>>kr|Er<<32-kr}utils$1.rotr32=Ie;function fr(Er,kr){return Er<<kr|Er>>>32-kr}utils$1.rotl32=fr;function Oe(Er,kr){return Er+kr>>>0}utils$1.sum32=Oe;function wr(Er,kr,Vr){return Er+kr+Vr>>>0}utils$1.sum32_3=wr;function qr(Er,kr,Vr,Jr){return Er+kr+Vr+Jr>>>0}utils$1.sum32_4=qr;function Gr(Er,kr,Vr,Jr,ii){return Er+kr+Vr+Jr+ii>>>0}utils$1.sum32_5=Gr;function Yr(Er,kr,Vr,Jr){var ii=Er[kr],Xr=Er[kr+1],ei=Jr+Xr>>>0,Zr=(ei<Jr?1:0)+Vr+ii;Er[kr]=Zr>>>0,Er[kr+1]=ei}utils$1.sum64=Yr;function Wr(Er,kr,Vr,Jr){var ii=kr+Jr>>>0,Xr=(ii<kr?1:0)+Er+Vr;return Xr>>>0}utils$1.sum64_hi=Wr;function ti(Er,kr,Vr,Jr){var ii=kr+Jr;return ii>>>0}utils$1.sum64_lo=ti;function Qr(Er,kr,Vr,Jr,ii,Xr,ei,Zr){var Br=0,si=kr;si=si+Jr>>>0,Br+=si<kr?1:0,si=si+Xr>>>0,Br+=si<Xr?1:0,si=si+Zr>>>0,Br+=si<Zr?1:0;var Si=Er+Vr+ii+ei+Br;return Si>>>0}utils$1.sum64_4_hi=Qr;function oi(Er,kr,Vr,Jr,ii,Xr,ei,Zr){var Br=kr+Jr+Xr+Zr;return Br>>>0}utils$1.sum64_4_lo=oi;function fi(Er,kr,Vr,Jr,ii,Xr,ei,Zr,Br,si){var Si=0,Ei=kr;Ei=Ei+Jr>>>0,Si+=Ei<kr?1:0,Ei=Ei+Xr>>>0,Si+=Ei<Xr?1:0,Ei=Ei+Zr>>>0,Si+=Ei<Zr?1:0,Ei=Ei+si>>>0,Si+=Ei<si?1:0;var qi=Er+Vr+ii+ei+Br+Si;return qi>>>0}utils$1.sum64_5_hi=fi;function jr(Er,kr,Vr,Jr,ii,Xr,ei,Zr,Br,si){var Si=kr+Jr+Xr+Zr+si;return Si>>>0}utils$1.sum64_5_lo=jr;function ci(Er,kr,Vr){var Jr=kr<<32-Vr|Er>>>Vr;return Jr>>>0}utils$1.rotr64_hi=ci;function gi(Er,kr,Vr){var Jr=Er<<32-Vr|kr>>>Vr;return Jr>>>0}utils$1.rotr64_lo=gi;function $i(Er,kr,Vr){return Er>>>Vr}utils$1.shr64_hi=$i;function hi(Er,kr,Vr){var Jr=Er<<32-Vr|kr>>>Vr;return Jr>>>0}return utils$1.shr64_lo=hi,utils$1}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var Y=requireUtils$1(),t=requireMinimalisticAssert();function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=s,s.prototype.update=function(fe,be){if(fe=Y.toArray(fe,be),this.pending?this.pending=this.pending.concat(fe):this.pending=fe,this.pendingTotal+=fe.length,this.pending.length>=this._delta8){fe=this.pending;var xe=fe.length%this._delta8;this.pending=fe.slice(fe.length-xe,fe.length),this.pending.length===0&&(this.pending=null),fe=Y.join32(fe,0,fe.length-xe,this.endian);for(var we=0;we<fe.length;we+=this._delta32)this._update(fe,we,we+this._delta32)}return this},s.prototype.digest=function(fe){return this.update(this._pad()),t(this.pending===null),this._digest(fe)},s.prototype._pad=function(){var fe=this.pendingTotal,be=this._delta8,xe=be-(fe+this.padLength)%be,we=new Array(xe+this.padLength);we[0]=128;for(var Se=1;Se<xe;Se++)we[Se]=0;if(fe<<=3,this.endian==="big"){for(var Ee=8;Ee<this.padLength;Ee++)we[Se++]=0;we[Se++]=0,we[Se++]=0,we[Se++]=0,we[Se++]=0,we[Se++]=fe>>>24&255,we[Se++]=fe>>>16&255,we[Se++]=fe>>>8&255,we[Se++]=fe&255}else for(we[Se++]=fe&255,we[Se++]=fe>>>8&255,we[Se++]=fe>>>16&255,we[Se++]=fe>>>24&255,we[Se++]=0,we[Se++]=0,we[Se++]=0,we[Se++]=0,Ee=8;Ee<this.padLength;Ee++)we[Se++]=0;return we},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var Y=requireUtils$1(),t=Y.rotr32;function s(me,Ie,fr,Oe){if(me===0)return se(Ie,fr,Oe);if(me===1||me===3)return be(Ie,fr,Oe);if(me===2)return fe(Ie,fr,Oe)}common.ft_1=s;function se(me,Ie,fr){return me&Ie^~me&fr}common.ch32=se;function fe(me,Ie,fr){return me&Ie^me&fr^Ie&fr}common.maj32=fe;function be(me,Ie,fr){return me^Ie^fr}common.p32=be;function xe(me){return t(me,2)^t(me,13)^t(me,22)}common.s0_256=xe;function we(me){return t(me,6)^t(me,11)^t(me,25)}common.s1_256=we;function Se(me){return t(me,7)^t(me,18)^me>>>3}common.g0_256=Se;function Ee(me){return t(me,17)^t(me,19)^me>>>10}return common.g1_256=Ee,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var Y=requireUtils$1(),t=requireCommon$1(),s=requireCommon(),se=Y.rotl32,fe=Y.sum32,be=Y.sum32_5,xe=s.ft_1,we=t.BlockHash,Se=[1518500249,1859775393,2400959708,3395469782];function Ee(){if(!(this instanceof Ee))return new Ee;we.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return Y.inherits(Ee,we),_1=Ee,Ee.blockSize=512,Ee.outSize=160,Ee.hmacStrength=80,Ee.padLength=64,Ee.prototype._update=function(Ie,fr){for(var Oe=this.W,wr=0;wr<16;wr++)Oe[wr]=Ie[fr+wr];for(;wr<Oe.length;wr++)Oe[wr]=se(Oe[wr-3]^Oe[wr-8]^Oe[wr-14]^Oe[wr-16],1);var qr=this.h[0],Gr=this.h[1],Yr=this.h[2],Wr=this.h[3],ti=this.h[4];for(wr=0;wr<Oe.length;wr++){var Qr=~~(wr/20),oi=be(se(qr,5),xe(Qr,Gr,Yr,Wr),ti,Oe[wr],Se[Qr]);ti=Wr,Wr=Yr,Yr=se(Gr,30),Gr=qr,qr=oi}this.h[0]=fe(this.h[0],qr),this.h[1]=fe(this.h[1],Gr),this.h[2]=fe(this.h[2],Yr),this.h[3]=fe(this.h[3],Wr),this.h[4]=fe(this.h[4],ti)},Ee.prototype._digest=function(Ie){return Ie==="hex"?Y.toHex32(this.h,"big"):Y.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var Y=requireUtils$1(),t=requireCommon$1(),s=requireCommon(),se=requireMinimalisticAssert(),fe=Y.sum32,be=Y.sum32_4,xe=Y.sum32_5,we=s.ch32,Se=s.maj32,Ee=s.s0_256,me=s.s1_256,Ie=s.g0_256,fr=s.g1_256,Oe=t.BlockHash,wr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function qr(){if(!(this instanceof qr))return new qr;Oe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=wr,this.W=new Array(64)}return Y.inherits(qr,Oe),_256=qr,qr.blockSize=512,qr.outSize=256,qr.hmacStrength=192,qr.padLength=64,qr.prototype._update=function(Yr,Wr){for(var ti=this.W,Qr=0;Qr<16;Qr++)ti[Qr]=Yr[Wr+Qr];for(;Qr<ti.length;Qr++)ti[Qr]=be(fr(ti[Qr-2]),ti[Qr-7],Ie(ti[Qr-15]),ti[Qr-16]);var oi=this.h[0],fi=this.h[1],jr=this.h[2],ci=this.h[3],gi=this.h[4],$i=this.h[5],hi=this.h[6],Er=this.h[7];for(se(this.k.length===ti.length),Qr=0;Qr<ti.length;Qr++){var kr=xe(Er,me(gi),we(gi,$i,hi),this.k[Qr],ti[Qr]),Vr=fe(Ee(oi),Se(oi,fi,jr));Er=hi,hi=$i,$i=gi,gi=fe(ci,kr),ci=jr,jr=fi,fi=oi,oi=fe(kr,Vr)}this.h[0]=fe(this.h[0],oi),this.h[1]=fe(this.h[1],fi),this.h[2]=fe(this.h[2],jr),this.h[3]=fe(this.h[3],ci),this.h[4]=fe(this.h[4],gi),this.h[5]=fe(this.h[5],$i),this.h[6]=fe(this.h[6],hi),this.h[7]=fe(this.h[7],Er)},qr.prototype._digest=function(Yr){return Yr==="hex"?Y.toHex32(this.h,"big"):Y.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var Y=requireUtils$1(),t=require_256();function s(){if(!(this instanceof s))return new s;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return Y.inherits(s,t),_224=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(fe){return fe==="hex"?Y.toHex32(this.h.slice(0,7),"big"):Y.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var Y=requireUtils$1(),t=requireCommon$1(),s=requireMinimalisticAssert(),se=Y.rotr64_hi,fe=Y.rotr64_lo,be=Y.shr64_hi,xe=Y.shr64_lo,we=Y.sum64,Se=Y.sum64_hi,Ee=Y.sum64_lo,me=Y.sum64_4_hi,Ie=Y.sum64_4_lo,fr=Y.sum64_5_hi,Oe=Y.sum64_5_lo,wr=t.BlockHash,qr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Gr(){if(!(this instanceof Gr))return new Gr;wr.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=qr,this.W=new Array(160)}Y.inherits(Gr,wr),_512=Gr,Gr.blockSize=1024,Gr.outSize=512,Gr.hmacStrength=192,Gr.padLength=128,Gr.prototype._prepareBlock=function(Vr,Jr){for(var ii=this.W,Xr=0;Xr<32;Xr++)ii[Xr]=Vr[Jr+Xr];for(;Xr<ii.length;Xr+=2){var ei=hi(ii[Xr-4],ii[Xr-3]),Zr=Er(ii[Xr-4],ii[Xr-3]),Br=ii[Xr-14],si=ii[Xr-13],Si=gi(ii[Xr-30],ii[Xr-29]),Ei=$i(ii[Xr-30],ii[Xr-29]),qi=ii[Xr-32],Ii=ii[Xr-31];ii[Xr]=me(ei,Zr,Br,si,Si,Ei,qi,Ii),ii[Xr+1]=Ie(ei,Zr,Br,si,Si,Ei,qi,Ii)}},Gr.prototype._update=function(Vr,Jr){this._prepareBlock(Vr,Jr);var ii=this.W,Xr=this.h[0],ei=this.h[1],Zr=this.h[2],Br=this.h[3],si=this.h[4],Si=this.h[5],Ei=this.h[6],qi=this.h[7],Ii=this.h[8],Ni=this.h[9],ri=this.h[10],ai=this.h[11],li=this.h[12],Hr=this.h[13],vi=this.h[14],xi=this.h[15];s(this.k.length===ii.length);for(var Di=0;Di<ii.length;Di+=2){var Rn=vi,Ki=xi,wn=jr(Ii,Ni),Nn=ci(Ii,Ni),Tn=Yr(Ii,Ni,ri,ai,li),jn=Wr(Ii,Ni,ri,ai,li,Hr),Yn=this.k[Di],ji=this.k[Di+1],Vi=ii[Di],On=ii[Di+1],ki=fr(Rn,Ki,wn,Nn,Tn,jn,Yn,ji,Vi,On),Ti=Oe(Rn,Ki,wn,Nn,Tn,jn,Yn,ji,Vi,On);Rn=oi(Xr,ei),Ki=fi(Xr,ei),wn=ti(Xr,ei,Zr,Br,si),Nn=Qr(Xr,ei,Zr,Br,si,Si);var ta=Se(Rn,Ki,wn,Nn),zi=Ee(Rn,Ki,wn,Nn);vi=li,xi=Hr,li=ri,Hr=ai,ri=Ii,ai=Ni,Ii=Se(Ei,qi,ki,Ti),Ni=Ee(qi,qi,ki,Ti),Ei=si,qi=Si,si=Zr,Si=Br,Zr=Xr,Br=ei,Xr=Se(ki,Ti,ta,zi),ei=Ee(ki,Ti,ta,zi)}we(this.h,0,Xr,ei),we(this.h,2,Zr,Br),we(this.h,4,si,Si),we(this.h,6,Ei,qi),we(this.h,8,Ii,Ni),we(this.h,10,ri,ai),we(this.h,12,li,Hr),we(this.h,14,vi,xi)},Gr.prototype._digest=function(Vr){return Vr==="hex"?Y.toHex32(this.h,"big"):Y.split32(this.h,"big")};function Yr(kr,Vr,Jr,ii,Xr){var ei=kr&Jr^~kr&Xr;return ei<0&&(ei+=4294967296),ei}function Wr(kr,Vr,Jr,ii,Xr,ei){var Zr=Vr&ii^~Vr&ei;return Zr<0&&(Zr+=4294967296),Zr}function ti(kr,Vr,Jr,ii,Xr){var ei=kr&Jr^kr&Xr^Jr&Xr;return ei<0&&(ei+=4294967296),ei}function Qr(kr,Vr,Jr,ii,Xr,ei){var Zr=Vr&ii^Vr&ei^ii&ei;return Zr<0&&(Zr+=4294967296),Zr}function oi(kr,Vr){var Jr=se(kr,Vr,28),ii=se(Vr,kr,2),Xr=se(Vr,kr,7),ei=Jr^ii^Xr;return ei<0&&(ei+=4294967296),ei}function fi(kr,Vr){var Jr=fe(kr,Vr,28),ii=fe(Vr,kr,2),Xr=fe(Vr,kr,7),ei=Jr^ii^Xr;return ei<0&&(ei+=4294967296),ei}function jr(kr,Vr){var Jr=se(kr,Vr,14),ii=se(kr,Vr,18),Xr=se(Vr,kr,9),ei=Jr^ii^Xr;return ei<0&&(ei+=4294967296),ei}function ci(kr,Vr){var Jr=fe(kr,Vr,14),ii=fe(kr,Vr,18),Xr=fe(Vr,kr,9),ei=Jr^ii^Xr;return ei<0&&(ei+=4294967296),ei}function gi(kr,Vr){var Jr=se(kr,Vr,1),ii=se(kr,Vr,8),Xr=be(kr,Vr,7),ei=Jr^ii^Xr;return ei<0&&(ei+=4294967296),ei}function $i(kr,Vr){var Jr=fe(kr,Vr,1),ii=fe(kr,Vr,8),Xr=xe(kr,Vr,7),ei=Jr^ii^Xr;return ei<0&&(ei+=4294967296),ei}function hi(kr,Vr){var Jr=se(kr,Vr,19),ii=se(Vr,kr,29),Xr=be(kr,Vr,6),ei=Jr^ii^Xr;return ei<0&&(ei+=4294967296),ei}function Er(kr,Vr){var Jr=fe(kr,Vr,19),ii=fe(Vr,kr,29),Xr=xe(kr,Vr,6),ei=Jr^ii^Xr;return ei<0&&(ei+=4294967296),ei}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var Y=requireUtils$1(),t=require_512();function s(){if(!(this instanceof s))return new s;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return Y.inherits(s,t),_384=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(fe){return fe==="hex"?Y.toHex32(this.h.slice(0,12),"big"):Y.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var Y=requireUtils$1(),t=requireCommon$1(),s=Y.rotl32,se=Y.sum32,fe=Y.sum32_3,be=Y.sum32_4,xe=t.BlockHash;function we(){if(!(this instanceof we))return new we;xe.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Y.inherits(we,xe),ripemd.ripemd160=we,we.blockSize=512,we.outSize=160,we.hmacStrength=192,we.padLength=64,we.prototype._update=function(Gr,Yr){for(var Wr=this.h[0],ti=this.h[1],Qr=this.h[2],oi=this.h[3],fi=this.h[4],jr=Wr,ci=ti,gi=Qr,$i=oi,hi=fi,Er=0;Er<80;Er++){var kr=se(s(be(Wr,Se(Er,ti,Qr,oi),Gr[Ie[Er]+Yr],Ee(Er)),Oe[Er]),fi);Wr=fi,fi=oi,oi=s(Qr,10),Qr=ti,ti=kr,kr=se(s(be(jr,Se(79-Er,ci,gi,$i),Gr[fr[Er]+Yr],me(Er)),wr[Er]),hi),jr=hi,hi=$i,$i=s(gi,10),gi=ci,ci=kr}kr=fe(this.h[1],Qr,$i),this.h[1]=fe(this.h[2],oi,hi),this.h[2]=fe(this.h[3],fi,jr),this.h[3]=fe(this.h[4],Wr,ci),this.h[4]=fe(this.h[0],ti,gi),this.h[0]=kr},we.prototype._digest=function(Gr){return Gr==="hex"?Y.toHex32(this.h,"little"):Y.split32(this.h,"little")};function Se(qr,Gr,Yr,Wr){return qr<=15?Gr^Yr^Wr:qr<=31?Gr&Yr|~Gr&Wr:qr<=47?(Gr|~Yr)^Wr:qr<=63?Gr&Wr|Yr&~Wr:Gr^(Yr|~Wr)}function Ee(qr){return qr<=15?0:qr<=31?1518500249:qr<=47?1859775393:qr<=63?2400959708:2840853838}function me(qr){return qr<=15?1352829926:qr<=31?1548603684:qr<=47?1836072691:qr<=63?2053994217:0}var Ie=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],fr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Oe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],wr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var Y=requireUtils$1(),t=requireMinimalisticAssert();function s(se,fe,be){if(!(this instanceof s))return new s(se,fe,be);this.Hash=se,this.blockSize=se.blockSize/8,this.outSize=se.outSize/8,this.inner=null,this.outer=null,this._init(Y.toArray(fe,be))}return hmac=s,s.prototype._init=function(fe){fe.length>this.blockSize&&(fe=new this.Hash().update(fe).digest()),t(fe.length<=this.blockSize);for(var be=fe.length;be<this.blockSize;be++)fe.push(0);for(be=0;be<fe.length;be++)fe[be]^=54;for(this.inner=new this.Hash().update(fe),be=0;be<fe.length;be++)fe[be]^=106;this.outer=new this.Hash().update(fe)},s.prototype.update=function(fe,be){return this.inner.update(fe,be),this},s.prototype.digest=function(fe){return this.outer.update(this.inner.digest()),this.outer.digest(fe)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(Y){var t=Y;t.utils=requireUtils$1(),t.common=requireCommon$1(),t.sha=requireSha(),t.ripemd=requireRipemd(),t.hmac=requireHmac(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(Y){var t=Y,s=requireHash(),se=requireCurve(),fe=requireUtils$2(),be=fe.assert;function xe(Ee){Ee.type==="short"?this.curve=new se.short(Ee):Ee.type==="edwards"?this.curve=new se.edwards(Ee):this.curve=new se.mont(Ee),this.g=this.curve.g,this.n=this.curve.n,this.hash=Ee.hash,be(this.g.validate(),"Invalid curve"),be(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=xe;function we(Ee,me){Object.defineProperty(t,Ee,{configurable:!0,enumerable:!0,get:function(){var Ie=new xe(me);return Object.defineProperty(t,Ee,{configurable:!0,enumerable:!0,value:Ie}),Ie}})}we("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),we("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),we("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),we("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),we("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),we("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),we("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Se;try{Se=requireSecp256k1()}catch{Se=void 0}we("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Se]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var Y=requireHash(),t=requireUtils$3(),s=requireMinimalisticAssert();function se(fe){if(!(this instanceof se))return new se(fe);this.hash=fe.hash,this.predResist=!!fe.predResist,this.outLen=this.hash.outSize,this.minEntropy=fe.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var be=t.toArray(fe.entropy,fe.entropyEnc||"hex"),xe=t.toArray(fe.nonce,fe.nonceEnc||"hex"),we=t.toArray(fe.pers,fe.persEnc||"hex");s(be.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(be,xe,we)}return hmacDrbg=se,se.prototype._init=function(be,xe,we){var Se=be.concat(xe).concat(we);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var Ee=0;Ee<this.V.length;Ee++)this.K[Ee]=0,this.V[Ee]=1;this._update(Se),this._reseed=1,this.reseedInterval=281474976710656},se.prototype._hmac=function(){return new Y.hmac(this.hash,this.K)},se.prototype._update=function(be){var xe=this._hmac().update(this.V).update([0]);be&&(xe=xe.update(be)),this.K=xe.digest(),this.V=this._hmac().update(this.V).digest(),be&&(this.K=this._hmac().update(this.V).update([1]).update(be).digest(),this.V=this._hmac().update(this.V).digest())},se.prototype.reseed=function(be,xe,we,Se){typeof xe!="string"&&(Se=we,we=xe,xe=null),be=t.toArray(be,xe),we=t.toArray(we,Se),s(be.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(be.concat(we||[])),this._reseed=1},se.prototype.generate=function(be,xe,we,Se){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof xe!="string"&&(Se=we,we=xe,xe=null),we&&(we=t.toArray(we,Se||"hex"),this._update(we));for(var Ee=[];Ee.length<be;)this.V=this._hmac().update(this.V).digest(),Ee=Ee.concat(this.V);var me=Ee.slice(0,be);return this._update(we),this._reseed++,t.encode(me,xe)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var Y=requireBn(),t=requireUtils$2(),s=t.assert;function se(fe,be){this.ec=fe,this.priv=null,this.pub=null,be.priv&&this._importPrivate(be.priv,be.privEnc),be.pub&&this._importPublic(be.pub,be.pubEnc)}return key$1=se,se.fromPublic=function(be,xe,we){return xe instanceof se?xe:new se(be,{pub:xe,pubEnc:we})},se.fromPrivate=function(be,xe,we){return xe instanceof se?xe:new se(be,{priv:xe,privEnc:we})},se.prototype.validate=function(){var be=this.getPublic();return be.isInfinity()?{result:!1,reason:"Invalid public key"}:be.validate()?be.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},se.prototype.getPublic=function(be,xe){return typeof be=="string"&&(xe=be,be=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),xe?this.pub.encode(xe,be):this.pub},se.prototype.getPrivate=function(be){return be==="hex"?this.priv.toString(16,2):this.priv},se.prototype._importPrivate=function(be,xe){this.priv=new Y(be,xe||16),this.priv=this.priv.umod(this.ec.curve.n)},se.prototype._importPublic=function(be,xe){if(be.x||be.y){this.ec.curve.type==="mont"?s(be.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&s(be.x&&be.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(be.x,be.y);return}this.pub=this.ec.curve.decodePoint(be,xe)},se.prototype.derive=function(be){return be.validate()||s(be.validate(),"public point not validated"),be.mul(this.priv).getX()},se.prototype.sign=function(be,xe,we){return this.ec.sign(be,this,xe,we)},se.prototype.verify=function(be,xe){return this.ec.verify(be,xe,this)},se.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var Y=requireBn(),t=requireUtils$2(),s=t.assert;function se(Se,Ee){if(Se instanceof se)return Se;this._importDER(Se,Ee)||(s(Se.r&&Se.s,"Signature without r or s"),this.r=new Y(Se.r,16),this.s=new Y(Se.s,16),Se.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=Se.recoveryParam)}signature$1=se;function fe(){this.place=0}function be(Se,Ee){var me=Se[Ee.place++];if(!(me&128))return me;var Ie=me&15;if(Ie===0||Ie>4)return!1;for(var fr=0,Oe=0,wr=Ee.place;Oe<Ie;Oe++,wr++)fr<<=8,fr|=Se[wr],fr>>>=0;return fr<=127?!1:(Ee.place=wr,fr)}function xe(Se){for(var Ee=0,me=Se.length-1;!Se[Ee]&&!(Se[Ee+1]&128)&&Ee<me;)Ee++;return Ee===0?Se:Se.slice(Ee)}se.prototype._importDER=function(Ee,me){Ee=t.toArray(Ee,me);var Ie=new fe;if(Ee[Ie.place++]!==48)return!1;var fr=be(Ee,Ie);if(fr===!1||fr+Ie.place!==Ee.length||Ee[Ie.place++]!==2)return!1;var Oe=be(Ee,Ie);if(Oe===!1)return!1;var wr=Ee.slice(Ie.place,Oe+Ie.place);if(Ie.place+=Oe,Ee[Ie.place++]!==2)return!1;var qr=be(Ee,Ie);if(qr===!1||Ee.length!==qr+Ie.place)return!1;var Gr=Ee.slice(Ie.place,qr+Ie.place);if(wr[0]===0)if(wr[1]&128)wr=wr.slice(1);else return!1;if(Gr[0]===0)if(Gr[1]&128)Gr=Gr.slice(1);else return!1;return this.r=new Y(wr),this.s=new Y(Gr),this.recoveryParam=null,!0};function we(Se,Ee){if(Ee<128){Se.push(Ee);return}var me=1+(Math.log(Ee)/Math.LN2>>>3);for(Se.push(me|128);--me;)Se.push(Ee>>>(me<<3)&255);Se.push(Ee)}return se.prototype.toDER=function(Ee){var me=this.r.toArray(),Ie=this.s.toArray();for(me[0]&128&&(me=[0].concat(me)),Ie[0]&128&&(Ie=[0].concat(Ie)),me=xe(me),Ie=xe(Ie);!Ie[0]&&!(Ie[1]&128);)Ie=Ie.slice(1);var fr=[2];we(fr,me.length),fr=fr.concat(me),fr.push(2),we(fr,Ie.length);var Oe=fr.concat(Ie),wr=[48];return we(wr,Oe.length),wr=wr.concat(Oe),t.encode(wr,Ee)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var Y=requireBn(),t=requireHmacDrbg(),s=requireUtils$2(),se=requireCurves(),fe=requireBrorand(),be=s.assert,xe=requireKey$1(),we=requireSignature$1();function Se(Ee){if(!(this instanceof Se))return new Se(Ee);typeof Ee=="string"&&(be(Object.prototype.hasOwnProperty.call(se,Ee),"Unknown curve "+Ee),Ee=se[Ee]),Ee instanceof se.PresetCurve&&(Ee={curve:Ee}),this.curve=Ee.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Ee.curve.g,this.g.precompute(Ee.curve.n.bitLength()+1),this.hash=Ee.hash||Ee.curve.hash}return ec=Se,Se.prototype.keyPair=function(me){return new xe(this,me)},Se.prototype.keyFromPrivate=function(me,Ie){return xe.fromPrivate(this,me,Ie)},Se.prototype.keyFromPublic=function(me,Ie){return xe.fromPublic(this,me,Ie)},Se.prototype.genKeyPair=function(me){me||(me={});for(var Ie=new t({hash:this.hash,pers:me.pers,persEnc:me.persEnc||"utf8",entropy:me.entropy||fe(this.hash.hmacStrength),entropyEnc:me.entropy&&me.entropyEnc||"utf8",nonce:this.n.toArray()}),fr=this.n.byteLength(),Oe=this.n.sub(new Y(2));;){var wr=new Y(Ie.generate(fr));if(!(wr.cmp(Oe)>0))return wr.iaddn(1),this.keyFromPrivate(wr)}},Se.prototype._truncateToN=function(me,Ie){var fr=me.byteLength()*8-this.n.bitLength();return fr>0&&(me=me.ushrn(fr)),!Ie&&me.cmp(this.n)>=0?me.sub(this.n):me},Se.prototype.sign=function(me,Ie,fr,Oe){typeof fr=="object"&&(Oe=fr,fr=null),Oe||(Oe={}),Ie=this.keyFromPrivate(Ie,fr),me=this._truncateToN(new Y(me,16));for(var wr=this.n.byteLength(),qr=Ie.getPrivate().toArray("be",wr),Gr=me.toArray("be",wr),Yr=new t({hash:this.hash,entropy:qr,nonce:Gr,pers:Oe.pers,persEnc:Oe.persEnc||"utf8"}),Wr=this.n.sub(new Y(1)),ti=0;;ti++){var Qr=Oe.k?Oe.k(ti):new Y(Yr.generate(this.n.byteLength()));if(Qr=this._truncateToN(Qr,!0),!(Qr.cmpn(1)<=0||Qr.cmp(Wr)>=0)){var oi=this.g.mul(Qr);if(!oi.isInfinity()){var fi=oi.getX(),jr=fi.umod(this.n);if(jr.cmpn(0)!==0){var ci=Qr.invm(this.n).mul(jr.mul(Ie.getPrivate()).iadd(me));if(ci=ci.umod(this.n),ci.cmpn(0)!==0){var gi=(oi.getY().isOdd()?1:0)|(fi.cmp(jr)!==0?2:0);return Oe.canonical&&ci.cmp(this.nh)>0&&(ci=this.n.sub(ci),gi^=1),new we({r:jr,s:ci,recoveryParam:gi})}}}}}},Se.prototype.verify=function(me,Ie,fr,Oe){me=this._truncateToN(new Y(me,16)),fr=this.keyFromPublic(fr,Oe),Ie=new we(Ie,"hex");var wr=Ie.r,qr=Ie.s;if(wr.cmpn(1)<0||wr.cmp(this.n)>=0||qr.cmpn(1)<0||qr.cmp(this.n)>=0)return!1;var Gr=qr.invm(this.n),Yr=Gr.mul(me).umod(this.n),Wr=Gr.mul(wr).umod(this.n),ti;return this.curve._maxwellTrick?(ti=this.g.jmulAdd(Yr,fr.getPublic(),Wr),ti.isInfinity()?!1:ti.eqXToP(wr)):(ti=this.g.mulAdd(Yr,fr.getPublic(),Wr),ti.isInfinity()?!1:ti.getX().umod(this.n).cmp(wr)===0)},Se.prototype.recoverPubKey=function(Ee,me,Ie,fr){be((3&Ie)===Ie,"The recovery param is more than two bits"),me=new we(me,fr);var Oe=this.n,wr=new Y(Ee),qr=me.r,Gr=me.s,Yr=Ie&1,Wr=Ie>>1;if(qr.cmp(this.curve.p.umod(this.curve.n))>=0&&Wr)throw new Error("Unable to find sencond key candinate");Wr?qr=this.curve.pointFromX(qr.add(this.curve.n),Yr):qr=this.curve.pointFromX(qr,Yr);var ti=me.r.invm(Oe),Qr=Oe.sub(wr).mul(ti).umod(Oe),oi=Gr.mul(ti).umod(Oe);return this.g.mulAdd(Qr,qr,oi)},Se.prototype.getKeyRecoveryParam=function(Ee,me,Ie,fr){if(me=new we(me,fr),me.recoveryParam!==null)return me.recoveryParam;for(var Oe=0;Oe<4;Oe++){var wr;try{wr=this.recoverPubKey(Ee,me,Oe)}catch{continue}if(wr.eq(Ie))return Oe}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var Y=requireUtils$2(),t=Y.assert,s=Y.parseBytes,se=Y.cachedProperty;function fe(be,xe){this.eddsa=be,this._secret=s(xe.secret),be.isPoint(xe.pub)?this._pub=xe.pub:this._pubBytes=s(xe.pub)}return fe.fromPublic=function(xe,we){return we instanceof fe?we:new fe(xe,{pub:we})},fe.fromSecret=function(xe,we){return we instanceof fe?we:new fe(xe,{secret:we})},fe.prototype.secret=function(){return this._secret},se(fe,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),se(fe,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),se(fe,"privBytes",function(){var xe=this.eddsa,we=this.hash(),Se=xe.encodingLength-1,Ee=we.slice(0,xe.encodingLength);return Ee[0]&=248,Ee[Se]&=127,Ee[Se]|=64,Ee}),se(fe,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),se(fe,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),se(fe,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),fe.prototype.sign=function(xe){return t(this._secret,"KeyPair can only verify"),this.eddsa.sign(xe,this)},fe.prototype.verify=function(xe,we){return this.eddsa.verify(xe,we,this)},fe.prototype.getSecret=function(xe){return t(this._secret,"KeyPair is public only"),Y.encode(this.secret(),xe)},fe.prototype.getPublic=function(xe){return Y.encode(this.pubBytes(),xe)},key=fe,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var Y=requireBn(),t=requireUtils$2(),s=t.assert,se=t.cachedProperty,fe=t.parseBytes;function be(xe,we){this.eddsa=xe,typeof we!="object"&&(we=fe(we)),Array.isArray(we)&&(we={R:we.slice(0,xe.encodingLength),S:we.slice(xe.encodingLength)}),s(we.R&&we.S,"Signature without R or S"),xe.isPoint(we.R)&&(this._R=we.R),we.S instanceof Y&&(this._S=we.S),this._Rencoded=Array.isArray(we.R)?we.R:we.Rencoded,this._Sencoded=Array.isArray(we.S)?we.S:we.Sencoded}return se(be,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),se(be,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),se(be,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),se(be,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),be.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},be.prototype.toHex=function(){return t.encode(this.toBytes(),"hex").toUpperCase()},signature=be,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var Y=requireHash(),t=requireCurves(),s=requireUtils$2(),se=s.assert,fe=s.parseBytes,be=requireKey(),xe=requireSignature();function we(Se){if(se(Se==="ed25519","only tested with ed25519 so far"),!(this instanceof we))return new we(Se);Se=t[Se].curve,this.curve=Se,this.g=Se.g,this.g.precompute(Se.n.bitLength()+1),this.pointClass=Se.point().constructor,this.encodingLength=Math.ceil(Se.n.bitLength()/8),this.hash=Y.sha512}return eddsa=we,we.prototype.sign=function(Ee,me){Ee=fe(Ee);var Ie=this.keyFromSecret(me),fr=this.hashInt(Ie.messagePrefix(),Ee),Oe=this.g.mul(fr),wr=this.encodePoint(Oe),qr=this.hashInt(wr,Ie.pubBytes(),Ee).mul(Ie.priv()),Gr=fr.add(qr).umod(this.curve.n);return this.makeSignature({R:Oe,S:Gr,Rencoded:wr})},we.prototype.verify=function(Ee,me,Ie){Ee=fe(Ee),me=this.makeSignature(me);var fr=this.keyFromPublic(Ie),Oe=this.hashInt(me.Rencoded(),fr.pubBytes(),Ee),wr=this.g.mul(me.S()),qr=me.R().add(fr.pub().mul(Oe));return qr.eq(wr)},we.prototype.hashInt=function(){for(var Ee=this.hash(),me=0;me<arguments.length;me++)Ee.update(arguments[me]);return s.intFromLE(Ee.digest()).umod(this.curve.n)},we.prototype.keyFromPublic=function(Ee){return be.fromPublic(this,Ee)},we.prototype.keyFromSecret=function(Ee){return be.fromSecret(this,Ee)},we.prototype.makeSignature=function(Ee){return Ee instanceof xe?Ee:new xe(this,Ee)},we.prototype.encodePoint=function(Ee){var me=Ee.getY().toArray("le",this.encodingLength);return me[this.encodingLength-1]|=Ee.getX().isOdd()?128:0,me},we.prototype.decodePoint=function(Ee){Ee=s.parseBytes(Ee);var me=Ee.length-1,Ie=Ee.slice(0,me).concat(Ee[me]&-129),fr=(Ee[me]&128)!==0,Oe=s.intFromLE(Ie);return this.curve.pointFromY(Oe,fr)},we.prototype.encodeInt=function(Ee){return Ee.toArray("le",this.encodingLength)},we.prototype.decodeInt=function(Ee){return s.intFromLE(Ee)},we.prototype.isPoint=function(Ee){return Ee instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(Y){var t=Y;t.version=require$$0$3.version,t.utils=requireUtils$2(),t.rand=requireBrorand(),t.curve=requireCurve(),t.curves=requireCurves(),t.ec=requireEc(),t.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(Y,t){if(Y.indexOf)return Y.indexOf(t);for(var s=0;s<Y.length;s++)if(Y[s]===t)return s;return-1},Object_keys=function(Y){if(Object.keys)return Object.keys(Y);var t=[];for(var s in Y)t.push(s);return t},forEach=function(Y,t){if(Y.forEach)return Y.forEach(t);for(var s=0;s<Y.length;s++)t(Y[s],s,Y)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(Y,t,s){Object.defineProperty(Y,t,{writable:!0,enumerable:!1,configurable:!0,value:s})}}catch{return function(t,s,se){t[s]=se}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(Y){if(!(Y instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var s=t.contentWindow,se=s.eval,fe=s.execScript;!se&&fe&&(fe.call(s,"null"),se=s.eval),forEach(Object_keys(Y),function(we){s[we]=Y[we]}),forEach(globals,function(we){Y[we]&&(s[we]=Y[we])});var be=Object_keys(s),xe=se.call(s,this.code);return forEach(Object_keys(s),function(we){(we in Y||indexOf(be,we)===-1)&&(Y[we]=s[we])}),forEach(globals,function(we){we in Y||defineProp(Y,we,s[we])}),document.body.removeChild(t),xe},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(Y){var t=Script.createContext(Y),s=this.runInContext(t);return Y&&forEach(Object_keys(t),function(se){Y[se]=t[se]}),s},forEach(Object_keys(Script.prototype),function(Y){exports[Y]=Script[Y]=function(t){var s=Script(t);return s[Y].apply(s,[].slice.call(arguments,1))}}),exports.isContext=function(Y){return Y instanceof Context},exports.createScript=function(Y){return exports.Script(Y)},exports.createContext=Script.createContext=function(Y){var t=new Context;return typeof Y=="object"&&forEach(Object_keys(Y),function(s){t[s]=Y[s]}),t}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(Y){var t=requireAsn1$1(),s=inherits_browserExports,se=Y;se.define=function(xe,we){return new fe(xe,we)};function fe(be,xe){this.name=be,this.body=xe,this.decoders={},this.encoders={}}fe.prototype._createNamed=function(xe){var we;try{we=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{we=function(Ee){this._initNamed(Ee)}}return s(we,xe),we.prototype._initNamed=function(Ee){xe.call(this,Ee)},new we(this)},fe.prototype._getDecoder=function(xe){return xe=xe||"der",this.decoders.hasOwnProperty(xe)||(this.decoders[xe]=this._createNamed(t.decoders[xe])),this.decoders[xe]},fe.prototype.decode=function(xe,we,Se){return this._getDecoder(we).decode(xe,Se)},fe.prototype._getEncoder=function(xe){return xe=xe||"der",this.encoders.hasOwnProperty(xe)||(this.encoders[xe]=this._createNamed(t.encoders[xe])),this.encoders[xe]},fe.prototype.encode=function(xe,we,Se){return this._getEncoder(we).encode(xe,Se)}}(api)),api}var base$1={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var Y=inherits_browserExports;function t(se){this._reporterState={obj:null,path:[],options:se||{},errors:[]}}reporter.Reporter=t,t.prototype.isError=function(fe){return fe instanceof s},t.prototype.save=function(){var fe=this._reporterState;return{obj:fe.obj,pathLen:fe.path.length}},t.prototype.restore=function(fe){var be=this._reporterState;be.obj=fe.obj,be.path=be.path.slice(0,fe.pathLen)},t.prototype.enterKey=function(fe){return this._reporterState.path.push(fe)},t.prototype.exitKey=function(fe){var be=this._reporterState;be.path=be.path.slice(0,fe-1)},t.prototype.leaveKey=function(fe,be,xe){var we=this._reporterState;this.exitKey(fe),we.obj!==null&&(we.obj[be]=xe)},t.prototype.path=function(){return this._reporterState.path.join("/")},t.prototype.enterObject=function(){var fe=this._reporterState,be=fe.obj;return fe.obj={},be},t.prototype.leaveObject=function(fe){var be=this._reporterState,xe=be.obj;return be.obj=fe,xe},t.prototype.error=function(fe){var be,xe=this._reporterState,we=fe instanceof s;if(we?be=fe:be=new s(xe.path.map(function(Se){return"["+JSON.stringify(Se)+"]"}).join(""),fe.message||fe,fe.stack),!xe.options.partial)throw be;return we||xe.errors.push(be),be},t.prototype.wrapResult=function(fe){var be=this._reporterState;return be.options.partial?{result:this.isError(fe)?null:fe,errors:be.errors}:fe};function s(se,fe){this.path=se,this.rethrow(fe)}return Y(s,Error),s.prototype.rethrow=function(fe){if(this.message=fe+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(be){this.stack=be.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var Y=inherits_browserExports,t=requireBase().Reporter,s=dist.Buffer;function se(be,xe){if(t.call(this,xe),!s.isBuffer(be)){this.error("Input not Buffer");return}this.base=be,this.offset=0,this.length=be.length}Y(se,t),buffer.DecoderBuffer=se,se.prototype.save=function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},se.prototype.restore=function(xe){var we=new se(this.base);return we.offset=xe.offset,we.length=this.offset,this.offset=xe.offset,t.prototype.restore.call(this,xe.reporter),we},se.prototype.isEmpty=function(){return this.offset===this.length},se.prototype.readUInt8=function(xe){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(xe||"DecoderBuffer overrun")},se.prototype.skip=function(xe,we){if(!(this.offset+xe<=this.length))return this.error(we||"DecoderBuffer overrun");var Se=new se(this.base);return Se._reporterState=this._reporterState,Se.offset=this.offset,Se.length=this.offset+xe,this.offset+=xe,Se},se.prototype.raw=function(xe){return this.base.slice(xe?xe.offset:this.offset,this.length)};function fe(be,xe){if(Array.isArray(be))this.length=0,this.value=be.map(function(we){return we instanceof fe||(we=new fe(we,xe)),this.length+=we.length,we},this);else if(typeof be=="number"){if(!(0<=be&&be<=255))return xe.error("non-byte EncoderBuffer value");this.value=be,this.length=1}else if(typeof be=="string")this.value=be,this.length=s.byteLength(be);else if(s.isBuffer(be))this.value=be,this.length=be.length;else return xe.error("Unsupported type: "+typeof be)}return buffer.EncoderBuffer=fe,fe.prototype.join=function(xe,we){return xe||(xe=new s(this.length)),we||(we=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(Se){Se.join(xe,we),we+=Se.length}):(typeof this.value=="number"?xe[we]=this.value:typeof this.value=="string"?xe.write(this.value,we):s.isBuffer(this.value)&&this.value.copy(xe,we),we+=this.length)),xe},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var Y=requireBase().Reporter,t=requireBase().EncoderBuffer,s=requireBase().DecoderBuffer,se=requireMinimalisticAssert(),fe=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],be=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(fe),xe=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function we(Ee,me){var Ie={};this._baseState=Ie,Ie.enc=Ee,Ie.parent=me||null,Ie.children=null,Ie.tag=null,Ie.args=null,Ie.reverseArgs=null,Ie.choice=null,Ie.optional=!1,Ie.any=!1,Ie.obj=!1,Ie.use=null,Ie.useDecoder=null,Ie.key=null,Ie.default=null,Ie.explicit=null,Ie.implicit=null,Ie.contains=null,Ie.parent||(Ie.children=[],this._wrap())}node=we;var Se=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return we.prototype.clone=function(){var me=this._baseState,Ie={};Se.forEach(function(Oe){Ie[Oe]=me[Oe]});var fr=new this.constructor(Ie.parent);return fr._baseState=Ie,fr},we.prototype._wrap=function(){var me=this._baseState;be.forEach(function(Ie){this[Ie]=function(){var Oe=new this.constructor(this);return me.children.push(Oe),Oe[Ie].apply(Oe,arguments)}},this)},we.prototype._init=function(me){var Ie=this._baseState;se(Ie.parent===null),me.call(this),Ie.children=Ie.children.filter(function(fr){return fr._baseState.parent===this},this),se.equal(Ie.children.length,1,"Root node can have only one child")},we.prototype._useArgs=function(me){var Ie=this._baseState,fr=me.filter(function(Oe){return Oe instanceof this.constructor},this);me=me.filter(function(Oe){return!(Oe instanceof this.constructor)},this),fr.length!==0&&(se(Ie.children===null),Ie.children=fr,fr.forEach(function(Oe){Oe._baseState.parent=this},this)),me.length!==0&&(se(Ie.args===null),Ie.args=me,Ie.reverseArgs=me.map(function(Oe){if(typeof Oe!="object"||Oe.constructor!==Object)return Oe;var wr={};return Object.keys(Oe).forEach(function(qr){qr==(qr|0)&&(qr|=0);var Gr=Oe[qr];wr[Gr]=qr}),wr}))},xe.forEach(function(Ee){we.prototype[Ee]=function(){var Ie=this._baseState;throw new Error(Ee+" not implemented for encoding: "+Ie.enc)}}),fe.forEach(function(Ee){we.prototype[Ee]=function(){var Ie=this._baseState,fr=Array.prototype.slice.call(arguments);return se(Ie.tag===null),Ie.tag=Ee,this._useArgs(fr),this}}),we.prototype.use=function(me){se(me);var Ie=this._baseState;return se(Ie.use===null),Ie.use=me,this},we.prototype.optional=function(){var me=this._baseState;return me.optional=!0,this},we.prototype.def=function(me){var Ie=this._baseState;return se(Ie.default===null),Ie.default=me,Ie.optional=!0,this},we.prototype.explicit=function(me){var Ie=this._baseState;return se(Ie.explicit===null&&Ie.implicit===null),Ie.explicit=me,this},we.prototype.implicit=function(me){var Ie=this._baseState;return se(Ie.explicit===null&&Ie.implicit===null),Ie.implicit=me,this},we.prototype.obj=function(){var me=this._baseState,Ie=Array.prototype.slice.call(arguments);return me.obj=!0,Ie.length!==0&&this._useArgs(Ie),this},we.prototype.key=function(me){var Ie=this._baseState;return se(Ie.key===null),Ie.key=me,this},we.prototype.any=function(){var me=this._baseState;return me.any=!0,this},we.prototype.choice=function(me){var Ie=this._baseState;return se(Ie.choice===null),Ie.choice=me,this._useArgs(Object.keys(me).map(function(fr){return me[fr]})),this},we.prototype.contains=function(me){var Ie=this._baseState;return se(Ie.use===null),Ie.contains=me,this},we.prototype._decode=function(me,Ie){var fr=this._baseState;if(fr.parent===null)return me.wrapResult(fr.children[0]._decode(me,Ie));var Oe=fr.default,wr=!0,qr=null;if(fr.key!==null&&(qr=me.enterKey(fr.key)),fr.optional){var Gr=null;if(fr.explicit!==null?Gr=fr.explicit:fr.implicit!==null?Gr=fr.implicit:fr.tag!==null&&(Gr=fr.tag),Gr===null&&!fr.any){var Yr=me.save();try{fr.choice===null?this._decodeGeneric(fr.tag,me,Ie):this._decodeChoice(me,Ie),wr=!0}catch{wr=!1}me.restore(Yr)}else if(wr=this._peekTag(me,Gr,fr.any),me.isError(wr))return wr}var Wr;if(fr.obj&&wr&&(Wr=me.enterObject()),wr){if(fr.explicit!==null){var ti=this._decodeTag(me,fr.explicit);if(me.isError(ti))return ti;me=ti}var Qr=me.offset;if(fr.use===null&&fr.choice===null){if(fr.any)var Yr=me.save();var oi=this._decodeTag(me,fr.implicit!==null?fr.implicit:fr.tag,fr.any);if(me.isError(oi))return oi;fr.any?Oe=me.raw(Yr):me=oi}if(Ie&&Ie.track&&fr.tag!==null&&Ie.track(me.path(),Qr,me.length,"tagged"),Ie&&Ie.track&&fr.tag!==null&&Ie.track(me.path(),me.offset,me.length,"content"),fr.any?Oe=Oe:fr.choice===null?Oe=this._decodeGeneric(fr.tag,me,Ie):Oe=this._decodeChoice(me,Ie),me.isError(Oe))return Oe;if(!fr.any&&fr.choice===null&&fr.children!==null&&fr.children.forEach(function(ci){ci._decode(me,Ie)}),fr.contains&&(fr.tag==="octstr"||fr.tag==="bitstr")){var fi=new s(Oe);Oe=this._getUse(fr.contains,me._reporterState.obj)._decode(fi,Ie)}}return fr.obj&&wr&&(Oe=me.leaveObject(Wr)),fr.key!==null&&(Oe!==null||wr===!0)?me.leaveKey(qr,fr.key,Oe):qr!==null&&me.exitKey(qr),Oe},we.prototype._decodeGeneric=function(me,Ie,fr){var Oe=this._baseState;return me==="seq"||me==="set"?null:me==="seqof"||me==="setof"?this._decodeList(Ie,me,Oe.args[0],fr):/str$/.test(me)?this._decodeStr(Ie,me,fr):me==="objid"&&Oe.args?this._decodeObjid(Ie,Oe.args[0],Oe.args[1],fr):me==="objid"?this._decodeObjid(Ie,null,null,fr):me==="gentime"||me==="utctime"?this._decodeTime(Ie,me,fr):me==="null_"?this._decodeNull(Ie,fr):me==="bool"?this._decodeBool(Ie,fr):me==="objDesc"?this._decodeStr(Ie,me,fr):me==="int"||me==="enum"?this._decodeInt(Ie,Oe.args&&Oe.args[0],fr):Oe.use!==null?this._getUse(Oe.use,Ie._reporterState.obj)._decode(Ie,fr):Ie.error("unknown tag: "+me)},we.prototype._getUse=function(me,Ie){var fr=this._baseState;return fr.useDecoder=this._use(me,Ie),se(fr.useDecoder._baseState.parent===null),fr.useDecoder=fr.useDecoder._baseState.children[0],fr.implicit!==fr.useDecoder._baseState.implicit&&(fr.useDecoder=fr.useDecoder.clone(),fr.useDecoder._baseState.implicit=fr.implicit),fr.useDecoder},we.prototype._decodeChoice=function(me,Ie){var fr=this._baseState,Oe=null,wr=!1;return Object.keys(fr.choice).some(function(qr){var Gr=me.save(),Yr=fr.choice[qr];try{var Wr=Yr._decode(me,Ie);if(me.isError(Wr))return!1;Oe={type:qr,value:Wr},wr=!0}catch{return me.restore(Gr),!1}return!0},this),wr?Oe:me.error("Choice not matched")},we.prototype._createEncoderBuffer=function(me){return new t(me,this.reporter)},we.prototype._encode=function(me,Ie,fr){var Oe=this._baseState;if(!(Oe.default!==null&&Oe.default===me)){var wr=this._encodeValue(me,Ie,fr);if(wr!==void 0&&!this._skipDefault(wr,Ie,fr))return wr}},we.prototype._encodeValue=function(me,Ie,fr){var Oe=this._baseState;if(Oe.parent===null)return Oe.children[0]._encode(me,Ie||new Y);var Yr=null;if(this.reporter=Ie,Oe.optional&&me===void 0)if(Oe.default!==null)me=Oe.default;else return;var wr=null,qr=!1;if(Oe.any)Yr=this._createEncoderBuffer(me);else if(Oe.choice)Yr=this._encodeChoice(me,Ie);else if(Oe.contains)wr=this._getUse(Oe.contains,fr)._encode(me,Ie),qr=!0;else if(Oe.children)wr=Oe.children.map(function(Qr){if(Qr._baseState.tag==="null_")return Qr._encode(null,Ie,me);if(Qr._baseState.key===null)return Ie.error("Child should have a key");var oi=Ie.enterKey(Qr._baseState.key);if(typeof me!="object")return Ie.error("Child expected, but input is not object");var fi=Qr._encode(me[Qr._baseState.key],Ie,me);return Ie.leaveKey(oi),fi},this).filter(function(Qr){return Qr}),wr=this._createEncoderBuffer(wr);else if(Oe.tag==="seqof"||Oe.tag==="setof"){if(!(Oe.args&&Oe.args.length===1))return Ie.error("Too many args for : "+Oe.tag);if(!Array.isArray(me))return Ie.error("seqof/setof, but data is not Array");var Gr=this.clone();Gr._baseState.implicit=null,wr=this._createEncoderBuffer(me.map(function(Qr){var oi=this._baseState;return this._getUse(oi.args[0],me)._encode(Qr,Ie)},Gr))}else Oe.use!==null?Yr=this._getUse(Oe.use,fr)._encode(me,Ie):(wr=this._encodePrimitive(Oe.tag,me),qr=!0);var Yr;if(!Oe.any&&Oe.choice===null){var Wr=Oe.implicit!==null?Oe.implicit:Oe.tag,ti=Oe.implicit===null?"universal":"context";Wr===null?Oe.use===null&&Ie.error("Tag could be omitted only for .use()"):Oe.use===null&&(Yr=this._encodeComposite(Wr,qr,ti,wr))}return Oe.explicit!==null&&(Yr=this._encodeComposite(Oe.explicit,!1,"context",Yr)),Yr},we.prototype._encodeChoice=function(me,Ie){var fr=this._baseState,Oe=fr.choice[me.type];return Oe||se(!1,me.type+" not found in "+JSON.stringify(Object.keys(fr.choice))),Oe._encode(me.value,Ie)},we.prototype._encodePrimitive=function(me,Ie){var fr=this._baseState;if(/str$/.test(me))return this._encodeStr(Ie,me);if(me==="objid"&&fr.args)return this._encodeObjid(Ie,fr.reverseArgs[0],fr.args[1]);if(me==="objid")return this._encodeObjid(Ie,null,null);if(me==="gentime"||me==="utctime")return this._encodeTime(Ie,me);if(me==="null_")return this._encodeNull();if(me==="int"||me==="enum")return this._encodeInt(Ie,fr.args&&fr.reverseArgs[0]);if(me==="bool")return this._encodeBool(Ie);if(me==="objDesc")return this._encodeStr(Ie,me);throw new Error("Unsupported tag: "+me)},we.prototype._isNumstr=function(me){return/^[0-9 ]*$/.test(me)},we.prototype._isPrintstr=function(me){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(me)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(Y){var t=Y;t.Reporter=requireReporter().Reporter,t.DecoderBuffer=requireBuffer().DecoderBuffer,t.EncoderBuffer=requireBuffer().EncoderBuffer,t.Node=requireNode()}(base$1)),base$1}var constants$2={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(Y){var t=requireConstants$2();Y.tagClass={0:"universal",1:"application",2:"context",3:"private"},Y.tagClassByName=t._reverse(Y.tagClass),Y.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},Y.tagByName=t._reverse(Y.tag)}(der)),der}var hasRequiredConstants$2;function requireConstants$2(){return hasRequiredConstants$2||(hasRequiredConstants$2=1,function(Y){var t=Y;t._reverse=function(se){var fe={};return Object.keys(se).forEach(function(be){(be|0)==be&&(be=be|0);var xe=se[be];fe[xe]=be}),fe},t.der=requireDer$2()}(constants$2)),constants$2}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var Y=inherits_browserExports,t=requireAsn1$1(),s=t.base,se=t.bignum,fe=t.constants.der;function be(Ee){this.enc="der",this.name=Ee.name,this.entity=Ee,this.tree=new xe,this.tree._init(Ee.body)}der_1$1=be,be.prototype.decode=function(me,Ie){return me instanceof s.DecoderBuffer||(me=new s.DecoderBuffer(me,Ie)),this.tree._decode(me,Ie)};function xe(Ee){s.Node.call(this,"der",Ee)}Y(xe,s.Node),xe.prototype._peekTag=function(me,Ie,fr){if(me.isEmpty())return!1;var Oe=me.save(),wr=we(me,'Failed to peek tag: "'+Ie+'"');return me.isError(wr)?wr:(me.restore(Oe),wr.tag===Ie||wr.tagStr===Ie||wr.tagStr+"of"===Ie||fr)},xe.prototype._decodeTag=function(me,Ie,fr){var Oe=we(me,'Failed to decode tag of "'+Ie+'"');if(me.isError(Oe))return Oe;var wr=Se(me,Oe.primitive,'Failed to get length of "'+Ie+'"');if(me.isError(wr))return wr;if(!fr&&Oe.tag!==Ie&&Oe.tagStr!==Ie&&Oe.tagStr+"of"!==Ie)return me.error('Failed to match tag: "'+Ie+'"');if(Oe.primitive||wr!==null)return me.skip(wr,'Failed to match body of: "'+Ie+'"');var qr=me.save(),Gr=this._skipUntilEnd(me,'Failed to skip indefinite length body: "'+this.tag+'"');return me.isError(Gr)?Gr:(wr=me.offset-qr.offset,me.restore(qr),me.skip(wr,'Failed to match body of: "'+Ie+'"'))},xe.prototype._skipUntilEnd=function(me,Ie){for(;;){var fr=we(me,Ie);if(me.isError(fr))return fr;var Oe=Se(me,fr.primitive,Ie);if(me.isError(Oe))return Oe;var wr;if(fr.primitive||Oe!==null?wr=me.skip(Oe):wr=this._skipUntilEnd(me,Ie),me.isError(wr))return wr;if(fr.tagStr==="end")break}},xe.prototype._decodeList=function(me,Ie,fr,Oe){for(var wr=[];!me.isEmpty();){var qr=this._peekTag(me,"end");if(me.isError(qr))return qr;var Gr=fr.decode(me,"der",Oe);if(me.isError(Gr)&&qr)break;wr.push(Gr)}return wr},xe.prototype._decodeStr=function(me,Ie){if(Ie==="bitstr"){var fr=me.readUInt8();return me.isError(fr)?fr:{unused:fr,data:me.raw()}}else if(Ie==="bmpstr"){var Oe=me.raw();if(Oe.length%2===1)return me.error("Decoding of string type: bmpstr length mismatch");for(var wr="",qr=0;qr<Oe.length/2;qr++)wr+=String.fromCharCode(Oe.readUInt16BE(qr*2));return wr}else if(Ie==="numstr"){var Gr=me.raw().toString("ascii");return this._isNumstr(Gr)?Gr:me.error("Decoding of string type: numstr unsupported characters")}else{if(Ie==="octstr")return me.raw();if(Ie==="objDesc")return me.raw();if(Ie==="printstr"){var Yr=me.raw().toString("ascii");return this._isPrintstr(Yr)?Yr:me.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(Ie)?me.raw().toString():me.error("Decoding of string type: "+Ie+" unsupported")}},xe.prototype._decodeObjid=function(me,Ie,fr){for(var Oe,wr=[],qr=0;!me.isEmpty();){var Gr=me.readUInt8();qr<<=7,qr|=Gr&127,Gr&128||(wr.push(qr),qr=0)}Gr&128&&wr.push(qr);var Yr=wr[0]/40|0,Wr=wr[0]%40;if(fr?Oe=wr:Oe=[Yr,Wr].concat(wr.slice(1)),Ie){var ti=Ie[Oe.join(" ")];ti===void 0&&(ti=Ie[Oe.join(".")]),ti!==void 0&&(Oe=ti)}return Oe},xe.prototype._decodeTime=function(me,Ie){var fr=me.raw().toString();if(Ie==="gentime")var Oe=fr.slice(0,4)|0,wr=fr.slice(4,6)|0,qr=fr.slice(6,8)|0,Gr=fr.slice(8,10)|0,Yr=fr.slice(10,12)|0,Wr=fr.slice(12,14)|0;else if(Ie==="utctime"){var Oe=fr.slice(0,2)|0,wr=fr.slice(2,4)|0,qr=fr.slice(4,6)|0,Gr=fr.slice(6,8)|0,Yr=fr.slice(8,10)|0,Wr=fr.slice(10,12)|0;Oe<70?Oe=2e3+Oe:Oe=1900+Oe}else return me.error("Decoding "+Ie+" time is not supported yet");return Date.UTC(Oe,wr-1,qr,Gr,Yr,Wr,0)},xe.prototype._decodeNull=function(me){return null},xe.prototype._decodeBool=function(me){var Ie=me.readUInt8();return me.isError(Ie)?Ie:Ie!==0},xe.prototype._decodeInt=function(me,Ie){var fr=me.raw(),Oe=new se(fr);return Ie&&(Oe=Ie[Oe.toString(10)]||Oe),Oe},xe.prototype._use=function(me,Ie){return typeof me=="function"&&(me=me(Ie)),me._getDecoder("der").tree};function we(Ee,me){var Ie=Ee.readUInt8(me);if(Ee.isError(Ie))return Ie;var fr=fe.tagClass[Ie>>6],Oe=(Ie&32)===0;if((Ie&31)===31){var wr=Ie;for(Ie=0;(wr&128)===128;){if(wr=Ee.readUInt8(me),Ee.isError(wr))return wr;Ie<<=7,Ie|=wr&127}}else Ie&=31;var qr=fe.tag[Ie];return{cls:fr,primitive:Oe,tag:Ie,tagStr:qr}}function Se(Ee,me,Ie){var fr=Ee.readUInt8(Ie);if(Ee.isError(fr))return fr;if(!me&&fr===128)return null;if(!(fr&128))return fr;var Oe=fr&127;if(Oe>4)return Ee.error("length octect is too long");fr=0;for(var wr=0;wr<Oe;wr++){fr<<=8;var qr=Ee.readUInt8(Ie);if(Ee.isError(qr))return qr;fr|=qr}return fr}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var Y=inherits_browserExports,t=dist.Buffer,s=requireDer$1();function se(fe){s.call(this,fe),this.enc="pem"}return Y(se,s),pem$1=se,se.prototype.decode=function(be,xe){for(var we=be.toString().split(/[\r\n]+/g),Se=xe.label.toUpperCase(),Ee=/^-----(BEGIN|END) ([^-]+)-----$/,me=-1,Ie=-1,fr=0;fr<we.length;fr++){var Oe=we[fr].match(Ee);if(Oe!==null&&Oe[2]===Se)if(me===-1){if(Oe[1]!=="BEGIN")break;me=fr}else{if(Oe[1]!=="END")break;Ie=fr;break}}if(me===-1||Ie===-1)throw new Error("PEM section not found for: "+Se);var wr=we.slice(me+1,Ie).join("");wr.replace(/[^a-z0-9\+\/=]+/gi,"");var qr=new t(wr,"base64");return s.prototype.decode.call(this,qr,xe)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(Y){var t=Y;t.der=requireDer$1(),t.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var Y=inherits_browserExports,t=dist.Buffer,s=requireAsn1$1(),se=s.base,fe=s.constants.der;function be(Ee){this.enc="der",this.name=Ee.name,this.entity=Ee,this.tree=new xe,this.tree._init(Ee.body)}der_1=be,be.prototype.encode=function(me,Ie){return this.tree._encode(me,Ie).join()};function xe(Ee){se.Node.call(this,"der",Ee)}Y(xe,se.Node),xe.prototype._encodeComposite=function(me,Ie,fr,Oe){var wr=Se(me,Ie,fr,this.reporter);if(Oe.length<128){var Yr=new t(2);return Yr[0]=wr,Yr[1]=Oe.length,this._createEncoderBuffer([Yr,Oe])}for(var qr=1,Gr=Oe.length;Gr>=256;Gr>>=8)qr++;var Yr=new t(2+qr);Yr[0]=wr,Yr[1]=128|qr;for(var Gr=1+qr,Wr=Oe.length;Wr>0;Gr--,Wr>>=8)Yr[Gr]=Wr&255;return this._createEncoderBuffer([Yr,Oe])},xe.prototype._encodeStr=function(me,Ie){if(Ie==="bitstr")return this._createEncoderBuffer([me.unused|0,me.data]);if(Ie==="bmpstr"){for(var fr=new t(me.length*2),Oe=0;Oe<me.length;Oe++)fr.writeUInt16BE(me.charCodeAt(Oe),Oe*2);return this._createEncoderBuffer(fr)}else return Ie==="numstr"?this._isNumstr(me)?this._createEncoderBuffer(me):this.reporter.error("Encoding of string type: numstr supports only digits and space"):Ie==="printstr"?this._isPrintstr(me)?this._createEncoderBuffer(me):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Ie)?this._createEncoderBuffer(me):Ie==="objDesc"?this._createEncoderBuffer(me):this.reporter.error("Encoding of string type: "+Ie+" unsupported")},xe.prototype._encodeObjid=function(me,Ie,fr){if(typeof me=="string"){if(!Ie)return this.reporter.error("string objid given, but no values map found");if(!Ie.hasOwnProperty(me))return this.reporter.error("objid not found in values map");me=Ie[me].split(/[\s\.]+/g);for(var Oe=0;Oe<me.length;Oe++)me[Oe]|=0}else if(Array.isArray(me)){me=me.slice();for(var Oe=0;Oe<me.length;Oe++)me[Oe]|=0}if(!Array.isArray(me))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(me));if(!fr){if(me[1]>=40)return this.reporter.error("Second objid identifier OOB");me.splice(0,2,me[0]*40+me[1])}for(var wr=0,Oe=0;Oe<me.length;Oe++){var qr=me[Oe];for(wr++;qr>=128;qr>>=7)wr++}for(var Gr=new t(wr),Yr=Gr.length-1,Oe=me.length-1;Oe>=0;Oe--){var qr=me[Oe];for(Gr[Yr--]=qr&127;(qr>>=7)>0;)Gr[Yr--]=128|qr&127}return this._createEncoderBuffer(Gr)};function we(Ee){return Ee<10?"0"+Ee:Ee}xe.prototype._encodeTime=function(me,Ie){var fr,Oe=new Date(me);return Ie==="gentime"?fr=[we(Oe.getFullYear()),we(Oe.getUTCMonth()+1),we(Oe.getUTCDate()),we(Oe.getUTCHours()),we(Oe.getUTCMinutes()),we(Oe.getUTCSeconds()),"Z"].join(""):Ie==="utctime"?fr=[we(Oe.getFullYear()%100),we(Oe.getUTCMonth()+1),we(Oe.getUTCDate()),we(Oe.getUTCHours()),we(Oe.getUTCMinutes()),we(Oe.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Ie+" time is not supported yet"),this._encodeStr(fr,"octstr")},xe.prototype._encodeNull=function(){return this._createEncoderBuffer("")},xe.prototype._encodeInt=function(me,Ie){if(typeof me=="string"){if(!Ie)return this.reporter.error("String int or enum given, but no values map");if(!Ie.hasOwnProperty(me))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(me));me=Ie[me]}if(typeof me!="number"&&!t.isBuffer(me)){var fr=me.toArray();!me.sign&&fr[0]&128&&fr.unshift(0),me=new t(fr)}if(t.isBuffer(me)){var Oe=me.length;me.length===0&&Oe++;var qr=new t(Oe);return me.copy(qr),me.length===0&&(qr[0]=0),this._createEncoderBuffer(qr)}if(me<128)return this._createEncoderBuffer(me);if(me<256)return this._createEncoderBuffer([0,me]);for(var Oe=1,wr=me;wr>=256;wr>>=8)Oe++;for(var qr=new Array(Oe),wr=qr.length-1;wr>=0;wr--)qr[wr]=me&255,me>>=8;return qr[0]&128&&qr.unshift(0),this._createEncoderBuffer(new t(qr))},xe.prototype._encodeBool=function(me){return this._createEncoderBuffer(me?255:0)},xe.prototype._use=function(me,Ie){return typeof me=="function"&&(me=me(Ie)),me._getEncoder("der").tree},xe.prototype._skipDefault=function(me,Ie,fr){var Oe=this._baseState,wr;if(Oe.default===null)return!1;var qr=me.join();if(Oe.defaultBuffer===void 0&&(Oe.defaultBuffer=this._encodeValue(Oe.default,Ie,fr).join()),qr.length!==Oe.defaultBuffer.length)return!1;for(wr=0;wr<qr.length;wr++)if(qr[wr]!==Oe.defaultBuffer[wr])return!1;return!0};function Se(Ee,me,Ie,fr){var Oe;if(Ee==="seqof"?Ee="seq":Ee==="setof"&&(Ee="set"),fe.tagByName.hasOwnProperty(Ee))Oe=fe.tagByName[Ee];else if(typeof Ee=="number"&&(Ee|0)===Ee)Oe=Ee;else return fr.error("Unknown tag: "+Ee);return Oe>=31?fr.error("Multi-octet tag encoding unsupported"):(me||(Oe|=32),Oe|=fe.tagClassByName[Ie||"universal"]<<6,Oe)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var Y=inherits_browserExports,t=requireDer();function s(se){t.call(this,se),this.enc="pem"}return Y(s,t),pem=s,s.prototype.encode=function(fe,be){for(var xe=t.prototype.encode.call(this,fe),we=xe.toString("base64"),Se=["-----BEGIN "+be.label+"-----"],Ee=0;Ee<we.length;Ee+=64)Se.push(we.slice(Ee,Ee+64));return Se.push("-----END "+be.label+"-----"),Se.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(Y){var t=Y;t.der=requireDer(),t.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(Y){var t=Y;t.bignum=requireBn(),t.define=requireApi().define,t.base=requireBase(),t.constants=requireConstants$2(),t.decoders=requireDecoders(),t.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var Y=requireAsn1$1(),t=Y.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=Y.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),se=Y.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),fe=Y.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(se),this.key("subjectPublicKey").bitstr())}),be=Y.define("RelativeDistinguishedName",function(){this.setof(s)}),xe=Y.define("RDNSequence",function(){this.seqof(be)}),we=Y.define("Name",function(){this.choice({rdnSequence:this.use(xe)})}),Se=Y.define("Validity",function(){this.seq().obj(this.key("notBefore").use(t),this.key("notAfter").use(t))}),Ee=Y.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),me=Y.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(se),this.key("issuer").use(we),this.key("validity").use(Se),this.key("subject").use(we),this.key("subjectPublicKeyInfo").use(fe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Ee).optional())}),Ie=Y.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(me),this.key("signatureAlgorithm").use(se),this.key("signatureValue").bitstr())});return certificate=Ie,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var Y=requireAsn1$1();asn1$1.certificate=requireCertificate();var t=Y.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=t;var s=Y.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=s;var se=Y.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),fe=Y.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(se),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=fe;var be=Y.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(se),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=be;var xe=Y.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=xe;var we=Y.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=we,asn1$1.DSAparam=Y.define("DSAparam",function(){this.int()});var Se=Y.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),Ee=Y.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Se),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=Ee,asn1$1.signature=Y.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var Y=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,se=requireEvp_bytestokey(),fe=requireBrowser$6(),be=safeBufferExports.Buffer;return fixProc=function(xe,we){var Se=xe.toString(),Ee=Se.match(Y),me;if(Ee){var fr="aes"+Ee[1],Oe=be.from(Ee[2],"hex"),wr=be.from(Ee[3].replace(/[\r\n]/g,""),"base64"),qr=se(we,Oe.slice(0,8),parseInt(Ee[1],10)).key,Gr=[],Yr=fe.createDecipheriv(fr,qr,Oe);Gr.push(Yr.update(wr)),Gr.push(Yr.final()),me=be.concat(Gr)}else{var Ie=Se.match(s);me=be.from(Ie[2].replace(/[\r\n]/g,""),"base64")}var Wr=Se.match(t)[1];return{tag:Wr,data:me}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var Y=requireAsn1(),t=require$$1,s=requireFixProc(),se=requireBrowser$6(),fe=requireBrowser$7(),be=safeBufferExports.Buffer;function xe(Se,Ee){var me=Se.algorithm.decrypt.kde.kdeparams.salt,Ie=parseInt(Se.algorithm.decrypt.kde.kdeparams.iters.toString(),10),fr=t[Se.algorithm.decrypt.cipher.algo.join(".")],Oe=Se.algorithm.decrypt.cipher.iv,wr=Se.subjectPrivateKey,qr=parseInt(fr.split("-")[1],10)/8,Gr=fe.pbkdf2Sync(Ee,me,Ie,qr,"sha1"),Yr=se.createDecipheriv(fr,Gr,Oe),Wr=[];return Wr.push(Yr.update(wr)),Wr.push(Yr.final()),be.concat(Wr)}function we(Se){var Ee;typeof Se=="object"&&!be.isBuffer(Se)&&(Ee=Se.passphrase,Se=Se.key),typeof Se=="string"&&(Se=be.from(Se));var me=s(Se,Ee),Ie=me.tag,fr=me.data,Oe,wr;switch(Ie){case"CERTIFICATE":wr=Y.certificate.decode(fr,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(wr||(wr=Y.PublicKey.decode(fr,"der")),Oe=wr.algorithm.algorithm.join("."),Oe){case"1.2.840.113549.1.1.1":return Y.RSAPublicKey.decode(wr.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return wr.subjectPrivateKey=wr.subjectPublicKey,{type:"ec",data:wr};case"1.2.840.10040.4.1":return wr.algorithm.params.pub_key=Y.DSAparam.decode(wr.subjectPublicKey.data,"der"),{type:"dsa",data:wr.algorithm.params};default:throw new Error("unknown key id "+Oe)}case"ENCRYPTED PRIVATE KEY":fr=Y.EncryptedPrivateKey.decode(fr,"der"),fr=xe(fr,Ee);case"PRIVATE KEY":switch(wr=Y.PrivateKey.decode(fr,"der"),Oe=wr.algorithm.algorithm.join("."),Oe){case"1.2.840.113549.1.1.1":return Y.RSAPrivateKey.decode(wr.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:wr.algorithm.curve,privateKey:Y.ECPrivateKey.decode(wr.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return wr.algorithm.params.priv_key=Y.DSAparam.decode(wr.subjectPrivateKey,"der"),{type:"dsa",params:wr.algorithm.params};default:throw new Error("unknown key id "+Oe)}case"RSA PUBLIC KEY":return Y.RSAPublicKey.decode(fr,"der");case"RSA PRIVATE KEY":return Y.RSAPrivateKey.decode(fr,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Y.DSAPrivateKey.decode(fr,"der")};case"EC PRIVATE KEY":return fr=Y.ECPrivateKey.decode(fr,"der"),{curve:fr.parameters.value,privateKey:fr.privateKey};default:throw new Error("unknown key type "+Ie)}}return we.signature=Y.signature,parseAsn1=we,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var Y=safeBufferExports.Buffer,t=requireBrowser$8(),s=requireBrowserifyRsa(),se=requireElliptic().ec,fe=bnExports,be=requireParseAsn1(),xe=require$$4,we=1;function Se(Yr,Wr,ti,Qr,oi){var fi=be(Wr);if(fi.curve){if(Qr!=="ecdsa"&&Qr!=="ecdsa/rsa")throw new Error("wrong private key type");return Ee(Yr,fi)}else if(fi.type==="dsa"){if(Qr!=="dsa")throw new Error("wrong private key type");return me(Yr,fi,ti)}if(Qr!=="rsa"&&Qr!=="ecdsa/rsa")throw new Error("wrong private key type");if(Wr.padding!==void 0&&Wr.padding!==we)throw new Error("illegal or unsupported padding mode");Yr=Y.concat([oi,Yr]);for(var jr=fi.modulus.byteLength(),ci=[0,1];Yr.length+ci.length+1<jr;)ci.push(255);ci.push(0);for(var gi=-1;++gi<Yr.length;)ci.push(Yr[gi]);var $i=s(ci,fi);return $i}function Ee(Yr,Wr){var ti=xe[Wr.curve.join(".")];if(!ti)throw new Error("unknown curve "+Wr.curve.join("."));var Qr=new se(ti),oi=Qr.keyFromPrivate(Wr.privateKey),fi=oi.sign(Yr);return Y.from(fi.toDER())}function me(Yr,Wr,ti){for(var Qr=Wr.params.priv_key,oi=Wr.params.p,fi=Wr.params.q,jr=Wr.params.g,ci=new fe(0),gi,$i=Oe(Yr,fi).mod(fi),hi=!1,Er=fr(Qr,fi,Yr,ti);hi===!1;)gi=qr(fi,Er,ti),ci=Gr(jr,gi,oi,fi),hi=gi.invm(fi).imul($i.add(Qr.mul(ci))).mod(fi),hi.cmpn(0)===0&&(hi=!1,ci=new fe(0));return Ie(ci,hi)}function Ie(Yr,Wr){Yr=Yr.toArray(),Wr=Wr.toArray(),Yr[0]&128&&(Yr=[0].concat(Yr)),Wr[0]&128&&(Wr=[0].concat(Wr));var ti=Yr.length+Wr.length+4,Qr=[48,ti,2,Yr.length];return Qr=Qr.concat(Yr,[2,Wr.length],Wr),Y.from(Qr)}function fr(Yr,Wr,ti,Qr){if(Yr=Y.from(Yr.toArray()),Yr.length<Wr.byteLength()){var oi=Y.alloc(Wr.byteLength()-Yr.length);Yr=Y.concat([oi,Yr])}var fi=ti.length,jr=wr(ti,Wr),ci=Y.alloc(fi);ci.fill(1);var gi=Y.alloc(fi);return gi=t(Qr,gi).update(ci).update(Y.from([0])).update(Yr).update(jr).digest(),ci=t(Qr,gi).update(ci).digest(),gi=t(Qr,gi).update(ci).update(Y.from([1])).update(Yr).update(jr).digest(),ci=t(Qr,gi).update(ci).digest(),{k:gi,v:ci}}function Oe(Yr,Wr){var ti=new fe(Yr),Qr=(Yr.length<<3)-Wr.bitLength();return Qr>0&&ti.ishrn(Qr),ti}function wr(Yr,Wr){Yr=Oe(Yr,Wr),Yr=Yr.mod(Wr);var ti=Y.from(Yr.toArray());if(ti.length<Wr.byteLength()){var Qr=Y.alloc(Wr.byteLength()-ti.length);ti=Y.concat([Qr,ti])}return ti}function qr(Yr,Wr,ti){var Qr,oi;do{for(Qr=Y.alloc(0);Qr.length*8<Yr.bitLength();)Wr.v=t(ti,Wr.k).update(Wr.v).digest(),Qr=Y.concat([Qr,Wr.v]);oi=Oe(Qr,Yr),Wr.k=t(ti,Wr.k).update(Wr.v).update(Y.from([0])).digest(),Wr.v=t(ti,Wr.k).update(Wr.v).digest()}while(oi.cmp(Yr)!==-1);return oi}function Gr(Yr,Wr,ti,Qr){return Yr.toRed(fe.mont(ti)).redPow(Wr).fromRed().mod(Qr)}return sign.exports=Se,sign.exports.getKey=fr,sign.exports.makeKey=qr,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var Y=safeBufferExports.Buffer,t=bnExports,s=requireElliptic().ec,se=requireParseAsn1(),fe=require$$4;function be(Ee,me,Ie,fr,Oe){var wr=se(Ie);if(wr.type==="ec"){if(fr!=="ecdsa"&&fr!=="ecdsa/rsa")throw new Error("wrong public key type");return xe(Ee,me,wr)}else if(wr.type==="dsa"){if(fr!=="dsa")throw new Error("wrong public key type");return we(Ee,me,wr)}if(fr!=="rsa"&&fr!=="ecdsa/rsa")throw new Error("wrong public key type");me=Y.concat([Oe,me]);for(var qr=wr.modulus.byteLength(),Gr=[1],Yr=0;me.length+Gr.length+2<qr;)Gr.push(255),Yr+=1;Gr.push(0);for(var Wr=-1;++Wr<me.length;)Gr.push(me[Wr]);Gr=Y.from(Gr);var ti=t.mont(wr.modulus);Ee=new t(Ee).toRed(ti),Ee=Ee.redPow(new t(wr.publicExponent)),Ee=Y.from(Ee.fromRed().toArray());var Qr=Yr<8?1:0;for(qr=Math.min(Ee.length,Gr.length),Ee.length!==Gr.length&&(Qr=1),Wr=-1;++Wr<qr;)Qr|=Ee[Wr]^Gr[Wr];return Qr===0}function xe(Ee,me,Ie){var fr=fe[Ie.data.algorithm.curve.join(".")];if(!fr)throw new Error("unknown curve "+Ie.data.algorithm.curve.join("."));var Oe=new s(fr),wr=Ie.data.subjectPrivateKey.data;return Oe.verify(me,Ee,wr)}function we(Ee,me,Ie){var fr=Ie.data.p,Oe=Ie.data.q,wr=Ie.data.g,qr=Ie.data.pub_key,Gr=se.signature.decode(Ee,"der"),Yr=Gr.s,Wr=Gr.r;Se(Yr,Oe),Se(Wr,Oe);var ti=t.mont(fr),Qr=Yr.invm(Oe),oi=wr.toRed(ti).redPow(new t(me).mul(Qr).mod(Oe)).fromRed().mul(qr.toRed(ti).redPow(Wr.mul(Qr).mod(Oe)).fromRed()).mod(fr).mod(Oe);return oi.cmp(Wr)===0}function Se(Ee,me){if(Ee.cmpn(0)<=0)throw new Error("invalid sig");if(Ee.cmp(me)>=0)throw new Error("invalid sig")}return verify_1=be,verify_1}var browser$5,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$5;hasRequiredBrowser$3=1;var Y=safeBufferExports.Buffer,t=requireBrowser$9(),s=requireReadableBrowser(),se=inherits_browserExports,fe=requireSign(),be=requireVerify(),xe=require$$6;Object.keys(xe).forEach(function(Ie){xe[Ie].id=Y.from(xe[Ie].id,"hex"),xe[Ie.toLowerCase()]=xe[Ie]});function we(Ie){s.Writable.call(this);var fr=xe[Ie];if(!fr)throw new Error("Unknown message digest");this._hashType=fr.hash,this._hash=t(fr.hash),this._tag=fr.id,this._signType=fr.sign}se(we,s.Writable),we.prototype._write=function(fr,Oe,wr){this._hash.update(fr),wr()},we.prototype.update=function(fr,Oe){return this._hash.update(typeof fr=="string"?Y.from(fr,Oe):fr),this},we.prototype.sign=function(fr,Oe){this.end();var wr=this._hash.digest(),qr=fe(wr,fr,this._hashType,this._signType,this._tag);return Oe?qr.toString(Oe):qr};function Se(Ie){s.Writable.call(this);var fr=xe[Ie];if(!fr)throw new Error("Unknown message digest");this._hash=t(fr.hash),this._tag=fr.id,this._signType=fr.sign}se(Se,s.Writable),Se.prototype._write=function(fr,Oe,wr){this._hash.update(fr),wr()},Se.prototype.update=function(fr,Oe){return this._hash.update(typeof fr=="string"?Y.from(fr,Oe):fr),this},Se.prototype.verify=function(fr,Oe,wr){var qr=typeof Oe=="string"?Y.from(Oe,wr):Oe;this.end();var Gr=this._hash.digest();return be(qr,Gr,fr,this._signType,this._tag)};function Ee(Ie){return new we(Ie)}function me(Ie){return new Se(Ie)}return browser$5={Sign:Ee,Verify:me,createSign:Ee,createVerify:me},browser$5}var browser$4,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$4;hasRequiredBrowser$2=1;var Y=requireElliptic(),t=requireBn();browser$4=function(xe){return new se(xe)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1;function se(be){this.curveType=s[be],this.curveType||(this.curveType={name:be}),this.curve=new Y.ec(this.curveType.name),this.keys=void 0}se.prototype.generateKeys=function(be,xe){return this.keys=this.curve.genKeyPair(),this.getPublicKey(be,xe)},se.prototype.computeSecret=function(be,xe,we){xe=xe||"utf8",Buffer.isBuffer(be)||(be=new Buffer(be,xe));var Se=this.curve.keyFromPublic(be).getPublic(),Ee=Se.mul(this.keys.getPrivate()).getX();return fe(Ee,we,this.curveType.byteLength)},se.prototype.getPublicKey=function(be,xe){var we=this.keys.getPublic(xe==="compressed",!0);return xe==="hybrid"&&(we[we.length-1]%2?we[0]=7:we[0]=6),fe(we,be)},se.prototype.getPrivateKey=function(be){return fe(this.keys.getPrivate(),be)},se.prototype.setPublicKey=function(be,xe){return xe=xe||"utf8",Buffer.isBuffer(be)||(be=new Buffer(be,xe)),this.keys._importPublic(be),this},se.prototype.setPrivateKey=function(be,xe){xe=xe||"utf8",Buffer.isBuffer(be)||(be=new Buffer(be,xe));var we=new t(be);return we=we.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(we),this};function fe(be,xe,we){Array.isArray(be)||(be=be.toArray());var Se=new Buffer(be);if(we&&Se.length<we){var Ee=new Buffer(we-Se.length);Ee.fill(0),Se=Buffer.concat([Ee,Se])}return xe?Se.toString(xe):Se}return browser$4}var browser$3={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var Y=requireBrowser$9(),t=safeBufferExports.Buffer;mgf=function(se,fe){for(var be=t.alloc(0),xe=0,we;be.length<fe;)we=s(xe++),be=t.concat([be,Y("sha1").update(se).update(we).digest()]);return be.slice(0,fe)};function s(se){var fe=t.allocUnsafe(4);return fe.writeUInt32BE(se,0),fe}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(t,s){for(var se=t.length,fe=-1;++fe<se;)t[fe]^=s[fe];return t}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var Y=requireBn(),t=safeBufferExports.Buffer;function s(se,fe){return t.from(se.toRed(Y.mont(fe.modulus)).redPow(new Y(fe.publicExponent)).fromRed().toArray())}return withPublic_1=s,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var Y=requireParseAsn1(),t=requireBrowser$a(),s=requireBrowser$9(),se=requireMgf(),fe=requireXor(),be=requireBn(),xe=requireWithPublic(),we=requireBrowserifyRsa(),Se=safeBufferExports.Buffer;publicEncrypt=function(Oe,wr,qr){var Gr;Oe.padding?Gr=Oe.padding:qr?Gr=1:Gr=4;var Yr=Y(Oe),Wr;if(Gr===4)Wr=Ee(Yr,wr);else if(Gr===1)Wr=me(Yr,wr,qr);else if(Gr===3){if(Wr=new be(wr),Wr.cmp(Yr.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return qr?we(Wr,Yr):xe(Wr,Yr)};function Ee(fr,Oe){var wr=fr.modulus.byteLength(),qr=Oe.length,Gr=s("sha1").update(Se.alloc(0)).digest(),Yr=Gr.length,Wr=2*Yr;if(qr>wr-Wr-2)throw new Error("message too long");var ti=Se.alloc(wr-qr-Wr-2),Qr=wr-Yr-1,oi=t(Yr),fi=fe(Se.concat([Gr,ti,Se.alloc(1,1),Oe],Qr),se(oi,Qr)),jr=fe(oi,se(fi,Yr));return new be(Se.concat([Se.alloc(1),jr,fi],wr))}function me(fr,Oe,wr){var qr=Oe.length,Gr=fr.modulus.byteLength();if(qr>Gr-11)throw new Error("message too long");var Yr;return wr?Yr=Se.alloc(Gr-qr-3,255):Yr=Ie(Gr-qr-3),new be(Se.concat([Se.from([0,wr?1:2]),Yr,Se.alloc(1),Oe],Gr))}function Ie(fr){for(var Oe=Se.allocUnsafe(fr),wr=0,qr=t(fr*2),Gr=0,Yr;wr<fr;)Gr===qr.length&&(qr=t(fr*2),Gr=0),Yr=qr[Gr++],Yr&&(Oe[wr++]=Yr);return Oe}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var Y=requireParseAsn1(),t=requireMgf(),s=requireXor(),se=requireBn(),fe=requireBrowserifyRsa(),be=requireBrowser$9(),xe=requireWithPublic(),we=safeBufferExports.Buffer;privateDecrypt=function(fr,Oe,wr){var qr;fr.padding?qr=fr.padding:wr?qr=1:qr=4;var Gr=Y(fr),Yr=Gr.modulus.byteLength();if(Oe.length>Yr||new se(Oe).cmp(Gr.modulus)>=0)throw new Error("decryption error");var Wr;wr?Wr=xe(new se(Oe),Gr):Wr=fe(Oe,Gr);var ti=we.alloc(Yr-Wr.length);if(Wr=we.concat([ti,Wr],Yr),qr===4)return Se(Gr,Wr);if(qr===1)return Ee(Gr,Wr,wr);if(qr===3)return Wr;throw new Error("unknown padding")};function Se(Ie,fr){var Oe=Ie.modulus.byteLength(),wr=be("sha1").update(we.alloc(0)).digest(),qr=wr.length;if(fr[0]!==0)throw new Error("decryption error");var Gr=fr.slice(1,qr+1),Yr=fr.slice(qr+1),Wr=s(Gr,t(Yr,qr)),ti=s(Yr,t(Wr,Oe-qr-1));if(me(wr,ti.slice(0,qr)))throw new Error("decryption error");for(var Qr=qr;ti[Qr]===0;)Qr++;if(ti[Qr++]!==1)throw new Error("decryption error");return ti.slice(Qr)}function Ee(Ie,fr,Oe){for(var wr=fr.slice(0,2),qr=2,Gr=0;fr[qr++]!==0;)if(qr>=fr.length){Gr++;break}var Yr=fr.slice(2,qr-1);if((wr.toString("hex")!=="0002"&&!Oe||wr.toString("hex")!=="0001"&&Oe)&&Gr++,Yr.length<8&&Gr++,Gr)throw new Error("decryption error");return fr.slice(qr)}function me(Ie,fr){Ie=we.from(Ie),fr=we.from(fr);var Oe=0,wr=Ie.length;Ie.length!==fr.length&&(Oe++,wr=Math.min(Ie.length,fr.length));for(var qr=-1;++qr<wr;)Oe+=Ie[qr]^fr[qr];return Oe}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(Y){Y.publicEncrypt=requirePublicEncrypt(),Y.privateDecrypt=requirePrivateDecrypt(),Y.privateEncrypt=function(s,se){return Y.publicEncrypt(s,se,!0)},Y.publicDecrypt=function(s,se){return Y.privateDecrypt(s,se,!0)}}(browser$3)),browser$3}var browser$2={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;function Y(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var t=safeBufferExports,s=requireBrowser$a(),se=t.Buffer,fe=t.kMaxLength,be=commonjsGlobal.crypto||commonjsGlobal.msCrypto,xe=Math.pow(2,32)-1;function we(fr,Oe){if(typeof fr!="number"||fr!==fr)throw new TypeError("offset must be a number");if(fr>xe||fr<0)throw new TypeError("offset must be a uint32");if(fr>fe||fr>Oe)throw new RangeError("offset out of range")}function Se(fr,Oe,wr){if(typeof fr!="number"||fr!==fr)throw new TypeError("size must be a number");if(fr>xe||fr<0)throw new TypeError("size must be a uint32");if(fr+Oe>wr||fr>fe)throw new RangeError("buffer too small")}be&&be.getRandomValues||!process$1.browser?(browser$2.randomFill=Ee,browser$2.randomFillSync=Ie):(browser$2.randomFill=Y,browser$2.randomFillSync=Y);function Ee(fr,Oe,wr,qr){if(!se.isBuffer(fr)&&!(fr instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof Oe=="function")qr=Oe,Oe=0,wr=fr.length;else if(typeof wr=="function")qr=wr,wr=fr.length-Oe;else if(typeof qr!="function")throw new TypeError('"cb" argument must be a function');return we(Oe,fr.length),Se(wr,Oe,fr.length),me(fr,Oe,wr,qr)}function me(fr,Oe,wr,qr){if(process$1.browser){var Gr=fr.buffer,Yr=new Uint8Array(Gr,Oe,wr);if(be.getRandomValues(Yr),qr){process$1.nextTick(function(){qr(null,fr)});return}return fr}if(qr){s(wr,function(ti,Qr){if(ti)return qr(ti);Qr.copy(fr,Oe),qr(null,fr)});return}var Wr=s(wr);return Wr.copy(fr,Oe),fr}function Ie(fr,Oe,wr){if(typeof Oe>"u"&&(Oe=0),!se.isBuffer(fr)&&!(fr instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return we(Oe,fr.length),wr===void 0&&(wr=fr.length-Oe),Se(wr,Oe,fr.length),me(fr,Oe,wr)}return browser$2}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$a(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var Y=requireAlgos(),t=Object.keys(Y),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);cryptoBrowserify.getHashes=function(){return s};var se=requireBrowser$7();cryptoBrowserify.pbkdf2=se.pbkdf2,cryptoBrowserify.pbkdf2Sync=se.pbkdf2Sync;var fe=requireBrowser$5();cryptoBrowserify.Cipher=fe.Cipher,cryptoBrowserify.createCipher=fe.createCipher,cryptoBrowserify.Cipheriv=fe.Cipheriv,cryptoBrowserify.createCipheriv=fe.createCipheriv,cryptoBrowserify.Decipher=fe.Decipher,cryptoBrowserify.createDecipher=fe.createDecipher,cryptoBrowserify.Decipheriv=fe.Decipheriv,cryptoBrowserify.createDecipheriv=fe.createDecipheriv,cryptoBrowserify.getCiphers=fe.getCiphers,cryptoBrowserify.listCiphers=fe.listCiphers;var be=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=be.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=be.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=be.getDiffieHellman,cryptoBrowserify.createDiffieHellman=be.createDiffieHellman,cryptoBrowserify.DiffieHellman=be.DiffieHellman;var xe=requireBrowser$3();cryptoBrowserify.createSign=xe.createSign,cryptoBrowserify.Sign=xe.Sign,cryptoBrowserify.createVerify=xe.createVerify,cryptoBrowserify.Verify=xe.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var we=requireBrowser$1();cryptoBrowserify.publicEncrypt=we.publicEncrypt,cryptoBrowserify.privateEncrypt=we.privateEncrypt,cryptoBrowserify.publicDecrypt=we.publicDecrypt,cryptoBrowserify.privateDecrypt=we.privateDecrypt;var Se=requireBrowser();return cryptoBrowserify.randomFill=Se.randomFill,cryptoBrowserify.randomFillSync=Se.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}Object.defineProperty(node$1,"__esModule",{value:!0});node$1.NodeRandomSource=void 0;const wipe_1=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const t=requireCryptoBrowserify();t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let s=this._crypto.randomBytes(t);if(s.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const se=new Uint8Array(t);for(let fe=0;fe<se.length;fe++)se[fe]=s[fe];return(0,wipe_1.wipe)(s),se}}node$1.NodeRandomSource=NodeRandomSource;Object.defineProperty(system,"__esModule",{value:!0});system.SystemRandomSource=void 0;const browser_1=browser$d,node_1=node$1;class SystemRandomSource{constructor(){if(this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new node_1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}system.SystemRandomSource=SystemRandomSource;(function(Y){Object.defineProperty(Y,"__esModule",{value:!0}),Y.randomStringForEntropy=Y.randomString=Y.randomUint32=Y.randomBytes=Y.defaultRandomSource=void 0;const t=system,s=binary,se=wipe$1;Y.defaultRandomSource=new t.SystemRandomSource;function fe(Ee,me=Y.defaultRandomSource){return me.randomBytes(Ee)}Y.randomBytes=fe;function be(Ee=Y.defaultRandomSource){const me=fe(4,Ee),Ie=(0,s.readUint32LE)(me);return(0,se.wipe)(me),Ie}Y.randomUint32=be;const xe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function we(Ee,me=xe,Ie=Y.defaultRandomSource){if(me.length<2)throw new Error("randomString charset is too short");if(me.length>256)throw new Error("randomString charset is too long");let fr="";const Oe=me.length,wr=256-256%Oe;for(;Ee>0;){const qr=fe(Math.ceil(Ee*256/wr),Ie);for(let Gr=0;Gr<qr.length&&Ee>0;Gr++){const Yr=qr[Gr];Yr<wr&&(fr+=me.charAt(Yr%Oe),Ee--)}(0,se.wipe)(qr)}return fr}Y.randomString=we;function Se(Ee,me=xe,Ie=Y.defaultRandomSource){const fr=Math.ceil(Ee/(Math.log(me.length)/Math.LN2));return we(fr,me,Ie)}Y.randomStringForEntropy=Se})(random);var sha256={};(function(Y){Object.defineProperty(Y,"__esModule",{value:!0});var t=binary,s=wipe$1;Y.DIGEST_LENGTH=32,Y.BLOCK_SIZE=64;var se=function(){function we(){this.digestLength=Y.DIGEST_LENGTH,this.blockSize=Y.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return we.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},we.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},we.prototype.clean=function(){s.wipe(this._buffer),s.wipe(this._temp),this.reset()},we.prototype.update=function(Se,Ee){if(Ee===void 0&&(Ee=Se.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var me=0;if(this._bytesHashed+=Ee,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&Ee>0;)this._buffer[this._bufferLength++]=Se[me++],Ee--;this._bufferLength===this.blockSize&&(be(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(Ee>=this.blockSize&&(me=be(this._temp,this._state,Se,me,Ee),Ee%=this.blockSize);Ee>0;)this._buffer[this._bufferLength++]=Se[me++],Ee--;return this},we.prototype.finish=function(Se){if(!this._finished){var Ee=this._bytesHashed,me=this._bufferLength,Ie=Ee/536870912|0,fr=Ee<<3,Oe=Ee%64<56?64:128;this._buffer[me]=128;for(var wr=me+1;wr<Oe-8;wr++)this._buffer[wr]=0;t.writeUint32BE(Ie,this._buffer,Oe-8),t.writeUint32BE(fr,this._buffer,Oe-4),be(this._temp,this._state,this._buffer,0,Oe),this._finished=!0}for(var wr=0;wr<this.digestLength/4;wr++)t.writeUint32BE(this._state[wr],Se,wr*4);return this},we.prototype.digest=function(){var Se=new Uint8Array(this.digestLength);return this.finish(Se),Se},we.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},we.prototype.restoreState=function(Se){return this._state.set(Se.state),this._bufferLength=Se.bufferLength,Se.buffer&&this._buffer.set(Se.buffer),this._bytesHashed=Se.bytesHashed,this._finished=!1,this},we.prototype.cleanSavedState=function(Se){s.wipe(Se.state),Se.buffer&&s.wipe(Se.buffer),Se.bufferLength=0,Se.bytesHashed=0},we}();Y.SHA256=se;var fe=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function be(we,Se,Ee,me,Ie){for(;Ie>=64;){for(var fr=Se[0],Oe=Se[1],wr=Se[2],qr=Se[3],Gr=Se[4],Yr=Se[5],Wr=Se[6],ti=Se[7],Qr=0;Qr<16;Qr++){var oi=me+Qr*4;we[Qr]=t.readUint32BE(Ee,oi)}for(var Qr=16;Qr<64;Qr++){var fi=we[Qr-2],jr=(fi>>>17|fi<<15)^(fi>>>19|fi<<13)^fi>>>10;fi=we[Qr-15];var ci=(fi>>>7|fi<<25)^(fi>>>18|fi<<14)^fi>>>3;we[Qr]=(jr+we[Qr-7]|0)+(ci+we[Qr-16]|0)}for(var Qr=0;Qr<64;Qr++){var jr=(((Gr>>>6|Gr<<26)^(Gr>>>11|Gr<<21)^(Gr>>>25|Gr<<7))+(Gr&Yr^~Gr&Wr)|0)+(ti+(fe[Qr]+we[Qr]|0)|0)|0,ci=((fr>>>2|fr<<30)^(fr>>>13|fr<<19)^(fr>>>22|fr<<10))+(fr&Oe^fr&wr^Oe&wr)|0;ti=Wr,Wr=Yr,Yr=Gr,Gr=qr+jr|0,qr=wr,wr=Oe,Oe=fr,fr=jr+ci|0}Se[0]+=fr,Se[1]+=Oe,Se[2]+=wr,Se[3]+=qr,Se[4]+=Gr,Se[5]+=Yr,Se[6]+=Wr,Se[7]+=ti,me+=64,Ie-=64}return me}function xe(we){var Se=new se;Se.update(we);var Ee=Se.digest();return Se.clean(),Ee}Y.hash=xe})(sha256);var x25519={};(function(Y){Object.defineProperty(Y,"__esModule",{value:!0}),Y.sharedKey=Y.generateKeyPair=Y.generateKeyPairFromSeed=Y.scalarMultBase=Y.scalarMult=Y.SHARED_KEY_LENGTH=Y.SECRET_KEY_LENGTH=Y.PUBLIC_KEY_LENGTH=void 0;const t=random,s=wipe$1;Y.PUBLIC_KEY_LENGTH=32,Y.SECRET_KEY_LENGTH=32,Y.SHARED_KEY_LENGTH=32;function se(Qr){const oi=new Float64Array(16);if(Qr)for(let fi=0;fi<Qr.length;fi++)oi[fi]=Qr[fi];return oi}const fe=new Uint8Array(32);fe[0]=9;const be=se([56129,1]);function xe(Qr){let oi=1;for(let fi=0;fi<16;fi++){let jr=Qr[fi]+oi+65535;oi=Math.floor(jr/65536),Qr[fi]=jr-oi*65536}Qr[0]+=oi-1+37*(oi-1)}function we(Qr,oi,fi){const jr=~(fi-1);for(let ci=0;ci<16;ci++){const gi=jr&(Qr[ci]^oi[ci]);Qr[ci]^=gi,oi[ci]^=gi}}function Se(Qr,oi){const fi=se(),jr=se();for(let ci=0;ci<16;ci++)jr[ci]=oi[ci];xe(jr),xe(jr),xe(jr);for(let ci=0;ci<2;ci++){fi[0]=jr[0]-65517;for(let $i=1;$i<15;$i++)fi[$i]=jr[$i]-65535-(fi[$i-1]>>16&1),fi[$i-1]&=65535;fi[15]=jr[15]-32767-(fi[14]>>16&1);const gi=fi[15]>>16&1;fi[14]&=65535,we(jr,fi,1-gi)}for(let ci=0;ci<16;ci++)Qr[2*ci]=jr[ci]&255,Qr[2*ci+1]=jr[ci]>>8}function Ee(Qr,oi){for(let fi=0;fi<16;fi++)Qr[fi]=oi[2*fi]+(oi[2*fi+1]<<8);Qr[15]&=32767}function me(Qr,oi,fi){for(let jr=0;jr<16;jr++)Qr[jr]=oi[jr]+fi[jr]}function Ie(Qr,oi,fi){for(let jr=0;jr<16;jr++)Qr[jr]=oi[jr]-fi[jr]}function fr(Qr,oi,fi){let jr,ci,gi=0,$i=0,hi=0,Er=0,kr=0,Vr=0,Jr=0,ii=0,Xr=0,ei=0,Zr=0,Br=0,si=0,Si=0,Ei=0,qi=0,Ii=0,Ni=0,ri=0,ai=0,li=0,Hr=0,vi=0,xi=0,Di=0,Rn=0,Ki=0,wn=0,Nn=0,Tn=0,jn=0,Yn=fi[0],ji=fi[1],Vi=fi[2],On=fi[3],ki=fi[4],Ti=fi[5],ta=fi[6],zi=fi[7],$n=fi[8],ha=fi[9],En=fi[10],An=fi[11],wa=fi[12],Pn=fi[13],Cn=fi[14],Da=fi[15];jr=oi[0],gi+=jr*Yn,$i+=jr*ji,hi+=jr*Vi,Er+=jr*On,kr+=jr*ki,Vr+=jr*Ti,Jr+=jr*ta,ii+=jr*zi,Xr+=jr*$n,ei+=jr*ha,Zr+=jr*En,Br+=jr*An,si+=jr*wa,Si+=jr*Pn,Ei+=jr*Cn,qi+=jr*Da,jr=oi[1],$i+=jr*Yn,hi+=jr*ji,Er+=jr*Vi,kr+=jr*On,Vr+=jr*ki,Jr+=jr*Ti,ii+=jr*ta,Xr+=jr*zi,ei+=jr*$n,Zr+=jr*ha,Br+=jr*En,si+=jr*An,Si+=jr*wa,Ei+=jr*Pn,qi+=jr*Cn,Ii+=jr*Da,jr=oi[2],hi+=jr*Yn,Er+=jr*ji,kr+=jr*Vi,Vr+=jr*On,Jr+=jr*ki,ii+=jr*Ti,Xr+=jr*ta,ei+=jr*zi,Zr+=jr*$n,Br+=jr*ha,si+=jr*En,Si+=jr*An,Ei+=jr*wa,qi+=jr*Pn,Ii+=jr*Cn,Ni+=jr*Da,jr=oi[3],Er+=jr*Yn,kr+=jr*ji,Vr+=jr*Vi,Jr+=jr*On,ii+=jr*ki,Xr+=jr*Ti,ei+=jr*ta,Zr+=jr*zi,Br+=jr*$n,si+=jr*ha,Si+=jr*En,Ei+=jr*An,qi+=jr*wa,Ii+=jr*Pn,Ni+=jr*Cn,ri+=jr*Da,jr=oi[4],kr+=jr*Yn,Vr+=jr*ji,Jr+=jr*Vi,ii+=jr*On,Xr+=jr*ki,ei+=jr*Ti,Zr+=jr*ta,Br+=jr*zi,si+=jr*$n,Si+=jr*ha,Ei+=jr*En,qi+=jr*An,Ii+=jr*wa,Ni+=jr*Pn,ri+=jr*Cn,ai+=jr*Da,jr=oi[5],Vr+=jr*Yn,Jr+=jr*ji,ii+=jr*Vi,Xr+=jr*On,ei+=jr*ki,Zr+=jr*Ti,Br+=jr*ta,si+=jr*zi,Si+=jr*$n,Ei+=jr*ha,qi+=jr*En,Ii+=jr*An,Ni+=jr*wa,ri+=jr*Pn,ai+=jr*Cn,li+=jr*Da,jr=oi[6],Jr+=jr*Yn,ii+=jr*ji,Xr+=jr*Vi,ei+=jr*On,Zr+=jr*ki,Br+=jr*Ti,si+=jr*ta,Si+=jr*zi,Ei+=jr*$n,qi+=jr*ha,Ii+=jr*En,Ni+=jr*An,ri+=jr*wa,ai+=jr*Pn,li+=jr*Cn,Hr+=jr*Da,jr=oi[7],ii+=jr*Yn,Xr+=jr*ji,ei+=jr*Vi,Zr+=jr*On,Br+=jr*ki,si+=jr*Ti,Si+=jr*ta,Ei+=jr*zi,qi+=jr*$n,Ii+=jr*ha,Ni+=jr*En,ri+=jr*An,ai+=jr*wa,li+=jr*Pn,Hr+=jr*Cn,vi+=jr*Da,jr=oi[8],Xr+=jr*Yn,ei+=jr*ji,Zr+=jr*Vi,Br+=jr*On,si+=jr*ki,Si+=jr*Ti,Ei+=jr*ta,qi+=jr*zi,Ii+=jr*$n,Ni+=jr*ha,ri+=jr*En,ai+=jr*An,li+=jr*wa,Hr+=jr*Pn,vi+=jr*Cn,xi+=jr*Da,jr=oi[9],ei+=jr*Yn,Zr+=jr*ji,Br+=jr*Vi,si+=jr*On,Si+=jr*ki,Ei+=jr*Ti,qi+=jr*ta,Ii+=jr*zi,Ni+=jr*$n,ri+=jr*ha,ai+=jr*En,li+=jr*An,Hr+=jr*wa,vi+=jr*Pn,xi+=jr*Cn,Di+=jr*Da,jr=oi[10],Zr+=jr*Yn,Br+=jr*ji,si+=jr*Vi,Si+=jr*On,Ei+=jr*ki,qi+=jr*Ti,Ii+=jr*ta,Ni+=jr*zi,ri+=jr*$n,ai+=jr*ha,li+=jr*En,Hr+=jr*An,vi+=jr*wa,xi+=jr*Pn,Di+=jr*Cn,Rn+=jr*Da,jr=oi[11],Br+=jr*Yn,si+=jr*ji,Si+=jr*Vi,Ei+=jr*On,qi+=jr*ki,Ii+=jr*Ti,Ni+=jr*ta,ri+=jr*zi,ai+=jr*$n,li+=jr*ha,Hr+=jr*En,vi+=jr*An,xi+=jr*wa,Di+=jr*Pn,Rn+=jr*Cn,Ki+=jr*Da,jr=oi[12],si+=jr*Yn,Si+=jr*ji,Ei+=jr*Vi,qi+=jr*On,Ii+=jr*ki,Ni+=jr*Ti,ri+=jr*ta,ai+=jr*zi,li+=jr*$n,Hr+=jr*ha,vi+=jr*En,xi+=jr*An,Di+=jr*wa,Rn+=jr*Pn,Ki+=jr*Cn,wn+=jr*Da,jr=oi[13],Si+=jr*Yn,Ei+=jr*ji,qi+=jr*Vi,Ii+=jr*On,Ni+=jr*ki,ri+=jr*Ti,ai+=jr*ta,li+=jr*zi,Hr+=jr*$n,vi+=jr*ha,xi+=jr*En,Di+=jr*An,Rn+=jr*wa,Ki+=jr*Pn,wn+=jr*Cn,Nn+=jr*Da,jr=oi[14],Ei+=jr*Yn,qi+=jr*ji,Ii+=jr*Vi,Ni+=jr*On,ri+=jr*ki,ai+=jr*Ti,li+=jr*ta,Hr+=jr*zi,vi+=jr*$n,xi+=jr*ha,Di+=jr*En,Rn+=jr*An,Ki+=jr*wa,wn+=jr*Pn,Nn+=jr*Cn,Tn+=jr*Da,jr=oi[15],qi+=jr*Yn,Ii+=jr*ji,Ni+=jr*Vi,ri+=jr*On,ai+=jr*ki,li+=jr*Ti,Hr+=jr*ta,vi+=jr*zi,xi+=jr*$n,Di+=jr*ha,Rn+=jr*En,Ki+=jr*An,wn+=jr*wa,Nn+=jr*Pn,Tn+=jr*Cn,jn+=jr*Da,gi+=38*Ii,$i+=38*Ni,hi+=38*ri,Er+=38*ai,kr+=38*li,Vr+=38*Hr,Jr+=38*vi,ii+=38*xi,Xr+=38*Di,ei+=38*Rn,Zr+=38*Ki,Br+=38*wn,si+=38*Nn,Si+=38*Tn,Ei+=38*jn,ci=1,jr=gi+ci+65535,ci=Math.floor(jr/65536),gi=jr-ci*65536,jr=$i+ci+65535,ci=Math.floor(jr/65536),$i=jr-ci*65536,jr=hi+ci+65535,ci=Math.floor(jr/65536),hi=jr-ci*65536,jr=Er+ci+65535,ci=Math.floor(jr/65536),Er=jr-ci*65536,jr=kr+ci+65535,ci=Math.floor(jr/65536),kr=jr-ci*65536,jr=Vr+ci+65535,ci=Math.floor(jr/65536),Vr=jr-ci*65536,jr=Jr+ci+65535,ci=Math.floor(jr/65536),Jr=jr-ci*65536,jr=ii+ci+65535,ci=Math.floor(jr/65536),ii=jr-ci*65536,jr=Xr+ci+65535,ci=Math.floor(jr/65536),Xr=jr-ci*65536,jr=ei+ci+65535,ci=Math.floor(jr/65536),ei=jr-ci*65536,jr=Zr+ci+65535,ci=Math.floor(jr/65536),Zr=jr-ci*65536,jr=Br+ci+65535,ci=Math.floor(jr/65536),Br=jr-ci*65536,jr=si+ci+65535,ci=Math.floor(jr/65536),si=jr-ci*65536,jr=Si+ci+65535,ci=Math.floor(jr/65536),Si=jr-ci*65536,jr=Ei+ci+65535,ci=Math.floor(jr/65536),Ei=jr-ci*65536,jr=qi+ci+65535,ci=Math.floor(jr/65536),qi=jr-ci*65536,gi+=ci-1+37*(ci-1),ci=1,jr=gi+ci+65535,ci=Math.floor(jr/65536),gi=jr-ci*65536,jr=$i+ci+65535,ci=Math.floor(jr/65536),$i=jr-ci*65536,jr=hi+ci+65535,ci=Math.floor(jr/65536),hi=jr-ci*65536,jr=Er+ci+65535,ci=Math.floor(jr/65536),Er=jr-ci*65536,jr=kr+ci+65535,ci=Math.floor(jr/65536),kr=jr-ci*65536,jr=Vr+ci+65535,ci=Math.floor(jr/65536),Vr=jr-ci*65536,jr=Jr+ci+65535,ci=Math.floor(jr/65536),Jr=jr-ci*65536,jr=ii+ci+65535,ci=Math.floor(jr/65536),ii=jr-ci*65536,jr=Xr+ci+65535,ci=Math.floor(jr/65536),Xr=jr-ci*65536,jr=ei+ci+65535,ci=Math.floor(jr/65536),ei=jr-ci*65536,jr=Zr+ci+65535,ci=Math.floor(jr/65536),Zr=jr-ci*65536,jr=Br+ci+65535,ci=Math.floor(jr/65536),Br=jr-ci*65536,jr=si+ci+65535,ci=Math.floor(jr/65536),si=jr-ci*65536,jr=Si+ci+65535,ci=Math.floor(jr/65536),Si=jr-ci*65536,jr=Ei+ci+65535,ci=Math.floor(jr/65536),Ei=jr-ci*65536,jr=qi+ci+65535,ci=Math.floor(jr/65536),qi=jr-ci*65536,gi+=ci-1+37*(ci-1),Qr[0]=gi,Qr[1]=$i,Qr[2]=hi,Qr[3]=Er,Qr[4]=kr,Qr[5]=Vr,Qr[6]=Jr,Qr[7]=ii,Qr[8]=Xr,Qr[9]=ei,Qr[10]=Zr,Qr[11]=Br,Qr[12]=si,Qr[13]=Si,Qr[14]=Ei,Qr[15]=qi}function Oe(Qr,oi){fr(Qr,oi,oi)}function wr(Qr,oi){const fi=se();for(let jr=0;jr<16;jr++)fi[jr]=oi[jr];for(let jr=253;jr>=0;jr--)Oe(fi,fi),jr!==2&&jr!==4&&fr(fi,fi,oi);for(let jr=0;jr<16;jr++)Qr[jr]=fi[jr]}function qr(Qr,oi){const fi=new Uint8Array(32),jr=new Float64Array(80),ci=se(),gi=se(),$i=se(),hi=se(),Er=se(),kr=se();for(let Xr=0;Xr<31;Xr++)fi[Xr]=Qr[Xr];fi[31]=Qr[31]&127|64,fi[0]&=248,Ee(jr,oi);for(let Xr=0;Xr<16;Xr++)gi[Xr]=jr[Xr];ci[0]=hi[0]=1;for(let Xr=254;Xr>=0;--Xr){const ei=fi[Xr>>>3]>>>(Xr&7)&1;we(ci,gi,ei),we($i,hi,ei),me(Er,ci,$i),Ie(ci,ci,$i),me($i,gi,hi),Ie(gi,gi,hi),Oe(hi,Er),Oe(kr,ci),fr(ci,$i,ci),fr($i,gi,Er),me(Er,ci,$i),Ie(ci,ci,$i),Oe(gi,ci),Ie($i,hi,kr),fr(ci,$i,be),me(ci,ci,hi),fr($i,$i,ci),fr(ci,hi,kr),fr(hi,gi,jr),Oe(gi,Er),we(ci,gi,ei),we($i,hi,ei)}for(let Xr=0;Xr<16;Xr++)jr[Xr+16]=ci[Xr],jr[Xr+32]=$i[Xr],jr[Xr+48]=gi[Xr],jr[Xr+64]=hi[Xr];const Vr=jr.subarray(32),Jr=jr.subarray(16);wr(Vr,Vr),fr(Jr,Jr,Vr);const ii=new Uint8Array(32);return Se(ii,Jr),ii}Y.scalarMult=qr;function Gr(Qr){return qr(Qr,fe)}Y.scalarMultBase=Gr;function Yr(Qr){if(Qr.length!==Y.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${Y.SECRET_KEY_LENGTH} bytes`);const oi=new Uint8Array(Qr);return{publicKey:Gr(oi),secretKey:oi}}Y.generateKeyPairFromSeed=Yr;function Wr(Qr){const oi=(0,t.randomBytes)(32,Qr),fi=Yr(oi);return(0,s.wipe)(oi),fi}Y.generateKeyPair=Wr;function ti(Qr,oi,fi=!1){if(Qr.length!==Y.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(oi.length!==Y.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const jr=qr(Qr,oi);if(fi){let ci=0;for(let gi=0;gi<jr.length;gi++)ci|=jr[gi];if(ci===0)throw new Error("X25519: invalid shared key")}return jr}Y.sharedKey=ti})(x25519);function allocUnsafe(Y=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(Y):new Uint8Array(Y)}function concat(Y,t){t||(t=Y.reduce((fe,be)=>fe+be.length,0));const s=allocUnsafe(t);let se=0;for(const fe of Y)s.set(fe,se),se+=fe.length;return s}function base(Y,t){if(Y.length>=255)throw new TypeError("Alphabet too long");for(var s=new Uint8Array(256),se=0;se<s.length;se++)s[se]=255;for(var fe=0;fe<Y.length;fe++){var be=Y.charAt(fe),xe=be.charCodeAt(0);if(s[xe]!==255)throw new TypeError(be+" is ambiguous");s[xe]=fe}var we=Y.length,Se=Y.charAt(0),Ee=Math.log(we)/Math.log(256),me=Math.log(256)/Math.log(we);function Ie(wr){if(wr instanceof Uint8Array||(ArrayBuffer.isView(wr)?wr=new Uint8Array(wr.buffer,wr.byteOffset,wr.byteLength):Array.isArray(wr)&&(wr=Uint8Array.from(wr))),!(wr instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(wr.length===0)return"";for(var qr=0,Gr=0,Yr=0,Wr=wr.length;Yr!==Wr&&wr[Yr]===0;)Yr++,qr++;for(var ti=(Wr-Yr)*me+1>>>0,Qr=new Uint8Array(ti);Yr!==Wr;){for(var oi=wr[Yr],fi=0,jr=ti-1;(oi!==0||fi<Gr)&&jr!==-1;jr--,fi++)oi+=256*Qr[jr]>>>0,Qr[jr]=oi%we>>>0,oi=oi/we>>>0;if(oi!==0)throw new Error("Non-zero carry");Gr=fi,Yr++}for(var ci=ti-Gr;ci!==ti&&Qr[ci]===0;)ci++;for(var gi=Se.repeat(qr);ci<ti;++ci)gi+=Y.charAt(Qr[ci]);return gi}function fr(wr){if(typeof wr!="string")throw new TypeError("Expected String");if(wr.length===0)return new Uint8Array;var qr=0;if(wr[qr]!==" "){for(var Gr=0,Yr=0;wr[qr]===Se;)Gr++,qr++;for(var Wr=(wr.length-qr)*Ee+1>>>0,ti=new Uint8Array(Wr);wr[qr];){var Qr=s[wr.charCodeAt(qr)];if(Qr===255)return;for(var oi=0,fi=Wr-1;(Qr!==0||oi<Yr)&&fi!==-1;fi--,oi++)Qr+=we*ti[fi]>>>0,ti[fi]=Qr%256>>>0,Qr=Qr/256>>>0;if(Qr!==0)throw new Error("Non-zero carry");Yr=oi,qr++}if(wr[qr]!==" "){for(var jr=Wr-Yr;jr!==Wr&&ti[jr]===0;)jr++;for(var ci=new Uint8Array(Gr+(Wr-jr)),gi=Gr;jr!==Wr;)ci[gi++]=ti[jr++];return ci}}}function Oe(wr){var qr=fr(wr);if(qr)return qr;throw new Error(`Non-${t} character`)}return{encode:Ie,decodeUnsafe:fr,decode:Oe}}var src=base,_brrp__multiformats_scope_baseX=src;const coerce=Y=>{if(Y instanceof Uint8Array&&Y.constructor.name==="Uint8Array")return Y;if(Y instanceof ArrayBuffer)return new Uint8Array(Y);if(ArrayBuffer.isView(Y))return new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=Y=>new TextEncoder().encode(Y),toString$1=Y=>new TextDecoder().decode(Y);class Encoder{constructor(t,s,se){this.name=t,this.prefix=s,this.baseEncode=se}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(t,s,se){if(this.name=t,this.prefix=s,s.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=s.codePointAt(0),this.baseDecode=se}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or$2(this,t)}}class ComposedDecoder{constructor(t){this.decoders=t}or(t){return or$2(this,t)}decode(t){const s=t[0],se=this.decoders[s];if(se)return se.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or$2=(Y,t)=>new ComposedDecoder({...Y.decoders||{[Y.prefix]:Y},...t.decoders||{[t.prefix]:t}});class Codec{constructor(t,s,se,fe){this.name=t,this.prefix=s,this.baseEncode=se,this.baseDecode=fe,this.encoder=new Encoder(t,s,se),this.decoder=new Decoder(t,s,fe)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const from=({name:Y,prefix:t,encode:s,decode:se})=>new Codec(Y,t,s,se),baseX=({prefix:Y,name:t,alphabet:s})=>{const{encode:se,decode:fe}=_brrp__multiformats_scope_baseX(s,t);return from({prefix:Y,name:t,encode:se,decode:be=>coerce(fe(be))})},decode$2=(Y,t,s,se)=>{const fe={};for(let me=0;me<t.length;++me)fe[t[me]]=me;let be=Y.length;for(;Y[be-1]==="=";)--be;const xe=new Uint8Array(be*s/8|0);let we=0,Se=0,Ee=0;for(let me=0;me<be;++me){const Ie=fe[Y[me]];if(Ie===void 0)throw new SyntaxError(`Non-${se} character`);Se=Se<<s|Ie,we+=s,we>=8&&(we-=8,xe[Ee++]=255&Se>>we)}if(we>=s||255&Se<<8-we)throw new SyntaxError("Unexpected end of data");return xe},encode$1=(Y,t,s)=>{const se=t[t.length-1]==="=",fe=(1<<s)-1;let be="",xe=0,we=0;for(let Se=0;Se<Y.length;++Se)for(we=we<<8|Y[Se],xe+=8;xe>s;)xe-=s,be+=t[fe&we>>xe];if(xe&&(be+=t[fe&we<<s-xe]),se)for(;be.length*s&7;)be+="=";return be},rfc4648=({name:Y,prefix:t,bitsPerChar:s,alphabet:se})=>from({prefix:t,name:Y,encode(fe){return encode$1(fe,se,s)},decode(fe){return decode$2(fe,se,s,Y)}}),identity=from({prefix:"\0",name:"identity",encode:Y=>toString$1(Y),decode:Y=>fromString$1(Y)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from(""),alphabetBytesToChars=alphabet.reduce((Y,t,s)=>(Y[s]=t,Y),[]),alphabetCharsToBytes=alphabet.reduce((Y,t,s)=>(Y[t.codePointAt(0)]=s,Y),[]);function encode(Y){return Y.reduce((t,s)=>(t+=alphabetBytesToChars[s],t),"")}function decode$1(Y){const t=[];for(const s of Y){const se=alphabetCharsToBytes[s.codePointAt(0)];if(se===void 0)throw new Error(`Non-base256emoji character: ${s}`);t.push(se)}return new Uint8Array(t)}const base256emoji=from({prefix:"",name:"base256emoji",encode,decode:decode$1}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function createCodec(Y,t,s,se){return{name:Y,prefix:t,encoder:{name:Y,prefix:t,encode:s},decoder:{decode:se}}}const string=createCodec("utf8","u",Y=>"u"+new TextDecoder("utf8").decode(Y),Y=>new TextEncoder().encode(Y.substring(1))),ascii=createCodec("ascii","a",Y=>{let t="a";for(let s=0;s<Y.length;s++)t+=String.fromCharCode(Y[s]);return t},Y=>{Y=Y.substring(1);const t=allocUnsafe(Y.length);for(let s=0;s<Y.length;s++)t[s]=Y.charCodeAt(s);return t}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(Y,t="utf8"){const s=BASES[t];if(!s)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(Y,"utf8"):s.decoder.decode(`${s.prefix}${Y}`)}function toString(Y,t="utf8"){const s=BASES[t];if(!s)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(Y.buffer,Y.byteOffset,Y.byteLength).toString("utf8"):s.encoder.encode(Y).substring(1)}var __spreadArray=function(Y,t,s){if(s||arguments.length===2)for(var se=0,fe=t.length,be;se<fe;se++)(be||!(se in t))&&(be||(be=Array.prototype.slice.call(t,0,se)),be[se]=t[se]);return Y.concat(be||Array.prototype.slice.call(t))},BrowserInfo=function(){function Y(t,s,se){this.name=t,this.version=s,this.os=se,this.type="browser"}return Y}(),NodeInfo=function(){function Y(t){this.version=t,this.type="node",this.name="node",this.os=process$1.platform}return Y}(),SearchBotDeviceInfo=function(){function Y(t,s,se,fe){this.name=t,this.version=s,this.os=se,this.bot=fe,this.type="bot-device"}return Y}(),BotInfo=function(){function Y(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return Y}(),ReactNativeInfo=function(){function Y(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return Y}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(Y){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(Y){return Y!==""&&userAgentRules.reduce(function(t,s){var se=s[0],fe=s[1];if(t)return t;var be=fe.exec(Y);return!!be&&[se,be]},!1)}function parseUserAgent(Y){var t=matchUserAgent(Y);if(!t)return null;var s=t[0],se=t[1];if(s==="searchbot")return new BotInfo;var fe=se[1]&&se[1].split(".").join("_").split("_").slice(0,3);fe?fe.length<REQUIRED_VERSION_PARTS&&(fe=__spreadArray(__spreadArray([],fe,!0),createVersionParts(REQUIRED_VERSION_PARTS-fe.length),!0)):fe=[];var be=fe.join("."),xe=detectOS(Y),we=SEARCHBOT_OS_REGEX.exec(Y);return we&&we[1]?new SearchBotDeviceInfo(s,be,xe,we[1]):new BrowserInfo(s,be,xe)}function detectOS(Y){for(var t=0,s=operatingSystemRules.length;t<s;t++){var se=operatingSystemRules[t],fe=se[0],be=se[1],xe=be.exec(Y);if(xe)return fe}return null}function getNodeVersion(){var Y=typeof process$1<"u"&&process$1.version;return Y?new NodeInfo(process$1.version.slice(1)):null}function createVersionParts(Y){for(var t=[],s=0;s<Y;s++)t.push("0");return t}var cjs$4={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(Y,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,se){s.__proto__=se}||function(s,se){for(var fe in se)se.hasOwnProperty(fe)&&(s[fe]=se[fe])},extendStatics(Y,t)};function __extends(Y,t){extendStatics(Y,t);function s(){this.constructor=Y}Y.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var __assign=function(){return __assign=Object.assign||function(t){for(var s,se=1,fe=arguments.length;se<fe;se++){s=arguments[se];for(var be in s)Object.prototype.hasOwnProperty.call(s,be)&&(t[be]=s[be])}return t},__assign.apply(this,arguments)};function __rest(Y,t){var s={};for(var se in Y)Object.prototype.hasOwnProperty.call(Y,se)&&t.indexOf(se)<0&&(s[se]=Y[se]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var fe=0,se=Object.getOwnPropertySymbols(Y);fe<se.length;fe++)t.indexOf(se[fe])<0&&Object.prototype.propertyIsEnumerable.call(Y,se[fe])&&(s[se[fe]]=Y[se[fe]]);return s}function __decorate(Y,t,s,se){var fe=arguments.length,be=fe<3?t:se===null?se=Object.getOwnPropertyDescriptor(t,s):se,xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")be=Reflect.decorate(Y,t,s,se);else for(var we=Y.length-1;we>=0;we--)(xe=Y[we])&&(be=(fe<3?xe(be):fe>3?xe(t,s,be):xe(t,s))||be);return fe>3&&be&&Object.defineProperty(t,s,be),be}function __param(Y,t){return function(s,se){t(s,se,Y)}}function __metadata(Y,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Y,t)}function __awaiter(Y,t,s,se){function fe(be){return be instanceof s?be:new s(function(xe){xe(be)})}return new(s||(s=Promise))(function(be,xe){function we(me){try{Ee(se.next(me))}catch(Ie){xe(Ie)}}function Se(me){try{Ee(se.throw(me))}catch(Ie){xe(Ie)}}function Ee(me){me.done?be(me.value):fe(me.value).then(we,Se)}Ee((se=se.apply(Y,t||[])).next())})}function __generator(Y,t){var s={label:0,sent:function(){if(be[0]&1)throw be[1];return be[1]},trys:[],ops:[]},se,fe,be,xe;return xe={next:we(0),throw:we(1),return:we(2)},typeof Symbol=="function"&&(xe[Symbol.iterator]=function(){return this}),xe;function we(Ee){return function(me){return Se([Ee,me])}}function Se(Ee){if(se)throw new TypeError("Generator is already executing.");for(;s;)try{if(se=1,fe&&(be=Ee[0]&2?fe.return:Ee[0]?fe.throw||((be=fe.return)&&be.call(fe),0):fe.next)&&!(be=be.call(fe,Ee[1])).done)return be;switch(fe=0,be&&(Ee=[Ee[0]&2,be.value]),Ee[0]){case 0:case 1:be=Ee;break;case 4:return s.label++,{value:Ee[1],done:!1};case 5:s.label++,fe=Ee[1],Ee=[0];continue;case 7:Ee=s.ops.pop(),s.trys.pop();continue;default:if(be=s.trys,!(be=be.length>0&&be[be.length-1])&&(Ee[0]===6||Ee[0]===2)){s=0;continue}if(Ee[0]===3&&(!be||Ee[1]>be[0]&&Ee[1]<be[3])){s.label=Ee[1];break}if(Ee[0]===6&&s.label<be[1]){s.label=be[1],be=Ee;break}if(be&&s.label<be[2]){s.label=be[2],s.ops.push(Ee);break}be[2]&&s.ops.pop(),s.trys.pop();continue}Ee=t.call(Y,s)}catch(me){Ee=[6,me],fe=0}finally{se=be=0}if(Ee[0]&5)throw Ee[1];return{value:Ee[0]?Ee[1]:void 0,done:!0}}}function __createBinding(Y,t,s,se){se===void 0&&(se=s),Y[se]=t[s]}function __exportStar(Y,t){for(var s in Y)s!=="default"&&!t.hasOwnProperty(s)&&(t[s]=Y[s])}function __values(Y){var t=typeof Symbol=="function"&&Symbol.iterator,s=t&&Y[t],se=0;if(s)return s.call(Y);if(Y&&typeof Y.length=="number")return{next:function(){return Y&&se>=Y.length&&(Y=void 0),{value:Y&&Y[se++],done:!Y}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(Y,t){var s=typeof Symbol=="function"&&Y[Symbol.iterator];if(!s)return Y;var se=s.call(Y),fe,be=[],xe;try{for(;(t===void 0||t-- >0)&&!(fe=se.next()).done;)be.push(fe.value)}catch(we){xe={error:we}}finally{try{fe&&!fe.done&&(s=se.return)&&s.call(se)}finally{if(xe)throw xe.error}}return be}function __spread(){for(var Y=[],t=0;t<arguments.length;t++)Y=Y.concat(__read(arguments[t]));return Y}function __spreadArrays(){for(var Y=0,t=0,s=arguments.length;t<s;t++)Y+=arguments[t].length;for(var se=Array(Y),fe=0,t=0;t<s;t++)for(var be=arguments[t],xe=0,we=be.length;xe<we;xe++,fe++)se[fe]=be[xe];return se}function __await(Y){return this instanceof __await?(this.v=Y,this):new __await(Y)}function __asyncGenerator(Y,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se=s.apply(Y,t||[]),fe,be=[];return fe={},xe("next"),xe("throw"),xe("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function xe(fr){se[fr]&&(fe[fr]=function(Oe){return new Promise(function(wr,qr){be.push([fr,Oe,wr,qr])>1||we(fr,Oe)})})}function we(fr,Oe){try{Se(se[fr](Oe))}catch(wr){Ie(be[0][3],wr)}}function Se(fr){fr.value instanceof __await?Promise.resolve(fr.value.v).then(Ee,me):Ie(be[0][2],fr)}function Ee(fr){we("next",fr)}function me(fr){we("throw",fr)}function Ie(fr,Oe){fr(Oe),be.shift(),be.length&&we(be[0][0],be[0][1])}}function __asyncDelegator(Y){var t,s;return t={},se("next"),se("throw",function(fe){throw fe}),se("return"),t[Symbol.iterator]=function(){return this},t;function se(fe,be){t[fe]=Y[fe]?function(xe){return(s=!s)?{value:__await(Y[fe](xe)),done:fe==="return"}:be?be(xe):xe}:be}}function __asyncValues(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=Y[Symbol.asyncIterator],s;return t?t.call(Y):(Y=typeof __values=="function"?__values(Y):Y[Symbol.iterator](),s={},se("next"),se("throw"),se("return"),s[Symbol.asyncIterator]=function(){return this},s);function se(be){s[be]=Y[be]&&function(xe){return new Promise(function(we,Se){xe=Y[be](xe),fe(we,Se,xe.done,xe.value)})}}function fe(be,xe,we,Se){Promise.resolve(Se).then(function(Ee){be({value:Ee,done:we})},xe)}}function __makeTemplateObject(Y,t){return Object.defineProperty?Object.defineProperty(Y,"raw",{value:t}):Y.raw=t,Y}function __importStar(Y){if(Y&&Y.__esModule)return Y;var t={};if(Y!=null)for(var s in Y)Object.hasOwnProperty.call(Y,s)&&(t[s]=Y[s]);return t.default=Y,t}function __importDefault(Y){return Y&&Y.__esModule?Y:{default:Y}}function __classPrivateFieldGet(Y,t){if(!t.has(Y))throw new TypeError("attempted to get private field on non-instance");return t.get(Y)}function __classPrivateFieldSet(Y,t,s){if(!t.has(Y))throw new TypeError("attempted to set private field on non-instance");return t.set(Y,s),s}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldSet,__createBinding,__decorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest,__spread,__spreadArrays,__values},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(tslib_es6);var utils={},delay={},hasRequiredDelay;function requireDelay(){if(hasRequiredDelay)return delay;hasRequiredDelay=1,Object.defineProperty(delay,"__esModule",{value:!0}),delay.delay=void 0;function Y(t){return new Promise(s=>{setTimeout(()=>{s(!0)},t)})}return delay.delay=Y,delay}var convert={},constants$1={},misc={},hasRequiredMisc;function requireMisc(){return hasRequiredMisc||(hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.ONE_THOUSAND=misc.ONE_HUNDRED=void 0,misc.ONE_HUNDRED=100,misc.ONE_THOUSAND=1e3),misc}var time={},hasRequiredTime;function requireTime(){return hasRequiredTime||(hasRequiredTime=1,function(Y){Object.defineProperty(Y,"__esModule",{value:!0}),Y.ONE_YEAR=Y.FOUR_WEEKS=Y.THREE_WEEKS=Y.TWO_WEEKS=Y.ONE_WEEK=Y.THIRTY_DAYS=Y.SEVEN_DAYS=Y.FIVE_DAYS=Y.THREE_DAYS=Y.ONE_DAY=Y.TWENTY_FOUR_HOURS=Y.TWELVE_HOURS=Y.SIX_HOURS=Y.THREE_HOURS=Y.ONE_HOUR=Y.SIXTY_MINUTES=Y.THIRTY_MINUTES=Y.TEN_MINUTES=Y.FIVE_MINUTES=Y.ONE_MINUTE=Y.SIXTY_SECONDS=Y.THIRTY_SECONDS=Y.TEN_SECONDS=Y.FIVE_SECONDS=Y.ONE_SECOND=void 0,Y.ONE_SECOND=1,Y.FIVE_SECONDS=5,Y.TEN_SECONDS=10,Y.THIRTY_SECONDS=30,Y.SIXTY_SECONDS=60,Y.ONE_MINUTE=Y.SIXTY_SECONDS,Y.FIVE_MINUTES=Y.ONE_MINUTE*5,Y.TEN_MINUTES=Y.ONE_MINUTE*10,Y.THIRTY_MINUTES=Y.ONE_MINUTE*30,Y.SIXTY_MINUTES=Y.ONE_MINUTE*60,Y.ONE_HOUR=Y.SIXTY_MINUTES,Y.THREE_HOURS=Y.ONE_HOUR*3,Y.SIX_HOURS=Y.ONE_HOUR*6,Y.TWELVE_HOURS=Y.ONE_HOUR*12,Y.TWENTY_FOUR_HOURS=Y.ONE_HOUR*24,Y.ONE_DAY=Y.TWENTY_FOUR_HOURS,Y.THREE_DAYS=Y.ONE_DAY*3,Y.FIVE_DAYS=Y.ONE_DAY*5,Y.SEVEN_DAYS=Y.ONE_DAY*7,Y.THIRTY_DAYS=Y.ONE_DAY*30,Y.ONE_WEEK=Y.SEVEN_DAYS,Y.TWO_WEEKS=Y.ONE_WEEK*2,Y.THREE_WEEKS=Y.ONE_WEEK*3,Y.FOUR_WEEKS=Y.ONE_WEEK*4,Y.ONE_YEAR=Y.ONE_DAY*365}(time)),time}var hasRequiredConstants$1;function requireConstants$1(){return hasRequiredConstants$1||(hasRequiredConstants$1=1,function(Y){Object.defineProperty(Y,"__esModule",{value:!0});const t=require$$0$2;t.__exportStar(requireMisc(),Y),t.__exportStar(requireTime(),Y)}(constants$1)),constants$1}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1,Object.defineProperty(convert,"__esModule",{value:!0}),convert.fromMiliseconds=convert.toMiliseconds=void 0;const Y=requireConstants$1();function t(se){return se*Y.ONE_THOUSAND}convert.toMiliseconds=t;function s(se){return Math.floor(se/Y.ONE_THOUSAND)}return convert.fromMiliseconds=s,convert}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(Y){Object.defineProperty(Y,"__esModule",{value:!0});const t=require$$0$2;t.__exportStar(requireDelay(),Y),t.__exportStar(requireConvert(),Y)}(utils)),utils}var watch$2={},hasRequiredWatch$1;function requireWatch$1(){if(hasRequiredWatch$1)return watch$2;hasRequiredWatch$1=1,Object.defineProperty(watch$2,"__esModule",{value:!0}),watch$2.Watch=void 0;class Y{constructor(){this.timestamps=new Map}start(s){if(this.timestamps.has(s))throw new Error(`Watch already started for label: ${s}`);this.timestamps.set(s,{started:Date.now()})}stop(s){const se=this.get(s);if(typeof se.elapsed<"u")throw new Error(`Watch already stopped for label: ${s}`);const fe=Date.now()-se.started;this.timestamps.set(s,{started:se.started,elapsed:fe})}get(s){const se=this.timestamps.get(s);if(typeof se>"u")throw new Error(`No timestamp found for label: ${s}`);return se}elapsed(s){const se=this.get(s);return se.elapsed||Date.now()-se.started}}return watch$2.Watch=Y,watch$2.default=Y,watch$2}var types$1={},watch$1={},hasRequiredWatch;function requireWatch(){if(hasRequiredWatch)return watch$1;hasRequiredWatch=1,Object.defineProperty(watch$1,"__esModule",{value:!0}),watch$1.IWatch=void 0;class Y{}return watch$1.IWatch=Y,watch$1}var hasRequiredTypes$1;function requireTypes$1(){return hasRequiredTypes$1||(hasRequiredTypes$1=1,function(Y){Object.defineProperty(Y,"__esModule",{value:!0}),require$$0$2.__exportStar(requireWatch(),Y)}(types$1)),types$1}(function(Y){Object.defineProperty(Y,"__esModule",{value:!0});const t=require$$0$2;t.__exportStar(requireUtils(),Y),t.__exportStar(requireWatch$1(),Y),t.__exportStar(requireTypes$1(),Y),t.__exportStar(requireConstants$1(),Y)})(cjs$4);var cjs$3={};Object.defineProperty(cjs$3,"__esModule",{value:!0});cjs$3.getLocalStorage=cjs$3.getLocalStorageOrThrow=cjs$3.getCrypto=cjs$3.getCryptoOrThrow=getLocation_1=cjs$3.getLocation=cjs$3.getLocationOrThrow=getNavigator_1=cjs$3.getNavigator=cjs$3.getNavigatorOrThrow=getDocument_1=cjs$3.getDocument=cjs$3.getDocumentOrThrow=cjs$3.getFromWindowOrThrow=cjs$3.getFromWindow=void 0;function getFromWindow(Y){let t;return typeof window<"u"&&typeof window[Y]<"u"&&(t=window[Y]),t}cjs$3.getFromWindow=getFromWindow;function getFromWindowOrThrow(Y){const t=getFromWindow(Y);if(!t)throw new Error(`${Y} is not defined in Window`);return t}cjs$3.getFromWindowOrThrow=getFromWindowOrThrow;function getDocumentOrThrow(){return getFromWindowOrThrow("document")}cjs$3.getDocumentOrThrow=getDocumentOrThrow;function getDocument(){return getFromWindow("document")}var getDocument_1=cjs$3.getDocument=getDocument;function getNavigatorOrThrow(){return getFromWindowOrThrow("navigator")}cjs$3.getNavigatorOrThrow=getNavigatorOrThrow;function getNavigator(){return getFromWindow("navigator")}var getNavigator_1=cjs$3.getNavigator=getNavigator;function getLocationOrThrow(){return getFromWindowOrThrow("location")}cjs$3.getLocationOrThrow=getLocationOrThrow;function getLocation(){return getFromWindow("location")}var getLocation_1=cjs$3.getLocation=getLocation;function getCryptoOrThrow(){return getFromWindowOrThrow("crypto")}cjs$3.getCryptoOrThrow=getCryptoOrThrow;function getCrypto(){return getFromWindow("crypto")}cjs$3.getCrypto=getCrypto;function getLocalStorageOrThrow(){return getFromWindowOrThrow("localStorage")}cjs$3.getLocalStorageOrThrow=getLocalStorageOrThrow;function getLocalStorage(){return getFromWindow("localStorage")}cjs$3.getLocalStorage=getLocalStorage;var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});var getWindowMetadata_1=cjs$2.getWindowMetadata=void 0;const window_getters_1=cjs$3;function getWindowMetadata(){let Y,t;try{Y=window_getters_1.getDocumentOrThrow(),t=window_getters_1.getLocationOrThrow()}catch{return null}function s(){const Ie=Y.getElementsByTagName("link"),fr=[];for(let Oe=0;Oe<Ie.length;Oe++){const wr=Ie[Oe],qr=wr.getAttribute("rel");if(qr&&qr.toLowerCase().indexOf("icon")>-1){const Gr=wr.getAttribute("href");if(Gr)if(Gr.toLowerCase().indexOf("https:")===-1&&Gr.toLowerCase().indexOf("http:")===-1&&Gr.indexOf("//")!==0){let Yr=t.protocol+"//"+t.host;if(Gr.indexOf("/")===0)Yr+=Gr;else{const Wr=t.pathname.split("/");Wr.pop();const ti=Wr.join("/");Yr+=ti+"/"+Gr}fr.push(Yr)}else if(Gr.indexOf("//")===0){const Yr=t.protocol+Gr;fr.push(Yr)}else fr.push(Gr)}}return fr}function se(...Ie){const fr=Y.getElementsByTagName("meta");for(let Oe=0;Oe<fr.length;Oe++){const wr=fr[Oe],qr=["itemprop","property","name"].map(Gr=>wr.getAttribute(Gr)).filter(Gr=>Gr?Ie.includes(Gr):!1);if(qr.length&&qr){const Gr=wr.getAttribute("content");if(Gr)return Gr}}return""}function fe(){let Ie=se("name","og:site_name","og:title","twitter:title");return Ie||(Ie=Y.title),Ie}function be(){return se("description","og:description","twitter:description","keywords")}const xe=fe(),we=be(),Se=t.origin,Ee=s();return{description:we,url:Se,icons:Ee,name:xe}}getWindowMetadata_1=cjs$2.getWindowMetadata=getWindowMetadata;var queryString={},strictUriEncode=Y=>encodeURIComponent(Y).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(Y,t){try{return[decodeURIComponent(Y.join(""))]}catch{}if(Y.length===1)return Y;t=t||1;var s=Y.slice(0,t),se=Y.slice(t);return Array.prototype.concat.call([],decodeComponents(s),decodeComponents(se))}function decode(Y){try{return decodeURIComponent(Y)}catch{for(var t=Y.match(singleMatcher)||[],s=1;s<t.length;s++)Y=decodeComponents(t,s).join(""),t=Y.match(singleMatcher)||[];return Y}}function customDecodeURIComponent(Y){for(var t={"%FE%FF":"","%FF%FE":""},s=multiMatcher.exec(Y);s;){try{t[s[0]]=decodeURIComponent(s[0])}catch{var se=decode(s[0]);se!==s[0]&&(t[s[0]]=se)}s=multiMatcher.exec(Y)}t["%C2"]="";for(var fe=Object.keys(t),be=0;be<fe.length;be++){var xe=fe[be];Y=Y.replace(new RegExp(xe,"g"),t[xe])}return Y}var decodeUriComponent=function(Y){if(typeof Y!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof Y+"`");try{return Y=Y.replace(/\+/g," "),decodeURIComponent(Y)}catch{return customDecodeURIComponent(Y)}},splitOnFirst=(Y,t)=>{if(!(typeof Y=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[Y];const s=Y.indexOf(t);return s===-1?[Y]:[Y.slice(0,s),Y.slice(s+t.length)]},filterObj=function(Y,t){for(var s={},se=Object.keys(Y),fe=Array.isArray(t),be=0;be<se.length;be++){var xe=se[be],we=Y[xe];(fe?t.indexOf(xe)!==-1:t(xe,we,Y))&&(s[xe]=we)}return s};(function(Y){const t=strictUriEncode,s=decodeUriComponent,se=splitOnFirst,fe=filterObj,be=Wr=>Wr==null,xe=Symbol("encodeFragmentIdentifier");function we(Wr){switch(Wr.arrayFormat){case"index":return ti=>(Qr,oi)=>{const fi=Qr.length;return oi===void 0||Wr.skipNull&&oi===null||Wr.skipEmptyString&&oi===""?Qr:oi===null?[...Qr,[me(ti,Wr),"[",fi,"]"].join("")]:[...Qr,[me(ti,Wr),"[",me(fi,Wr),"]=",me(oi,Wr)].join("")]};case"bracket":return ti=>(Qr,oi)=>oi===void 0||Wr.skipNull&&oi===null||Wr.skipEmptyString&&oi===""?Qr:oi===null?[...Qr,[me(ti,Wr),"[]"].join("")]:[...Qr,[me(ti,Wr),"[]=",me(oi,Wr)].join("")];case"colon-list-separator":return ti=>(Qr,oi)=>oi===void 0||Wr.skipNull&&oi===null||Wr.skipEmptyString&&oi===""?Qr:oi===null?[...Qr,[me(ti,Wr),":list="].join("")]:[...Qr,[me(ti,Wr),":list=",me(oi,Wr)].join("")];case"comma":case"separator":case"bracket-separator":{const ti=Wr.arrayFormat==="bracket-separator"?"[]=":"=";return Qr=>(oi,fi)=>fi===void 0||Wr.skipNull&&fi===null||Wr.skipEmptyString&&fi===""?oi:(fi=fi===null?"":fi,oi.length===0?[[me(Qr,Wr),ti,me(fi,Wr)].join("")]:[[oi,me(fi,Wr)].join(Wr.arrayFormatSeparator)])}default:return ti=>(Qr,oi)=>oi===void 0||Wr.skipNull&&oi===null||Wr.skipEmptyString&&oi===""?Qr:oi===null?[...Qr,me(ti,Wr)]:[...Qr,[me(ti,Wr),"=",me(oi,Wr)].join("")]}}function Se(Wr){let ti;switch(Wr.arrayFormat){case"index":return(Qr,oi,fi)=>{if(ti=/\[(\d*)\]$/.exec(Qr),Qr=Qr.replace(/\[\d*\]$/,""),!ti){fi[Qr]=oi;return}fi[Qr]===void 0&&(fi[Qr]={}),fi[Qr][ti[1]]=oi};case"bracket":return(Qr,oi,fi)=>{if(ti=/(\[\])$/.exec(Qr),Qr=Qr.replace(/\[\]$/,""),!ti){fi[Qr]=oi;return}if(fi[Qr]===void 0){fi[Qr]=[oi];return}fi[Qr]=[].concat(fi[Qr],oi)};case"colon-list-separator":return(Qr,oi,fi)=>{if(ti=/(:list)$/.exec(Qr),Qr=Qr.replace(/:list$/,""),!ti){fi[Qr]=oi;return}if(fi[Qr]===void 0){fi[Qr]=[oi];return}fi[Qr]=[].concat(fi[Qr],oi)};case"comma":case"separator":return(Qr,oi,fi)=>{const jr=typeof oi=="string"&&oi.includes(Wr.arrayFormatSeparator),ci=typeof oi=="string"&&!jr&&Ie(oi,Wr).includes(Wr.arrayFormatSeparator);oi=ci?Ie(oi,Wr):oi;const gi=jr||ci?oi.split(Wr.arrayFormatSeparator).map($i=>Ie($i,Wr)):oi===null?oi:Ie(oi,Wr);fi[Qr]=gi};case"bracket-separator":return(Qr,oi,fi)=>{const jr=/(\[\])$/.test(Qr);if(Qr=Qr.replace(/\[\]$/,""),!jr){fi[Qr]=oi&&Ie(oi,Wr);return}const ci=oi===null?[]:oi.split(Wr.arrayFormatSeparator).map(gi=>Ie(gi,Wr));if(fi[Qr]===void 0){fi[Qr]=ci;return}fi[Qr]=[].concat(fi[Qr],ci)};default:return(Qr,oi,fi)=>{if(fi[Qr]===void 0){fi[Qr]=oi;return}fi[Qr]=[].concat(fi[Qr],oi)}}}function Ee(Wr){if(typeof Wr!="string"||Wr.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function me(Wr,ti){return ti.encode?ti.strict?t(Wr):encodeURIComponent(Wr):Wr}function Ie(Wr,ti){return ti.decode?s(Wr):Wr}function fr(Wr){return Array.isArray(Wr)?Wr.sort():typeof Wr=="object"?fr(Object.keys(Wr)).sort((ti,Qr)=>Number(ti)-Number(Qr)).map(ti=>Wr[ti]):Wr}function Oe(Wr){const ti=Wr.indexOf("#");return ti!==-1&&(Wr=Wr.slice(0,ti)),Wr}function wr(Wr){let ti="";const Qr=Wr.indexOf("#");return Qr!==-1&&(ti=Wr.slice(Qr)),ti}function qr(Wr){Wr=Oe(Wr);const ti=Wr.indexOf("?");return ti===-1?"":Wr.slice(ti+1)}function Gr(Wr,ti){return ti.parseNumbers&&!Number.isNaN(Number(Wr))&&typeof Wr=="string"&&Wr.trim()!==""?Wr=Number(Wr):ti.parseBooleans&&Wr!==null&&(Wr.toLowerCase()==="true"||Wr.toLowerCase()==="false")&&(Wr=Wr.toLowerCase()==="true"),Wr}function Yr(Wr,ti){ti=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},ti),Ee(ti.arrayFormatSeparator);const Qr=Se(ti),oi=Object.create(null);if(typeof Wr!="string"||(Wr=Wr.trim().replace(/^[?#&]/,""),!Wr))return oi;for(const fi of Wr.split("&")){if(fi==="")continue;let[jr,ci]=se(ti.decode?fi.replace(/\+/g," "):fi,"=");ci=ci===void 0?null:["comma","separator","bracket-separator"].includes(ti.arrayFormat)?ci:Ie(ci,ti),Qr(Ie(jr,ti),ci,oi)}for(const fi of Object.keys(oi)){const jr=oi[fi];if(typeof jr=="object"&&jr!==null)for(const ci of Object.keys(jr))jr[ci]=Gr(jr[ci],ti);else oi[fi]=Gr(jr,ti)}return ti.sort===!1?oi:(ti.sort===!0?Object.keys(oi).sort():Object.keys(oi).sort(ti.sort)).reduce((fi,jr)=>{const ci=oi[jr];return ci&&typeof ci=="object"&&!Array.isArray(ci)?fi[jr]=fr(ci):fi[jr]=ci,fi},Object.create(null))}Y.extract=qr,Y.parse=Yr,Y.stringify=(Wr,ti)=>{if(!Wr)return"";ti=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},ti),Ee(ti.arrayFormatSeparator);const Qr=ci=>ti.skipNull&&be(Wr[ci])||ti.skipEmptyString&&Wr[ci]==="",oi=we(ti),fi={};for(const ci of Object.keys(Wr))Qr(ci)||(fi[ci]=Wr[ci]);const jr=Object.keys(fi);return ti.sort!==!1&&jr.sort(ti.sort),jr.map(ci=>{const gi=Wr[ci];return gi===void 0?"":gi===null?me(ci,ti):Array.isArray(gi)?gi.length===0&&ti.arrayFormat==="bracket-separator"?me(ci,ti)+"[]":gi.reduce(oi(ci),[]).join("&"):me(ci,ti)+"="+me(gi,ti)}).filter(ci=>ci.length>0).join("&")},Y.parseUrl=(Wr,ti)=>{ti=Object.assign({decode:!0},ti);const[Qr,oi]=se(Wr,"#");return Object.assign({url:Qr.split("?")[0]||"",query:Yr(qr(Wr),ti)},ti&&ti.parseFragmentIdentifier&&oi?{fragmentIdentifier:Ie(oi,ti)}:{})},Y.stringifyUrl=(Wr,ti)=>{ti=Object.assign({encode:!0,strict:!0,[xe]:!0},ti);const Qr=Oe(Wr.url).split("?")[0]||"",oi=Y.extract(Wr.url),fi=Y.parse(oi,{sort:!1}),jr=Object.assign(fi,Wr.query);let ci=Y.stringify(jr,ti);ci&&(ci=`?${ci}`);let gi=wr(Wr.url);return Wr.fragmentIdentifier&&(gi=`#${ti[xe]?me(Wr.fragmentIdentifier,ti):Wr.fragmentIdentifier}`),`${Qr}${ci}${gi}`},Y.pick=(Wr,ti,Qr)=>{Qr=Object.assign({parseFragmentIdentifier:!0,[xe]:!1},Qr);const{url:oi,query:fi,fragmentIdentifier:jr}=Y.parseUrl(Wr,Qr);return Y.stringifyUrl({url:oi,query:fe(fi,ti),fragmentIdentifier:jr},Qr)},Y.exclude=(Wr,ti,Qr)=>{const oi=Array.isArray(ti)?fi=>!ti.includes(fi):(fi,jr)=>!ti(fi,jr);return Y.pick(Wr,oi,Qr)}})(queryString);const C={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},K$1=":";function ve(Y){const[t,s]=Y.split(K$1);return{namespace:t,reference:s}}function Un(Y,t=[]){const s=[];return Object.keys(Y).forEach(se=>{if(t.length&&!t.includes(se))return;const fe=Y[se];s.push(...fe.accounts)}),s}function L$3(Y,t){return Y.includes(":")?[Y]:t.chains||[]}const J$1="base10",p$4="base16",F$2="base64pad",H$1="utf8",Q$3=0,_$3=1,Dn=0,Te=1,Z$1=12,X$1=32;function kn(){const Y=x25519.generateKeyPair();return{privateKey:toString(Y.secretKey,p$4),publicKey:toString(Y.publicKey,p$4)}}function Vn$1(){const Y=random.randomBytes(X$1);return toString(Y,p$4)}function Mn(Y,t){const s=x25519.sharedKey(fromString(Y,p$4),fromString(t,p$4),!0),se=new HKDF_1(sha256.SHA256,s).expand(X$1);return toString(se,p$4)}function Kn(Y){const t=sha256.hash(fromString(Y,p$4));return toString(t,p$4)}function Ln(Y){const t=sha256.hash(fromString(Y,H$1));return toString(t,p$4)}function Pe(Y){return fromString(`${Y}`,J$1)}function j$3(Y){return Number(toString(Y,J$1))}function xn(Y){const t=Pe(typeof Y.type<"u"?Y.type:Q$3);if(j$3(t)===_$3&&typeof Y.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const s=typeof Y.senderPublicKey<"u"?fromString(Y.senderPublicKey,p$4):void 0,se=typeof Y.iv<"u"?fromString(Y.iv,p$4):random.randomBytes(Z$1),fe=new chacha20poly1305.ChaCha20Poly1305(fromString(Y.symKey,p$4)).seal(se,fromString(Y.message,H$1));return Re({type:t,sealed:fe,iv:se,senderPublicKey:s})}function Fn(Y){const t=new chacha20poly1305.ChaCha20Poly1305(fromString(Y.symKey,p$4)),{sealed:s,iv:se}=ee$1(Y.encoded),fe=t.open(se,s);if(fe===null)throw new Error("Failed to decrypt");return toString(fe,H$1)}function Re(Y){if(j$3(Y.type)===_$3){if(typeof Y.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString(concat([Y.type,Y.senderPublicKey,Y.iv,Y.sealed]),F$2)}return toString(concat([Y.type,Y.iv,Y.sealed]),F$2)}function ee$1(Y){const t=fromString(Y,F$2),s=t.slice(Dn,Te),se=Te;if(j$3(s)===_$3){const we=se+X$1,Se=we+Z$1,Ee=t.slice(se,we),me=t.slice(we,Se),Ie=t.slice(Se);return{type:s,sealed:Ie,iv:me,senderPublicKey:Ee}}const fe=se+Z$1,be=t.slice(se,fe),xe=t.slice(fe);return{type:s,sealed:xe,iv:be}}function Hn(Y,t){const s=ee$1(Y);return Ae({type:j$3(s.type),senderPublicKey:typeof s.senderPublicKey<"u"?toString(s.senderPublicKey,p$4):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function Ae(Y){const t=(Y==null?void 0:Y.type)||Q$3;if(t===_$3){if(typeof(Y==null?void 0:Y.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(Y==null?void 0:Y.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:Y==null?void 0:Y.senderPublicKey,receiverPublicKey:Y==null?void 0:Y.receiverPublicKey}}function qn(Y){return Y.type===_$3&&typeof Y.senderPublicKey=="string"&&typeof Y.receiverPublicKey=="string"}var Bn=Object.defineProperty,Ue$1=Object.getOwnPropertySymbols,Gn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,_e=(Y,t,s)=>t in Y?Bn(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,$e$1=(Y,t)=>{for(var s in t||(t={}))Gn.call(t,s)&&_e(Y,s,t[s]);if(Ue$1)for(var s of Ue$1(t))Wn.call(t,s)&&_e(Y,s,t[s]);return Y};const Ce="ReactNative",m$1={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},De$1="js";function te$1(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}function $$2(){return!getDocument_1()&&!!getNavigator_1()&&navigator.product===Ce}function D$4(){return!te$1()&&!!getNavigator_1()&&!!getDocument_1()}function R$2(){return $$2()?m$1.reactNative:te$1()?m$1.node:D$4()?m$1.browser:m$1.unknown}function Jn(){var Y;try{return $$2()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(Y=global.Application)==null?void 0:Y.applicationId:void 0}catch{return}}function ke$1(Y,t){let s=queryString.parse(Y);return s=$e$1($e$1({},s),t),Y=queryString.stringify(s),Y}function Qn(){return getWindowMetadata_1()||{name:"",description:"",url:"",icons:[""]}}function Ve$1(){if(R$2()===m$1.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:s,Version:se}=global.Platform;return[s,se].join("-")}const Y=detect();if(Y===null)return"unknown";const t=Y.os?Y.os.replace(" ","").toLowerCase():"unknown";return Y.type==="browser"?[t,Y.name,Y.version].join("-"):[t,Y.version].join("-")}function Me$1(){var Y;const t=R$2();return t===m$1.browser?[t,((Y=getLocation_1())==null?void 0:Y.host)||"unknown"].join(":"):t}function Ke$1(Y,t,s){const se=Ve$1(),fe=Me$1();return[[Y,t].join("-"),[De$1,s].join("-"),se,fe].join("/")}function Xn({protocol:Y,version:t,relayUrl:s,sdkVersion:se,auth:fe,projectId:be,useOnCloseEvent:xe,bundleId:we}){const Se=s.split("?"),Ee=Ke$1(Y,t,se),me={auth:fe,ua:Ee,projectId:be,useOnCloseEvent:xe||void 0,origin:we||void 0},Ie=ke$1(Se[1]||"",me);return Se[0]+"?"+Ie}function O$4(Y,t){return Y.filter(s=>t.includes(s)).length===Y.length}function rt$1(Y){return Object.fromEntries(Y.entries())}function ot$1(Y){return new Map(Object.entries(Y))}function at$1(Y=cjs$4.FIVE_MINUTES,t){const s=cjs$4.toMiliseconds(Y||cjs$4.FIVE_MINUTES);let se,fe,be;return{resolve:xe=>{be&&se&&(clearTimeout(be),se(xe))},reject:xe=>{be&&fe&&(clearTimeout(be),fe(xe))},done:()=>new Promise((xe,we)=>{be=setTimeout(()=>{we(new Error(t))},s),se=xe,fe=we})}}function ut$1(Y,t,s){return new Promise(async(se,fe)=>{const be=setTimeout(()=>fe(new Error(s)),t);try{const xe=await Y;se(xe)}catch(xe){fe(xe)}clearTimeout(be)})}function re(Y,t){if(typeof t=="string"&&t.startsWith(`${Y}:`))return t;if(Y.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(Y.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${Y}`)}function lt$1(Y){return re("topic",Y)}function dt$1(Y){return re("id",Y)}function ft$2(Y){const[t,s]=Y.split(":"),se={id:void 0,topic:void 0};if(t==="topic"&&typeof s=="string")se.topic=s;else if(t==="id"&&Number.isInteger(Number(s)))se.id=Number(s);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${s}`);return se}function pt$1(Y,t){return cjs$4.fromMiliseconds(Date.now()+cjs$4.toMiliseconds(Y))}function mt$1(Y){return Date.now()>=cjs$4.toMiliseconds(Y)}function yt$1(Y,t){return`${Y}${t?`:${t}`:""}`}function S$3(Y=[],t=[]){return[...new Set([...Y,...t])]}async function gt$1({id:Y,topic:t,wcDeepLink:s}){try{if(!s)return;const se=typeof s=="string"?JSON.parse(s):s;let fe=se==null?void 0:se.href;if(typeof fe!="string")return;fe.endsWith("/")&&(fe=fe.slice(0,-1));const be=`${fe}/wc?requestId=${Y}&sessionTopic=${t}`,xe=R$2();xe===m$1.browser?be.startsWith("https://")?window.open(be,"_blank","noreferrer noopener"):window.open(be,"_self","noreferrer noopener"):xe===m$1.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(be)}catch(se){console.error(se)}}async function ht$1(Y,t){try{return await Y.getItem(t)||(D$4()?localStorage.getItem(t):void 0)}catch(s){console.error(s)}}const He$1="irn";function vt$1(Y){return(Y==null?void 0:Y.relay)||{protocol:He$1}}function Et$1(Y){const t=C[Y];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${Y}`);return t}var bt$1=Object.defineProperty,Nt$1=Object.defineProperties,Ot$1=Object.getOwnPropertyDescriptors,qe$1=Object.getOwnPropertySymbols,St$1=Object.prototype.hasOwnProperty,wt$1=Object.prototype.propertyIsEnumerable,Be$1=(Y,t,s)=>t in Y?bt$1(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,It$1=(Y,t)=>{for(var s in t||(t={}))St$1.call(t,s)&&Be$1(Y,s,t[s]);if(qe$1)for(var s of qe$1(t))wt$1.call(t,s)&&Be$1(Y,s,t[s]);return Y},Tt$1=(Y,t)=>Nt$1(Y,Ot$1(t));function Ge$1(Y,t="-"){const s={},se="relay"+t;return Object.keys(Y).forEach(fe=>{if(fe.startsWith(se)){const be=fe.replace(se,""),xe=Y[fe];s[be]=xe}}),s}function Pt$1(Y){Y=Y.includes("wc://")?Y.replace("wc://",""):Y,Y=Y.includes("wc:")?Y.replace("wc:",""):Y;const t=Y.indexOf(":"),s=Y.indexOf("?")!==-1?Y.indexOf("?"):void 0,se=Y.substring(0,t),fe=Y.substring(t+1,s).split("@"),be=typeof s<"u"?Y.substring(s):"",xe=queryString.parse(be);return{protocol:se,topic:We$1(fe[0]),version:parseInt(fe[1],10),symKey:xe.symKey,relay:Ge$1(xe),expiryTimestamp:xe.expiryTimestamp?parseInt(xe.expiryTimestamp,10):void 0}}function We$1(Y){return Y.startsWith("//")?Y.substring(2):Y}function ze(Y,t="-"){const s="relay",se={};return Object.keys(Y).forEach(fe=>{const be=s+t+fe;Y[fe]&&(se[be]=Y[fe])}),se}function Rt$1(Y){return`${Y.protocol}:${Y.topic}@${Y.version}?`+queryString.stringify(Tt$1(It$1({symKey:Y.symKey},ze(Y.relay)),{expiryTimestamp:Y.expiryTimestamp}))}function A(Y){const t=[];return Y.forEach(s=>{const[se,fe]=s.split(":");t.push(`${se}:${fe}`)}),t}function Qe$1(Y){const t=[];return Object.values(Y).forEach(s=>{t.push(...A(s.accounts))}),t}function Ze$1(Y,t){const s=[];return Object.values(Y).forEach(se=>{A(se.accounts).includes(t)&&s.push(...se.methods)}),s}function Xe$1(Y,t){const s=[];return Object.values(Y).forEach(se=>{A(se.accounts).includes(t)&&s.push(...se.events)}),s}function oe$1(Y){return Y.includes(":")}function en(Y){return oe$1(Y)?Y.split(":")[0]:Y}const nn={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},tn={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function N$2(Y,t){const{message:s,code:se}=tn[Y];return{message:t?`${s} ${t}`:s,code:se}}function U$2(Y,t){const{message:s,code:se}=nn[Y];return{message:t?`${s} ${t}`:s,code:se}}function k$2(Y,t){return!!Array.isArray(Y)}function B$1(Y){return Object.getPrototypeOf(Y)===Object.prototype&&Object.keys(Y).length}function w$5(Y){return typeof Y>"u"}function g$6(Y,t){return t&&w$5(Y)?!0:typeof Y=="string"&&!!Y.trim().length}function G$2(Y,t){return typeof Y=="number"&&!isNaN(Y)}function Mt$1(Y,t){const{requiredNamespaces:s}=t,se=Object.keys(Y.namespaces),fe=Object.keys(s);let be=!0;return O$4(fe,se)?(se.forEach(xe=>{const{accounts:we,methods:Se,events:Ee}=Y.namespaces[xe],me=A(we),Ie=s[xe];(!O$4(L$3(xe,Ie),me)||!O$4(Ie.methods,Se)||!O$4(Ie.events,Ee))&&(be=!1)}),be):!1}function V$1(Y){return g$6(Y,!1)&&Y.includes(":")?Y.split(":").length===2:!1}function rn(Y){if(g$6(Y,!1)&&Y.includes(":")){const t=Y.split(":");if(t.length===3){const s=t[0]+":"+t[1];return!!t[2]&&V$1(s)}}return!1}function Kt$1(Y){if(g$6(Y,!1))try{return typeof new URL(Y)<"u"}catch{return!1}return!1}function Lt$1(Y){var t;return(t=Y==null?void 0:Y.proposer)==null?void 0:t.publicKey}function xt$1(Y){return Y==null?void 0:Y.topic}function Ft$1(Y,t){let s=null;return g$6(Y==null?void 0:Y.publicKey,!1)||(s=N$2("MISSING_OR_INVALID",`${t} controller public key should be a string`)),s}function ie(Y){let t=!0;return k$2(Y)?Y.length&&(t=Y.every(s=>g$6(s,!1))):t=!1,t}function on(Y,t,s){let se=null;return k$2(t)&&t.length?t.forEach(fe=>{se||V$1(fe)||(se=U$2("UNSUPPORTED_CHAINS",`${s}, chain ${fe} should be a string and conform to "namespace:chainId" format`))}):V$1(Y)||(se=U$2("UNSUPPORTED_CHAINS",`${s}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),se}function sn(Y,t,s){let se=null;return Object.entries(Y).forEach(([fe,be])=>{if(se)return;const xe=on(fe,L$3(fe,be),`${t} ${s}`);xe&&(se=xe)}),se}function cn(Y,t){let s=null;return k$2(Y)?Y.forEach(se=>{s||rn(se)||(s=U$2("UNSUPPORTED_ACCOUNTS",`${t}, account ${se} should be a string and conform to "namespace:chainId:address" format`))}):s=U$2("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),s}function an(Y,t){let s=null;return Object.values(Y).forEach(se=>{if(s)return;const fe=cn(se==null?void 0:se.accounts,`${t} namespace`);fe&&(s=fe)}),s}function un(Y,t){let s=null;return ie(Y==null?void 0:Y.methods)?ie(Y==null?void 0:Y.events)||(s=U$2("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):s=U$2("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),s}function ce$2(Y,t){let s=null;return Object.values(Y).forEach(se=>{if(s)return;const fe=un(se,`${t}, namespace`);fe&&(s=fe)}),s}function Ht$1(Y,t,s){let se=null;if(Y&&B$1(Y)){const fe=ce$2(Y,t);fe&&(se=fe);const be=sn(Y,t,s);be&&(se=be)}else se=N$2("MISSING_OR_INVALID",`${t}, ${s} should be an object with data`);return se}function ln(Y,t){let s=null;if(Y&&B$1(Y)){const se=ce$2(Y,t);se&&(s=se);const fe=an(Y,t);fe&&(s=fe)}else s=N$2("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return s}function dn(Y){return g$6(Y.protocol,!0)}function qt$1(Y,t){let s=!1;return Y?Y&&k$2(Y)&&Y.length&&Y.forEach(se=>{s=dn(se)}):s=!0,s}function Bt$1(Y){return typeof Y=="number"}function Gt$1(Y){return typeof Y<"u"&&typeof Y!==null}function Wt(Y){return!(!Y||typeof Y!="object"||!Y.code||!G$2(Y.code)||!Y.message||!g$6(Y.message,!1))}function zt$1(Y){return!(w$5(Y)||!g$6(Y.method,!1))}function Yt$1(Y){return!(w$5(Y)||w$5(Y.result)&&w$5(Y.error)||!G$2(Y.id)||!g$6(Y.jsonrpc,!1))}function Jt$1(Y){return!(w$5(Y)||!g$6(Y.name,!1))}function Qt(Y,t){return!(!V$1(t)||!Qe$1(Y).includes(t))}function Zt(Y,t,s){return g$6(s,!1)?Ze$1(Y,t).includes(s):!1}function Xt(Y,t,s){return g$6(s,!1)?Xe$1(Y,t).includes(s):!1}function fn(Y,t,s){let se=null;const fe=er$1(Y),be=nr$1(t),xe=Object.keys(fe),we=Object.keys(be),Se=pn(Object.keys(Y)),Ee=pn(Object.keys(t)),me=Se.filter(Ie=>!Ee.includes(Ie));return me.length&&(se=N$2("NON_CONFORMING_NAMESPACES",`${s} namespaces keys don't satisfy requiredNamespaces.
      Required: ${me.toString()}
      Received: ${Object.keys(t).toString()}`)),O$4(xe,we)||(se=N$2("NON_CONFORMING_NAMESPACES",`${s} namespaces chains don't satisfy required namespaces.
      Required: ${xe.toString()}
      Approved: ${we.toString()}`)),Object.keys(t).forEach(Ie=>{if(!Ie.includes(":")||se)return;const fr=A(t[Ie].accounts);fr.includes(Ie)||(se=N$2("NON_CONFORMING_NAMESPACES",`${s} namespaces accounts don't satisfy namespace accounts for ${Ie}
        Required: ${Ie}
        Approved: ${fr.toString()}`))}),xe.forEach(Ie=>{se||(O$4(fe[Ie].methods,be[Ie].methods)?O$4(fe[Ie].events,be[Ie].events)||(se=N$2("NON_CONFORMING_NAMESPACES",`${s} namespaces events don't satisfy namespace events for ${Ie}`)):se=N$2("NON_CONFORMING_NAMESPACES",`${s} namespaces methods don't satisfy namespace methods for ${Ie}`))}),se}function er$1(Y){const t={};return Object.keys(Y).forEach(s=>{var se;s.includes(":")?t[s]=Y[s]:(se=Y[s].chains)==null||se.forEach(fe=>{t[fe]={methods:Y[s].methods,events:Y[s].events}})}),t}function pn(Y){return[...new Set(Y.map(t=>t.includes(":")?t.split(":")[0]:t))]}function nr$1(Y){const t={};return Object.keys(Y).forEach(s=>{if(s.includes(":"))t[s]=Y[s];else{const se=A(Y[s].accounts);se==null||se.forEach(fe=>{t[fe]={accounts:Y[s].accounts.filter(be=>be.includes(`${fe}:`)),methods:Y[s].methods,events:Y[s].events}})}}),t}function tr$1(Y,t){return G$2(Y)&&Y<=t.max&&Y>=t.min}function rr$1(){const Y=R$2();return new Promise(t=>{switch(Y){case m$1.browser:t(mn());break;case m$1.reactNative:t(yn());break;case m$1.node:t(gn());break;default:t(!0)}})}function mn(){return D$4()&&(navigator==null?void 0:navigator.onLine)}async function yn(){if($$2()&&typeof global<"u"&&global!=null&&global.NetInfo){const Y=await(global==null?void 0:global.NetInfo.fetch());return Y==null?void 0:Y.isConnected}return!0}function gn(){return!0}function or$1(Y){switch(R$2()){case m$1.browser:hn(Y);break;case m$1.reactNative:vn(Y);break}}function hn(Y){!$$2()&&D$4()&&(window.addEventListener("online",()=>Y(!0)),window.addEventListener("offline",()=>Y(!1)))}function vn(Y){var t;$$2()&&typeof global<"u"&&global!=null&&global.NetInfo&&((t=global)==null||t.NetInfo.addEventListener(s=>Y(s==null?void 0:s.isConnected)))}const ae$1={};let sr$1=class{static get(t){return ae$1[t]}static set(t,s){ae$1[t]=s}static delete(t){delete ae$1[t]}};const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(Y,t){if(Y==="__proto__"||Y==="constructor"&&t&&typeof t=="object"&&"prototype"in t){warnKeyDropped(Y);return}return t}function warnKeyDropped(Y){console.warn(`[destr] Dropping "${Y}" key to prevent prototype pollution.`)}function destr(Y,t={}){if(typeof Y!="string")return Y;const s=Y.trim();if(Y[0]==='"'&&Y.endsWith('"')&&!Y.includes("\\"))return s.slice(1,-1);if(s.length<=9){const se=s.toLowerCase();if(se==="true")return!0;if(se==="false")return!1;if(se==="undefined")return;if(se==="null")return null;if(se==="nan")return Number.NaN;if(se==="infinity")return Number.POSITIVE_INFINITY;if(se==="-infinity")return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(Y)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return Y}try{if(suspectProtoRx.test(Y)||suspectConstructorRx.test(Y)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(Y,jsonParseTransform)}return JSON.parse(Y)}catch(se){if(t.strict)throw se;return Y}}function wrapToPromise(Y){return!Y||typeof Y.then!="function"?Promise.resolve(Y):Y}function asyncCall(Y,...t){try{return wrapToPromise(Y(...t))}catch(s){return Promise.reject(s)}}function isPrimitive(Y){const t=typeof Y;return Y===null||t!=="object"&&t!=="function"}function isPureObject(Y){const t=Object.getPrototypeOf(Y);return!t||t.isPrototypeOf(Object)}function stringify(Y){if(isPrimitive(Y))return String(Y);if(isPureObject(Y)||Array.isArray(Y))return JSON.stringify(Y);if(typeof Y.toJSON=="function")return stringify(Y.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function checkBufferSupport(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const BASE64_PREFIX="base64:";function serializeRaw(Y){if(typeof Y=="string")return Y;checkBufferSupport();const t=Buffer.from(Y).toString("base64");return BASE64_PREFIX+t}function deserializeRaw(Y){return typeof Y!="string"||!Y.startsWith(BASE64_PREFIX)?Y:(checkBufferSupport(),Buffer.from(Y.slice(BASE64_PREFIX.length),"base64"))}function normalizeKey(Y){return Y?Y.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function joinKeys(...Y){return normalizeKey(Y.join(":"))}function normalizeBaseKey(Y){return Y=normalizeKey(Y),Y?Y+":":""}function defineDriver(Y){return Y}const DRIVER_NAME="memory",memory=()=>{const Y=new Map;return{name:DRIVER_NAME,options:{},hasItem(t){return Y.has(t)},getItem(t){return Y.get(t)??null},getItemRaw(t){return Y.get(t)??null},setItem(t,s){Y.set(t,s)},setItemRaw(t,s){Y.set(t,s)},removeItem(t){Y.delete(t)},getKeys(){return Array.from(Y.keys())},clear(){Y.clear()},dispose(){Y.clear()}}};function createStorage(Y={}){const t={mounts:{"":Y.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},s=Ee=>{for(const me of t.mountpoints)if(Ee.startsWith(me))return{base:me,relativeKey:Ee.slice(me.length),driver:t.mounts[me]};return{base:"",relativeKey:Ee,driver:t.mounts[""]}},se=(Ee,me)=>t.mountpoints.filter(Ie=>Ie.startsWith(Ee)||me&&Ee.startsWith(Ie)).map(Ie=>({relativeBase:Ee.length>Ie.length?Ee.slice(Ie.length):void 0,mountpoint:Ie,driver:t.mounts[Ie]})),fe=(Ee,me)=>{if(t.watching){me=normalizeKey(me);for(const Ie of t.watchListeners)Ie(Ee,me)}},be=async()=>{if(!t.watching){t.watching=!0;for(const Ee in t.mounts)t.unwatch[Ee]=await watch(t.mounts[Ee],fe,Ee)}},xe=async()=>{if(t.watching){for(const Ee in t.unwatch)await t.unwatch[Ee]();t.unwatch={},t.watching=!1}},we=(Ee,me,Ie)=>{const fr=new Map,Oe=wr=>{let qr=fr.get(wr.base);return qr||(qr={driver:wr.driver,base:wr.base,items:[]},fr.set(wr.base,qr)),qr};for(const wr of Ee){const qr=typeof wr=="string",Gr=normalizeKey(qr?wr:wr.key),Yr=qr?void 0:wr.value,Wr=qr||!wr.options?me:{...me,...wr.options},ti=s(Gr);Oe(ti).items.push({key:Gr,value:Yr,relativeKey:ti.relativeKey,options:Wr})}return Promise.all([...fr.values()].map(wr=>Ie(wr))).then(wr=>wr.flat())},Se={hasItem(Ee,me={}){Ee=normalizeKey(Ee);const{relativeKey:Ie,driver:fr}=s(Ee);return asyncCall(fr.hasItem,Ie,me)},getItem(Ee,me={}){Ee=normalizeKey(Ee);const{relativeKey:Ie,driver:fr}=s(Ee);return asyncCall(fr.getItem,Ie,me).then(Oe=>destr(Oe))},getItems(Ee,me){return we(Ee,me,Ie=>Ie.driver.getItems?asyncCall(Ie.driver.getItems,Ie.items.map(fr=>({key:fr.relativeKey,options:fr.options})),me).then(fr=>fr.map(Oe=>({key:joinKeys(Ie.base,Oe.key),value:destr(Oe.value)}))):Promise.all(Ie.items.map(fr=>asyncCall(Ie.driver.getItem,fr.relativeKey,fr.options).then(Oe=>({key:fr.key,value:destr(Oe)})))))},getItemRaw(Ee,me={}){Ee=normalizeKey(Ee);const{relativeKey:Ie,driver:fr}=s(Ee);return fr.getItemRaw?asyncCall(fr.getItemRaw,Ie,me):asyncCall(fr.getItem,Ie,me).then(Oe=>deserializeRaw(Oe))},async setItem(Ee,me,Ie={}){if(me===void 0)return Se.removeItem(Ee);Ee=normalizeKey(Ee);const{relativeKey:fr,driver:Oe}=s(Ee);Oe.setItem&&(await asyncCall(Oe.setItem,fr,stringify(me),Ie),Oe.watch||fe("update",Ee))},async setItems(Ee,me){await we(Ee,me,async Ie=>{if(Ie.driver.setItems)return asyncCall(Ie.driver.setItems,Ie.items.map(fr=>({key:fr.relativeKey,value:stringify(fr.value),options:fr.options})),me);Ie.driver.setItem&&await Promise.all(Ie.items.map(fr=>asyncCall(Ie.driver.setItem,fr.relativeKey,stringify(fr.value),fr.options)))})},async setItemRaw(Ee,me,Ie={}){if(me===void 0)return Se.removeItem(Ee,Ie);Ee=normalizeKey(Ee);const{relativeKey:fr,driver:Oe}=s(Ee);if(Oe.setItemRaw)await asyncCall(Oe.setItemRaw,fr,me,Ie);else if(Oe.setItem)await asyncCall(Oe.setItem,fr,serializeRaw(me),Ie);else return;Oe.watch||fe("update",Ee)},async removeItem(Ee,me={}){typeof me=="boolean"&&(me={removeMeta:me}),Ee=normalizeKey(Ee);const{relativeKey:Ie,driver:fr}=s(Ee);fr.removeItem&&(await asyncCall(fr.removeItem,Ie,me),(me.removeMeta||me.removeMata)&&await asyncCall(fr.removeItem,Ie+"$",me),fr.watch||fe("remove",Ee))},async getMeta(Ee,me={}){typeof me=="boolean"&&(me={nativeOnly:me}),Ee=normalizeKey(Ee);const{relativeKey:Ie,driver:fr}=s(Ee),Oe=Object.create(null);if(fr.getMeta&&Object.assign(Oe,await asyncCall(fr.getMeta,Ie,me)),!me.nativeOnly){const wr=await asyncCall(fr.getItem,Ie+"$",me).then(qr=>destr(qr));wr&&typeof wr=="object"&&(typeof wr.atime=="string"&&(wr.atime=new Date(wr.atime)),typeof wr.mtime=="string"&&(wr.mtime=new Date(wr.mtime)),Object.assign(Oe,wr))}return Oe},setMeta(Ee,me,Ie={}){return this.setItem(Ee+"$",me,Ie)},removeMeta(Ee,me={}){return this.removeItem(Ee+"$",me)},async getKeys(Ee,me={}){Ee=normalizeBaseKey(Ee);const Ie=se(Ee,!0);let fr=[];const Oe=[];for(const wr of Ie){const Gr=(await asyncCall(wr.driver.getKeys,wr.relativeBase,me)).map(Yr=>wr.mountpoint+normalizeKey(Yr)).filter(Yr=>!fr.some(Wr=>Yr.startsWith(Wr)));Oe.push(...Gr),fr=[wr.mountpoint,...fr.filter(Yr=>!Yr.startsWith(wr.mountpoint))]}return Ee?Oe.filter(wr=>wr.startsWith(Ee)&&!wr.endsWith("$")):Oe.filter(wr=>!wr.endsWith("$"))},async clear(Ee,me={}){Ee=normalizeBaseKey(Ee),await Promise.all(se(Ee,!1).map(async Ie=>{if(Ie.driver.clear)return asyncCall(Ie.driver.clear,Ie.relativeBase,me);if(Ie.driver.removeItem){const fr=await Ie.driver.getKeys(Ie.relativeBase||"",me);return Promise.all(fr.map(Oe=>Ie.driver.removeItem(Oe,me)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(Ee=>dispose(Ee)))},async watch(Ee){return await be(),t.watchListeners.push(Ee),async()=>{t.watchListeners=t.watchListeners.filter(me=>me!==Ee),t.watchListeners.length===0&&await xe()}},async unwatch(){t.watchListeners=[],await xe()},mount(Ee,me){if(Ee=normalizeBaseKey(Ee),Ee&&t.mounts[Ee])throw new Error(`already mounted at ${Ee}`);return Ee&&(t.mountpoints.push(Ee),t.mountpoints.sort((Ie,fr)=>fr.length-Ie.length)),t.mounts[Ee]=me,t.watching&&Promise.resolve(watch(me,fe,Ee)).then(Ie=>{t.unwatch[Ee]=Ie}).catch(console.error),Se},async unmount(Ee,me=!0){Ee=normalizeBaseKey(Ee),!(!Ee||!t.mounts[Ee])&&(t.watching&&Ee in t.unwatch&&(t.unwatch[Ee](),delete t.unwatch[Ee]),me&&await dispose(t.mounts[Ee]),t.mountpoints=t.mountpoints.filter(Ie=>Ie!==Ee),delete t.mounts[Ee])},getMount(Ee=""){Ee=normalizeKey(Ee)+":";const me=s(Ee);return{driver:me.driver,base:me.base}},getMounts(Ee="",me={}){return Ee=normalizeKey(Ee),se(Ee,me.parents).map(fr=>({driver:fr.driver,base:fr.mountpoint}))}};return Se}function watch(Y,t,s){return Y.watch?Y.watch((se,fe)=>t(se,s+fe)):()=>{}}async function dispose(Y){typeof Y.dispose=="function"&&await asyncCall(Y.dispose)}function promisifyRequest(Y){return new Promise((t,s)=>{Y.oncomplete=Y.onsuccess=()=>t(Y.result),Y.onabort=Y.onerror=()=>s(Y.error)})}function createStore(Y,t){const s=indexedDB.open(Y);s.onupgradeneeded=()=>s.result.createObjectStore(t);const se=promisifyRequest(s);return(fe,be)=>se.then(xe=>be(xe.transaction(t,fe).objectStore(t)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(Y,t=defaultGetStore()){return t("readonly",s=>promisifyRequest(s.get(Y)))}function set$1(Y,t,s=defaultGetStore()){return s("readwrite",se=>(se.put(t,Y),promisifyRequest(se.transaction)))}function del(Y,t=defaultGetStore()){return t("readwrite",s=>(s.delete(Y),promisifyRequest(s.transaction)))}function clear(Y=defaultGetStore()){return Y("readwrite",t=>(t.clear(),promisifyRequest(t.transaction)))}function eachCursor(Y,t){return Y.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},promisifyRequest(Y.transaction)}function keys(Y=defaultGetStore()){return Y("readonly",t=>{if(t.getAllKeys)return promisifyRequest(t.getAllKeys());const s=[];return eachCursor(t,se=>s.push(se.key)).then(()=>s)})}const JSONStringify=Y=>JSON.stringify(Y,(t,s)=>typeof s=="bigint"?s.toString()+"n":s),JSONParse=Y=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,s=Y.replace(t,'$1"$2n"$3');return JSON.parse(s,(se,fe)=>typeof fe=="string"&&fe.match(/^\d+n$/)?BigInt(fe.substring(0,fe.length-1)):fe)};function safeJsonParse(Y){if(typeof Y!="string")throw new Error(`Cannot safe json parse value of type ${typeof Y}`);try{return JSONParse(Y)}catch{return Y}}function safeJsonStringify(Y){return typeof Y=="string"?Y:JSONStringify(Y)||""}const x$1="idb-keyval";var z$2=(Y={})=>{const t=Y.base&&Y.base.length>0?`${Y.base}:`:"",s=fe=>t+fe;let se;return Y.dbName&&Y.storeName&&(se=createStore(Y.dbName,Y.storeName)),{name:x$1,options:Y,async hasItem(fe){return!(typeof await get(s(fe),se)>"u")},async getItem(fe){return await get(s(fe),se)??null},setItem(fe,be){return set$1(s(fe),be,se)},removeItem(fe){return del(s(fe),se)},getKeys(){return keys(se)},clear(){return clear(se)}}};const D$3="WALLET_CONNECT_V2_INDEXED_DB",E$4="keyvaluestorage";let _$2=class{constructor(){this.indexedDb=createStorage({driver:z$2({dbName:D$3,storeName:E$4})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const s=await this.indexedDb.getItem(t);if(s!==null)return s}async setItem(t,s){await this.indexedDb.setItem(t,safeJsonStringify(s))}async removeItem(t){await this.indexedDb.removeItem(t)}};var l$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c$2={exports:{}};(function(){let Y;function t(){}Y=t,Y.prototype.getItem=function(s){return this.hasOwnProperty(s)?String(this[s]):null},Y.prototype.setItem=function(s,se){this[s]=String(se)},Y.prototype.removeItem=function(s){delete this[s]},Y.prototype.clear=function(){const s=this;Object.keys(s).forEach(function(se){s[se]=void 0,delete s[se]})},Y.prototype.key=function(s){return s=s||0,Object.keys(this)[s]},Y.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l$1<"u"&&l$1.localStorage?c$2.exports=l$1.localStorage:typeof window<"u"&&window.localStorage?c$2.exports=window.localStorage:c$2.exports=new t})();function k$1(Y){var t;return[Y[0],safeJsonParse((t=Y[1])!=null?t:"")]}class K{constructor(){this.localStorage=c$2.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$1)}async getItem(t){const s=this.localStorage.getItem(t);if(s!==null)return safeJsonParse(s)}async setItem(t,s){this.localStorage.setItem(t,safeJsonStringify(s))}async removeItem(t){this.localStorage.removeItem(t)}}const N$1="wc_storage_version",y$3=1,O$3=async(Y,t,s)=>{const se=N$1,fe=await t.getItem(se);if(fe&&fe>=y$3){s(t);return}const be=await Y.getKeys();if(!be.length){s(t);return}const xe=[];for(;be.length;){const we=be.shift();if(!we)continue;const Se=we.toLowerCase();if(Se.includes("wc@")||Se.includes("walletconnect")||Se.includes("wc_")||Se.includes("wallet_connect")){const Ee=await Y.getItem(we);await t.setItem(we,Ee),xe.push(we)}}await t.setItem(se,y$3),s(t),j$2(Y,xe)},j$2=async(Y,t)=>{t.length&&t.forEach(async s=>{await Y.removeItem(s)})};let h$2=class{constructor(){this.initialized=!1,this.setInitialized=s=>{this.storage=s,this.initialized=!0};const t=new K;this.storage=t;try{const s=new _$2;O$3(t,s,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,s){return await this.initialize(),this.storage.setItem(t,s)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const s=setInterval(()=>{this.initialized&&(clearInterval(s),t())},20)})}};var cjs$1={},heartbeat$2={},types={},heartbeat$1={};class IEvents{}const esm=Object.freeze(Object.defineProperty({__proto__:null,IEvents},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(esm);var hasRequiredHeartbeat$2;function requireHeartbeat$2(){if(hasRequiredHeartbeat$2)return heartbeat$1;hasRequiredHeartbeat$2=1,Object.defineProperty(heartbeat$1,"__esModule",{value:!0}),heartbeat$1.IHeartBeat=void 0;const Y=require$$0$1;class t extends Y.IEvents{constructor(se){super()}}return heartbeat$1.IHeartBeat=t,heartbeat$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(Y){Object.defineProperty(Y,"__esModule",{value:!0}),require$$0$2.__exportStar(requireHeartbeat$2(),Y)}(types)),types}var constants={},heartbeat={},hasRequiredHeartbeat$1;function requireHeartbeat$1(){if(hasRequiredHeartbeat$1)return heartbeat;hasRequiredHeartbeat$1=1,Object.defineProperty(heartbeat,"__esModule",{value:!0}),heartbeat.HEARTBEAT_EVENTS=heartbeat.HEARTBEAT_INTERVAL=void 0;const Y=cjs$4;return heartbeat.HEARTBEAT_INTERVAL=Y.FIVE_SECONDS,heartbeat.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},heartbeat}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(Y){Object.defineProperty(Y,"__esModule",{value:!0}),require$$0$2.__exportStar(requireHeartbeat$1(),Y)}(constants)),constants}var hasRequiredHeartbeat;function requireHeartbeat(){if(hasRequiredHeartbeat)return heartbeat$2;hasRequiredHeartbeat=1,Object.defineProperty(heartbeat$2,"__esModule",{value:!0}),heartbeat$2.HeartBeat=void 0;const Y=require$$0$2,t=eventsExports,s=cjs$4,se=requireTypes(),fe=requireConstants();class be extends se.IHeartBeat{constructor(we){super(we),this.events=new t.EventEmitter,this.interval=fe.HEARTBEAT_INTERVAL,this.interval=(we==null?void 0:we.interval)||fe.HEARTBEAT_INTERVAL}static init(we){return Y.__awaiter(this,void 0,void 0,function*(){const Se=new be(we);return yield Se.init(),Se})}init(){return Y.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(we,Se){this.events.on(we,Se)}once(we,Se){this.events.once(we,Se)}off(we,Se){this.events.off(we,Se)}removeListener(we,Se){this.events.removeListener(we,Se)}initialize(){return Y.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),s.toMiliseconds(this.interval))})}pulse(){this.events.emit(fe.HEARTBEAT_EVENTS.pulse)}}return heartbeat$2.HeartBeat=be,heartbeat$2}(function(Y){Object.defineProperty(Y,"__esModule",{value:!0});const t=require$$0$2;t.__exportStar(requireHeartbeat(),Y),t.__exportStar(requireTypes(),Y),t.__exportStar(requireConstants(),Y)})(cjs$1);function tryStringify(Y){try{return JSON.stringify(Y)}catch{return'"[Circular]"'}}var quickFormatUnescaped=format$1;function format$1(Y,t,s){var se=s&&s.stringify||tryStringify,fe=1;if(typeof Y=="object"&&Y!==null){var be=t.length+fe;if(be===1)return Y;var xe=new Array(be);xe[0]=se(Y);for(var we=1;we<be;we++)xe[we]=se(t[we]);return xe.join(" ")}if(typeof Y!="string")return Y;var Se=t.length;if(Se===0)return Y;for(var Ee="",me=1-fe,Ie=-1,fr=Y&&Y.length||0,Oe=0;Oe<fr;){if(Y.charCodeAt(Oe)===37&&Oe+1<fr){switch(Ie=Ie>-1?Ie:0,Y.charCodeAt(Oe+1)){case 100:case 102:if(me>=Se||t[me]==null)break;Ie<Oe&&(Ee+=Y.slice(Ie,Oe)),Ee+=Number(t[me]),Ie=Oe+2,Oe++;break;case 105:if(me>=Se||t[me]==null)break;Ie<Oe&&(Ee+=Y.slice(Ie,Oe)),Ee+=Math.floor(Number(t[me])),Ie=Oe+2,Oe++;break;case 79:case 111:case 106:if(me>=Se||t[me]===void 0)break;Ie<Oe&&(Ee+=Y.slice(Ie,Oe));var wr=typeof t[me];if(wr==="string"){Ee+="'"+t[me]+"'",Ie=Oe+2,Oe++;break}if(wr==="function"){Ee+=t[me].name||"<anonymous>",Ie=Oe+2,Oe++;break}Ee+=se(t[me]),Ie=Oe+2,Oe++;break;case 115:if(me>=Se)break;Ie<Oe&&(Ee+=Y.slice(Ie,Oe)),Ee+=String(t[me]),Ie=Oe+2,Oe++;break;case 37:Ie<Oe&&(Ee+=Y.slice(Ie,Oe)),Ee+="%",Ie=Oe+2,Oe++,me--;break}++me}++Oe}return Ie===-1?Y:(Ie<fr&&(Ee+=Y.slice(Ie)),Ee)}const format=quickFormatUnescaped;var browser$1=pino;const _console=pfGlobalThisOrFallback().console||{},stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:asErrValue};function shouldSerialize(Y,t){return Array.isArray(Y)?Y.filter(function(se){return se!=="!stdSerializers.err"}):Y===!0?Object.keys(t):!1}function pino(Y){Y=Y||{},Y.browser=Y.browser||{};const t=Y.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const s=Y.browser.write||_console;Y.browser.write&&(Y.browser.asObject=!0);const se=Y.serializers||{},fe=shouldSerialize(Y.browser.serialize,se);let be=Y.browser.serialize;Array.isArray(Y.browser.serialize)&&Y.browser.serialize.indexOf("!stdSerializers.err")>-1&&(be=!1);const xe=["error","fatal","warn","info","debug","trace"];typeof s=="function"&&(s.error=s.fatal=s.warn=s.info=s.debug=s.trace=s),Y.enabled===!1&&(Y.level="silent");const we=Y.level||"info",Se=Object.create(s);Se.log||(Se.log=noop),Object.defineProperty(Se,"levelVal",{get:me}),Object.defineProperty(Se,"level",{get:Ie,set:fr});const Ee={transmit:t,serialize:fe,asObject:Y.browser.asObject,levels:xe,timestamp:getTimeFunction(Y)};Se.levels=pino.levels,Se.level=we,Se.setMaxListeners=Se.getMaxListeners=Se.emit=Se.addListener=Se.on=Se.prependListener=Se.once=Se.prependOnceListener=Se.removeListener=Se.removeAllListeners=Se.listeners=Se.listenerCount=Se.eventNames=Se.write=Se.flush=noop,Se.serializers=se,Se._serialize=fe,Se._stdErrSerialize=be,Se.child=Oe,t&&(Se._logEvent=createLogEventShape());function me(){return this.level==="silent"?1/0:this.levels.values[this.level]}function Ie(){return this._level}function fr(wr){if(wr!=="silent"&&!this.levels.values[wr])throw Error("unknown level "+wr);this._level=wr,set(Ee,Se,"error","log"),set(Ee,Se,"fatal","error"),set(Ee,Se,"warn","error"),set(Ee,Se,"info","log"),set(Ee,Se,"debug","log"),set(Ee,Se,"trace","log")}function Oe(wr,qr){if(!wr)throw new Error("missing bindings for child Pino");qr=qr||{},fe&&wr.serializers&&(qr.serializers=wr.serializers);const Gr=qr.serializers;if(fe&&Gr){var Yr=Object.assign({},se,Gr),Wr=Y.browser.serialize===!0?Object.keys(Yr):fe;delete wr.serializers,applySerializers([wr],Wr,Yr,this._stdErrSerialize)}function ti(Qr){this._childLevel=(Qr._childLevel|0)+1,this.error=bind(Qr,wr,"error"),this.fatal=bind(Qr,wr,"fatal"),this.warn=bind(Qr,wr,"warn"),this.info=bind(Qr,wr,"info"),this.debug=bind(Qr,wr,"debug"),this.trace=bind(Qr,wr,"trace"),Yr&&(this.serializers=Yr,this._serialize=Wr),t&&(this._logEvent=createLogEventShape([].concat(Qr._logEvent.bindings,wr)))}return ti.prototype=this,new ti(this)}return Se}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};pino.stdSerializers=stdSerializers;pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime,isoTime});function set(Y,t,s,se){const fe=Object.getPrototypeOf(t);t[s]=t.levelVal>t.levels.values[s]?noop:fe[s]?fe[s]:_console[s]||_console[se]||noop,wrap(Y,t,s)}function wrap(Y,t,s){!Y.transmit&&t[s]===noop||(t[s]=function(se){return function(){const be=Y.timestamp(),xe=new Array(arguments.length),we=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_console?_console:this;for(var Se=0;Se<xe.length;Se++)xe[Se]=arguments[Se];if(Y.serialize&&!Y.asObject&&applySerializers(xe,this._serialize,this.serializers,this._stdErrSerialize),Y.asObject?se.call(we,asObject(this,s,xe,be)):se.apply(we,xe),Y.transmit){const Ee=Y.transmit.level||t.level,me=pino.levels.values[Ee],Ie=pino.levels.values[s];if(Ie<me)return;transmit(this,{ts:be,methodLevel:s,methodValue:Ie,transmitLevel:Ee,transmitValue:pino.levels.values[Y.transmit.level||t.level],send:Y.transmit.send,val:t.levelVal},xe)}}}(t[s]))}function asObject(Y,t,s,se){Y._serialize&&applySerializers(s,Y._serialize,Y.serializers,Y._stdErrSerialize);const fe=s.slice();let be=fe[0];const xe={};se&&(xe.time=se),xe.level=pino.levels.values[t];let we=(Y._childLevel|0)+1;if(we<1&&(we=1),be!==null&&typeof be=="object"){for(;we--&&typeof fe[0]=="object";)Object.assign(xe,fe.shift());be=fe.length?format(fe.shift(),fe):void 0}else typeof be=="string"&&(be=format(fe.shift(),fe));return be!==void 0&&(xe.msg=be),xe}function applySerializers(Y,t,s,se){for(const fe in Y)if(se&&Y[fe]instanceof Error)Y[fe]=pino.stdSerializers.err(Y[fe]);else if(typeof Y[fe]=="object"&&!Array.isArray(Y[fe]))for(const be in Y[fe])t&&t.indexOf(be)>-1&&be in s&&(Y[fe][be]=s[be](Y[fe][be]))}function bind(Y,t,s){return function(){const se=new Array(1+arguments.length);se[0]=t;for(var fe=1;fe<se.length;fe++)se[fe]=arguments[fe-1];return Y[s].apply(this,se)}}function transmit(Y,t,s){const se=t.send,fe=t.ts,be=t.methodLevel,xe=t.methodValue,we=t.val,Se=Y._logEvent.bindings;applySerializers(s,Y._serialize||Object.keys(Y.serializers),Y.serializers,Y._stdErrSerialize===void 0?!0:Y._stdErrSerialize),Y._logEvent.ts=fe,Y._logEvent.messages=s.filter(function(Ee){return Se.indexOf(Ee)===-1}),Y._logEvent.level.label=be,Y._logEvent.level.value=xe,se(be,Y._logEvent,we),Y._logEvent=createLogEventShape(Se)}function createLogEventShape(Y){return{ts:0,messages:[],bindings:Y||[],level:{label:"",value:0}}}function asErrValue(Y){const t={type:Y.constructor.name,msg:Y.message,stack:Y.stack};for(const s in Y)t[s]===void 0&&(t[s]=Y[s]);return t}function getTimeFunction(Y){return typeof Y.timestamp=="function"?Y.timestamp:Y.timestamp===!1?nullTime:epochTime}function mock(){return{}}function passthrough(Y){return Y}function noop(){}function nullTime(){return!1}function epochTime(){return Date.now()}function unixTime(){return Math.round(Date.now()/1e3)}function isoTime(){return new Date(Date.now()).toISOString()}function pfGlobalThisOrFallback(){function Y(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return Y(self)||Y(window)||Y(this)||{}}}const Hg=getDefaultExportFromCjs(browser$1),c$1={level:"info"},n$2="custom_context";var x=Object.defineProperty,S$2=Object.defineProperties,_$1=Object.getOwnPropertyDescriptors,p$3=Object.getOwnPropertySymbols,T$1=Object.prototype.hasOwnProperty,z$1=Object.prototype.propertyIsEnumerable,f$3=(Y,t,s)=>t in Y?x(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,i=(Y,t)=>{for(var s in t||(t={}))T$1.call(t,s)&&f$3(Y,s,t[s]);if(p$3)for(var s of p$3(t))z$1.call(t,s)&&f$3(Y,s,t[s]);return Y},g$5=(Y,t)=>S$2(Y,_$1(t));function k(Y){return g$5(i({},Y),{level:(Y==null?void 0:Y.level)||c$1.level})}function v$4(Y,t=n$2){return Y[t]||""}function b$2(Y,t,s=n$2){return Y[s]=t,Y}function y$2(Y,t=n$2){let s="";return typeof Y.bindings>"u"?s=v$4(Y,t):s=Y.bindings().context||"",s}function w$4(Y,t,s=n$2){const se=y$2(Y,s);return se.trim()?`${se}/${t}`:t}function E$3(Y,t,s=n$2){const se=w$4(Y,t,s),fe=Y.child({context:se});return b$2(fe,se,s)}let n$1=class extends IEvents{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}},h$1=class extends IEvents{constructor(t,s){super(),this.core=t,this.logger=s,this.records=new Map}},a$1=class{constructor(t,s){this.logger=t,this.core=s}},u$1=class extends IEvents{constructor(t,s){super(),this.relayer=t,this.logger=s}},g$4=class extends IEvents{constructor(t){super()}},p$2=class{constructor(t,s,se,fe){this.core=t,this.logger=s,this.name=se}},d$1=class extends IEvents{constructor(t,s){super(),this.relayer=t,this.logger=s}},E$2=class extends IEvents{constructor(t,s){super(),this.core=t,this.logger=s}},y$1=class{constructor(t,s){this.projectId=t,this.logger=s}},v$3=class{constructor(t,s){this.projectId=t,this.logger=s}},b$1=class{constructor(t){this.opts=t,this.protocol="wc",this.version=2}},w$3=class{constructor(t){this.client=t}};var ed25519={},sha512={};(function(Y){Object.defineProperty(Y,"__esModule",{value:!0});var t=binary,s=wipe$1;Y.DIGEST_LENGTH=64,Y.BLOCK_SIZE=128;var se=function(){function we(){this.digestLength=Y.DIGEST_LENGTH,this.blockSize=Y.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return we.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},we.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},we.prototype.clean=function(){s.wipe(this._buffer),s.wipe(this._tempHi),s.wipe(this._tempLo),this.reset()},we.prototype.update=function(Se,Ee){if(Ee===void 0&&(Ee=Se.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var me=0;if(this._bytesHashed+=Ee,this._bufferLength>0){for(;this._bufferLength<Y.BLOCK_SIZE&&Ee>0;)this._buffer[this._bufferLength++]=Se[me++],Ee--;this._bufferLength===this.blockSize&&(be(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(Ee>=this.blockSize&&(me=be(this._tempHi,this._tempLo,this._stateHi,this._stateLo,Se,me,Ee),Ee%=this.blockSize);Ee>0;)this._buffer[this._bufferLength++]=Se[me++],Ee--;return this},we.prototype.finish=function(Se){if(!this._finished){var Ee=this._bytesHashed,me=this._bufferLength,Ie=Ee/536870912|0,fr=Ee<<3,Oe=Ee%128<112?128:256;this._buffer[me]=128;for(var wr=me+1;wr<Oe-8;wr++)this._buffer[wr]=0;t.writeUint32BE(Ie,this._buffer,Oe-8),t.writeUint32BE(fr,this._buffer,Oe-4),be(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,Oe),this._finished=!0}for(var wr=0;wr<this.digestLength/8;wr++)t.writeUint32BE(this._stateHi[wr],Se,wr*8),t.writeUint32BE(this._stateLo[wr],Se,wr*8+4);return this},we.prototype.digest=function(){var Se=new Uint8Array(this.digestLength);return this.finish(Se),Se},we.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},we.prototype.restoreState=function(Se){return this._stateHi.set(Se.stateHi),this._stateLo.set(Se.stateLo),this._bufferLength=Se.bufferLength,Se.buffer&&this._buffer.set(Se.buffer),this._bytesHashed=Se.bytesHashed,this._finished=!1,this},we.prototype.cleanSavedState=function(Se){s.wipe(Se.stateHi),s.wipe(Se.stateLo),Se.buffer&&s.wipe(Se.buffer),Se.bufferLength=0,Se.bytesHashed=0},we}();Y.SHA512=se;var fe=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function be(we,Se,Ee,me,Ie,fr,Oe){for(var wr=Ee[0],qr=Ee[1],Gr=Ee[2],Yr=Ee[3],Wr=Ee[4],ti=Ee[5],Qr=Ee[6],oi=Ee[7],fi=me[0],jr=me[1],ci=me[2],gi=me[3],$i=me[4],hi=me[5],Er=me[6],kr=me[7],Vr,Jr,ii,Xr,ei,Zr,Br,si;Oe>=128;){for(var Si=0;Si<16;Si++){var Ei=8*Si+fr;we[Si]=t.readUint32BE(Ie,Ei),Se[Si]=t.readUint32BE(Ie,Ei+4)}for(var Si=0;Si<80;Si++){var qi=wr,Ii=qr,Ni=Gr,ri=Yr,ai=Wr,li=ti,Hr=Qr,vi=oi,xi=fi,Di=jr,Rn=ci,Ki=gi,wn=$i,Nn=hi,Tn=Er,jn=kr;if(Vr=oi,Jr=kr,ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=(Wr>>>14|$i<<18)^(Wr>>>18|$i<<14)^($i>>>9|Wr<<23),Jr=($i>>>14|Wr<<18)^($i>>>18|Wr<<14)^(Wr>>>9|$i<<23),ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Vr=Wr&ti^~Wr&Qr,Jr=$i&hi^~$i&Er,ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Vr=fe[Si*2],Jr=fe[Si*2+1],ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Vr=we[Si%16],Jr=Se[Si%16],ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,ii=Br&65535|si<<16,Xr=ei&65535|Zr<<16,Vr=ii,Jr=Xr,ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=(wr>>>28|fi<<4)^(fi>>>2|wr<<30)^(fi>>>7|wr<<25),Jr=(fi>>>28|wr<<4)^(wr>>>2|fi<<30)^(wr>>>7|fi<<25),ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Vr=wr&qr^wr&Gr^qr&Gr,Jr=fi&jr^fi&ci^jr&ci,ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,vi=Br&65535|si<<16,jn=ei&65535|Zr<<16,Vr=ri,Jr=Ki,ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=ii,Jr=Xr,ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,ri=Br&65535|si<<16,Ki=ei&65535|Zr<<16,qr=qi,Gr=Ii,Yr=Ni,Wr=ri,ti=ai,Qr=li,oi=Hr,wr=vi,jr=xi,ci=Di,gi=Rn,$i=Ki,hi=wn,Er=Nn,kr=Tn,fi=jn,Si%16===15)for(var Ei=0;Ei<16;Ei++)Vr=we[Ei],Jr=Se[Ei],ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=we[(Ei+9)%16],Jr=Se[(Ei+9)%16],ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,ii=we[(Ei+1)%16],Xr=Se[(Ei+1)%16],Vr=(ii>>>1|Xr<<31)^(ii>>>8|Xr<<24)^ii>>>7,Jr=(Xr>>>1|ii<<31)^(Xr>>>8|ii<<24)^(Xr>>>7|ii<<25),ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,ii=we[(Ei+14)%16],Xr=Se[(Ei+14)%16],Vr=(ii>>>19|Xr<<13)^(Xr>>>29|ii<<3)^ii>>>6,Jr=(Xr>>>19|ii<<13)^(ii>>>29|Xr<<3)^(Xr>>>6|ii<<26),ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,we[Ei]=Br&65535|si<<16,Se[Ei]=ei&65535|Zr<<16}Vr=wr,Jr=fi,ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=Ee[0],Jr=me[0],ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,Ee[0]=wr=Br&65535|si<<16,me[0]=fi=ei&65535|Zr<<16,Vr=qr,Jr=jr,ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=Ee[1],Jr=me[1],ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,Ee[1]=qr=Br&65535|si<<16,me[1]=jr=ei&65535|Zr<<16,Vr=Gr,Jr=ci,ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=Ee[2],Jr=me[2],ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,Ee[2]=Gr=Br&65535|si<<16,me[2]=ci=ei&65535|Zr<<16,Vr=Yr,Jr=gi,ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=Ee[3],Jr=me[3],ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,Ee[3]=Yr=Br&65535|si<<16,me[3]=gi=ei&65535|Zr<<16,Vr=Wr,Jr=$i,ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=Ee[4],Jr=me[4],ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,Ee[4]=Wr=Br&65535|si<<16,me[4]=$i=ei&65535|Zr<<16,Vr=ti,Jr=hi,ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=Ee[5],Jr=me[5],ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,Ee[5]=ti=Br&65535|si<<16,me[5]=hi=ei&65535|Zr<<16,Vr=Qr,Jr=Er,ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=Ee[6],Jr=me[6],ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,Ee[6]=Qr=Br&65535|si<<16,me[6]=Er=ei&65535|Zr<<16,Vr=oi,Jr=kr,ei=Jr&65535,Zr=Jr>>>16,Br=Vr&65535,si=Vr>>>16,Vr=Ee[7],Jr=me[7],ei+=Jr&65535,Zr+=Jr>>>16,Br+=Vr&65535,si+=Vr>>>16,Zr+=ei>>>16,Br+=Zr>>>16,si+=Br>>>16,Ee[7]=oi=Br&65535|si<<16,me[7]=kr=ei&65535|Zr<<16,fr+=128,Oe-=128}return fr}function xe(we){var Se=new se;Se.update(we);var Ee=Se.digest();return Se.clean(),Ee}Y.hash=xe})(sha512);(function(Y){Object.defineProperty(Y,"__esModule",{value:!0}),Y.convertSecretKeyToX25519=Y.convertPublicKeyToX25519=Y.verify=Y.sign=Y.extractPublicKeyFromSecretKey=Y.generateKeyPair=Y.generateKeyPairFromSeed=Y.SEED_LENGTH=Y.SECRET_KEY_LENGTH=Y.PUBLIC_KEY_LENGTH=Y.SIGNATURE_LENGTH=void 0;const t=random,s=sha512,se=wipe$1;Y.SIGNATURE_LENGTH=64,Y.PUBLIC_KEY_LENGTH=32,Y.SECRET_KEY_LENGTH=64,Y.SEED_LENGTH=32;function fe(ri){const ai=new Float64Array(16);if(ri)for(let li=0;li<ri.length;li++)ai[li]=ri[li];return ai}const be=new Uint8Array(32);be[0]=9;const xe=fe(),we=fe([1]),Se=fe([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Ee=fe([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),me=fe([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Ie=fe([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),fr=fe([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Oe(ri,ai){for(let li=0;li<16;li++)ri[li]=ai[li]|0}function wr(ri){let ai=1;for(let li=0;li<16;li++){let Hr=ri[li]+ai+65535;ai=Math.floor(Hr/65536),ri[li]=Hr-ai*65536}ri[0]+=ai-1+37*(ai-1)}function qr(ri,ai,li){const Hr=~(li-1);for(let vi=0;vi<16;vi++){const xi=Hr&(ri[vi]^ai[vi]);ri[vi]^=xi,ai[vi]^=xi}}function Gr(ri,ai){const li=fe(),Hr=fe();for(let vi=0;vi<16;vi++)Hr[vi]=ai[vi];wr(Hr),wr(Hr),wr(Hr);for(let vi=0;vi<2;vi++){li[0]=Hr[0]-65517;for(let Di=1;Di<15;Di++)li[Di]=Hr[Di]-65535-(li[Di-1]>>16&1),li[Di-1]&=65535;li[15]=Hr[15]-32767-(li[14]>>16&1);const xi=li[15]>>16&1;li[14]&=65535,qr(Hr,li,1-xi)}for(let vi=0;vi<16;vi++)ri[2*vi]=Hr[vi]&255,ri[2*vi+1]=Hr[vi]>>8}function Yr(ri,ai){let li=0;for(let Hr=0;Hr<32;Hr++)li|=ri[Hr]^ai[Hr];return(1&li-1>>>8)-1}function Wr(ri,ai){const li=new Uint8Array(32),Hr=new Uint8Array(32);return Gr(li,ri),Gr(Hr,ai),Yr(li,Hr)}function ti(ri){const ai=new Uint8Array(32);return Gr(ai,ri),ai[0]&1}function Qr(ri,ai){for(let li=0;li<16;li++)ri[li]=ai[2*li]+(ai[2*li+1]<<8);ri[15]&=32767}function oi(ri,ai,li){for(let Hr=0;Hr<16;Hr++)ri[Hr]=ai[Hr]+li[Hr]}function fi(ri,ai,li){for(let Hr=0;Hr<16;Hr++)ri[Hr]=ai[Hr]-li[Hr]}function jr(ri,ai,li){let Hr,vi,xi=0,Di=0,Rn=0,Ki=0,wn=0,Nn=0,Tn=0,jn=0,Yn=0,ji=0,Vi=0,On=0,ki=0,Ti=0,ta=0,zi=0,$n=0,ha=0,En=0,An=0,wa=0,Pn=0,Cn=0,Da=0,Aa=0,Ca=0,Mo=0,Ma=0,ja=0,Wo=0,Ha=0,na=li[0],Va=li[1],sa=li[2],aa=li[3],Ya=li[4],ra=li[5],la=li[6],no=li[7],oa=li[8],pa=li[9],Qa=li[10],da=li[11],ca=li[12],za=li[13],va=li[14],ga=li[15];Hr=ai[0],xi+=Hr*na,Di+=Hr*Va,Rn+=Hr*sa,Ki+=Hr*aa,wn+=Hr*Ya,Nn+=Hr*ra,Tn+=Hr*la,jn+=Hr*no,Yn+=Hr*oa,ji+=Hr*pa,Vi+=Hr*Qa,On+=Hr*da,ki+=Hr*ca,Ti+=Hr*za,ta+=Hr*va,zi+=Hr*ga,Hr=ai[1],Di+=Hr*na,Rn+=Hr*Va,Ki+=Hr*sa,wn+=Hr*aa,Nn+=Hr*Ya,Tn+=Hr*ra,jn+=Hr*la,Yn+=Hr*no,ji+=Hr*oa,Vi+=Hr*pa,On+=Hr*Qa,ki+=Hr*da,Ti+=Hr*ca,ta+=Hr*za,zi+=Hr*va,$n+=Hr*ga,Hr=ai[2],Rn+=Hr*na,Ki+=Hr*Va,wn+=Hr*sa,Nn+=Hr*aa,Tn+=Hr*Ya,jn+=Hr*ra,Yn+=Hr*la,ji+=Hr*no,Vi+=Hr*oa,On+=Hr*pa,ki+=Hr*Qa,Ti+=Hr*da,ta+=Hr*ca,zi+=Hr*za,$n+=Hr*va,ha+=Hr*ga,Hr=ai[3],Ki+=Hr*na,wn+=Hr*Va,Nn+=Hr*sa,Tn+=Hr*aa,jn+=Hr*Ya,Yn+=Hr*ra,ji+=Hr*la,Vi+=Hr*no,On+=Hr*oa,ki+=Hr*pa,Ti+=Hr*Qa,ta+=Hr*da,zi+=Hr*ca,$n+=Hr*za,ha+=Hr*va,En+=Hr*ga,Hr=ai[4],wn+=Hr*na,Nn+=Hr*Va,Tn+=Hr*sa,jn+=Hr*aa,Yn+=Hr*Ya,ji+=Hr*ra,Vi+=Hr*la,On+=Hr*no,ki+=Hr*oa,Ti+=Hr*pa,ta+=Hr*Qa,zi+=Hr*da,$n+=Hr*ca,ha+=Hr*za,En+=Hr*va,An+=Hr*ga,Hr=ai[5],Nn+=Hr*na,Tn+=Hr*Va,jn+=Hr*sa,Yn+=Hr*aa,ji+=Hr*Ya,Vi+=Hr*ra,On+=Hr*la,ki+=Hr*no,Ti+=Hr*oa,ta+=Hr*pa,zi+=Hr*Qa,$n+=Hr*da,ha+=Hr*ca,En+=Hr*za,An+=Hr*va,wa+=Hr*ga,Hr=ai[6],Tn+=Hr*na,jn+=Hr*Va,Yn+=Hr*sa,ji+=Hr*aa,Vi+=Hr*Ya,On+=Hr*ra,ki+=Hr*la,Ti+=Hr*no,ta+=Hr*oa,zi+=Hr*pa,$n+=Hr*Qa,ha+=Hr*da,En+=Hr*ca,An+=Hr*za,wa+=Hr*va,Pn+=Hr*ga,Hr=ai[7],jn+=Hr*na,Yn+=Hr*Va,ji+=Hr*sa,Vi+=Hr*aa,On+=Hr*Ya,ki+=Hr*ra,Ti+=Hr*la,ta+=Hr*no,zi+=Hr*oa,$n+=Hr*pa,ha+=Hr*Qa,En+=Hr*da,An+=Hr*ca,wa+=Hr*za,Pn+=Hr*va,Cn+=Hr*ga,Hr=ai[8],Yn+=Hr*na,ji+=Hr*Va,Vi+=Hr*sa,On+=Hr*aa,ki+=Hr*Ya,Ti+=Hr*ra,ta+=Hr*la,zi+=Hr*no,$n+=Hr*oa,ha+=Hr*pa,En+=Hr*Qa,An+=Hr*da,wa+=Hr*ca,Pn+=Hr*za,Cn+=Hr*va,Da+=Hr*ga,Hr=ai[9],ji+=Hr*na,Vi+=Hr*Va,On+=Hr*sa,ki+=Hr*aa,Ti+=Hr*Ya,ta+=Hr*ra,zi+=Hr*la,$n+=Hr*no,ha+=Hr*oa,En+=Hr*pa,An+=Hr*Qa,wa+=Hr*da,Pn+=Hr*ca,Cn+=Hr*za,Da+=Hr*va,Aa+=Hr*ga,Hr=ai[10],Vi+=Hr*na,On+=Hr*Va,ki+=Hr*sa,Ti+=Hr*aa,ta+=Hr*Ya,zi+=Hr*ra,$n+=Hr*la,ha+=Hr*no,En+=Hr*oa,An+=Hr*pa,wa+=Hr*Qa,Pn+=Hr*da,Cn+=Hr*ca,Da+=Hr*za,Aa+=Hr*va,Ca+=Hr*ga,Hr=ai[11],On+=Hr*na,ki+=Hr*Va,Ti+=Hr*sa,ta+=Hr*aa,zi+=Hr*Ya,$n+=Hr*ra,ha+=Hr*la,En+=Hr*no,An+=Hr*oa,wa+=Hr*pa,Pn+=Hr*Qa,Cn+=Hr*da,Da+=Hr*ca,Aa+=Hr*za,Ca+=Hr*va,Mo+=Hr*ga,Hr=ai[12],ki+=Hr*na,Ti+=Hr*Va,ta+=Hr*sa,zi+=Hr*aa,$n+=Hr*Ya,ha+=Hr*ra,En+=Hr*la,An+=Hr*no,wa+=Hr*oa,Pn+=Hr*pa,Cn+=Hr*Qa,Da+=Hr*da,Aa+=Hr*ca,Ca+=Hr*za,Mo+=Hr*va,Ma+=Hr*ga,Hr=ai[13],Ti+=Hr*na,ta+=Hr*Va,zi+=Hr*sa,$n+=Hr*aa,ha+=Hr*Ya,En+=Hr*ra,An+=Hr*la,wa+=Hr*no,Pn+=Hr*oa,Cn+=Hr*pa,Da+=Hr*Qa,Aa+=Hr*da,Ca+=Hr*ca,Mo+=Hr*za,Ma+=Hr*va,ja+=Hr*ga,Hr=ai[14],ta+=Hr*na,zi+=Hr*Va,$n+=Hr*sa,ha+=Hr*aa,En+=Hr*Ya,An+=Hr*ra,wa+=Hr*la,Pn+=Hr*no,Cn+=Hr*oa,Da+=Hr*pa,Aa+=Hr*Qa,Ca+=Hr*da,Mo+=Hr*ca,Ma+=Hr*za,ja+=Hr*va,Wo+=Hr*ga,Hr=ai[15],zi+=Hr*na,$n+=Hr*Va,ha+=Hr*sa,En+=Hr*aa,An+=Hr*Ya,wa+=Hr*ra,Pn+=Hr*la,Cn+=Hr*no,Da+=Hr*oa,Aa+=Hr*pa,Ca+=Hr*Qa,Mo+=Hr*da,Ma+=Hr*ca,ja+=Hr*za,Wo+=Hr*va,Ha+=Hr*ga,xi+=38*$n,Di+=38*ha,Rn+=38*En,Ki+=38*An,wn+=38*wa,Nn+=38*Pn,Tn+=38*Cn,jn+=38*Da,Yn+=38*Aa,ji+=38*Ca,Vi+=38*Mo,On+=38*Ma,ki+=38*ja,Ti+=38*Wo,ta+=38*Ha,vi=1,Hr=xi+vi+65535,vi=Math.floor(Hr/65536),xi=Hr-vi*65536,Hr=Di+vi+65535,vi=Math.floor(Hr/65536),Di=Hr-vi*65536,Hr=Rn+vi+65535,vi=Math.floor(Hr/65536),Rn=Hr-vi*65536,Hr=Ki+vi+65535,vi=Math.floor(Hr/65536),Ki=Hr-vi*65536,Hr=wn+vi+65535,vi=Math.floor(Hr/65536),wn=Hr-vi*65536,Hr=Nn+vi+65535,vi=Math.floor(Hr/65536),Nn=Hr-vi*65536,Hr=Tn+vi+65535,vi=Math.floor(Hr/65536),Tn=Hr-vi*65536,Hr=jn+vi+65535,vi=Math.floor(Hr/65536),jn=Hr-vi*65536,Hr=Yn+vi+65535,vi=Math.floor(Hr/65536),Yn=Hr-vi*65536,Hr=ji+vi+65535,vi=Math.floor(Hr/65536),ji=Hr-vi*65536,Hr=Vi+vi+65535,vi=Math.floor(Hr/65536),Vi=Hr-vi*65536,Hr=On+vi+65535,vi=Math.floor(Hr/65536),On=Hr-vi*65536,Hr=ki+vi+65535,vi=Math.floor(Hr/65536),ki=Hr-vi*65536,Hr=Ti+vi+65535,vi=Math.floor(Hr/65536),Ti=Hr-vi*65536,Hr=ta+vi+65535,vi=Math.floor(Hr/65536),ta=Hr-vi*65536,Hr=zi+vi+65535,vi=Math.floor(Hr/65536),zi=Hr-vi*65536,xi+=vi-1+37*(vi-1),vi=1,Hr=xi+vi+65535,vi=Math.floor(Hr/65536),xi=Hr-vi*65536,Hr=Di+vi+65535,vi=Math.floor(Hr/65536),Di=Hr-vi*65536,Hr=Rn+vi+65535,vi=Math.floor(Hr/65536),Rn=Hr-vi*65536,Hr=Ki+vi+65535,vi=Math.floor(Hr/65536),Ki=Hr-vi*65536,Hr=wn+vi+65535,vi=Math.floor(Hr/65536),wn=Hr-vi*65536,Hr=Nn+vi+65535,vi=Math.floor(Hr/65536),Nn=Hr-vi*65536,Hr=Tn+vi+65535,vi=Math.floor(Hr/65536),Tn=Hr-vi*65536,Hr=jn+vi+65535,vi=Math.floor(Hr/65536),jn=Hr-vi*65536,Hr=Yn+vi+65535,vi=Math.floor(Hr/65536),Yn=Hr-vi*65536,Hr=ji+vi+65535,vi=Math.floor(Hr/65536),ji=Hr-vi*65536,Hr=Vi+vi+65535,vi=Math.floor(Hr/65536),Vi=Hr-vi*65536,Hr=On+vi+65535,vi=Math.floor(Hr/65536),On=Hr-vi*65536,Hr=ki+vi+65535,vi=Math.floor(Hr/65536),ki=Hr-vi*65536,Hr=Ti+vi+65535,vi=Math.floor(Hr/65536),Ti=Hr-vi*65536,Hr=ta+vi+65535,vi=Math.floor(Hr/65536),ta=Hr-vi*65536,Hr=zi+vi+65535,vi=Math.floor(Hr/65536),zi=Hr-vi*65536,xi+=vi-1+37*(vi-1),ri[0]=xi,ri[1]=Di,ri[2]=Rn,ri[3]=Ki,ri[4]=wn,ri[5]=Nn,ri[6]=Tn,ri[7]=jn,ri[8]=Yn,ri[9]=ji,ri[10]=Vi,ri[11]=On,ri[12]=ki,ri[13]=Ti,ri[14]=ta,ri[15]=zi}function ci(ri,ai){jr(ri,ai,ai)}function gi(ri,ai){const li=fe();let Hr;for(Hr=0;Hr<16;Hr++)li[Hr]=ai[Hr];for(Hr=253;Hr>=0;Hr--)ci(li,li),Hr!==2&&Hr!==4&&jr(li,li,ai);for(Hr=0;Hr<16;Hr++)ri[Hr]=li[Hr]}function $i(ri,ai){const li=fe();let Hr;for(Hr=0;Hr<16;Hr++)li[Hr]=ai[Hr];for(Hr=250;Hr>=0;Hr--)ci(li,li),Hr!==1&&jr(li,li,ai);for(Hr=0;Hr<16;Hr++)ri[Hr]=li[Hr]}function hi(ri,ai){const li=fe(),Hr=fe(),vi=fe(),xi=fe(),Di=fe(),Rn=fe(),Ki=fe(),wn=fe(),Nn=fe();fi(li,ri[1],ri[0]),fi(Nn,ai[1],ai[0]),jr(li,li,Nn),oi(Hr,ri[0],ri[1]),oi(Nn,ai[0],ai[1]),jr(Hr,Hr,Nn),jr(vi,ri[3],ai[3]),jr(vi,vi,Ee),jr(xi,ri[2],ai[2]),oi(xi,xi,xi),fi(Di,Hr,li),fi(Rn,xi,vi),oi(Ki,xi,vi),oi(wn,Hr,li),jr(ri[0],Di,Rn),jr(ri[1],wn,Ki),jr(ri[2],Ki,Rn),jr(ri[3],Di,wn)}function Er(ri,ai,li){for(let Hr=0;Hr<4;Hr++)qr(ri[Hr],ai[Hr],li)}function kr(ri,ai){const li=fe(),Hr=fe(),vi=fe();gi(vi,ai[2]),jr(li,ai[0],vi),jr(Hr,ai[1],vi),Gr(ri,Hr),ri[31]^=ti(li)<<7}function Vr(ri,ai,li){Oe(ri[0],xe),Oe(ri[1],we),Oe(ri[2],we),Oe(ri[3],xe);for(let Hr=255;Hr>=0;--Hr){const vi=li[Hr/8|0]>>(Hr&7)&1;Er(ri,ai,vi),hi(ai,ri),hi(ri,ri),Er(ri,ai,vi)}}function Jr(ri,ai){const li=[fe(),fe(),fe(),fe()];Oe(li[0],me),Oe(li[1],Ie),Oe(li[2],we),jr(li[3],me,Ie),Vr(ri,li,ai)}function ii(ri){if(ri.length!==Y.SEED_LENGTH)throw new Error(`ed25519: seed must be ${Y.SEED_LENGTH} bytes`);const ai=(0,s.hash)(ri);ai[0]&=248,ai[31]&=127,ai[31]|=64;const li=new Uint8Array(32),Hr=[fe(),fe(),fe(),fe()];Jr(Hr,ai),kr(li,Hr);const vi=new Uint8Array(64);return vi.set(ri),vi.set(li,32),{publicKey:li,secretKey:vi}}Y.generateKeyPairFromSeed=ii;function Xr(ri){const ai=(0,t.randomBytes)(32,ri),li=ii(ai);return(0,se.wipe)(ai),li}Y.generateKeyPair=Xr;function ei(ri){if(ri.length!==Y.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${Y.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(ri.subarray(32))}Y.extractPublicKeyFromSecretKey=ei;const Zr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Br(ri,ai){let li,Hr,vi,xi;for(Hr=63;Hr>=32;--Hr){for(li=0,vi=Hr-32,xi=Hr-12;vi<xi;++vi)ai[vi]+=li-16*ai[Hr]*Zr[vi-(Hr-32)],li=Math.floor((ai[vi]+128)/256),ai[vi]-=li*256;ai[vi]+=li,ai[Hr]=0}for(li=0,vi=0;vi<32;vi++)ai[vi]+=li-(ai[31]>>4)*Zr[vi],li=ai[vi]>>8,ai[vi]&=255;for(vi=0;vi<32;vi++)ai[vi]-=li*Zr[vi];for(Hr=0;Hr<32;Hr++)ai[Hr+1]+=ai[Hr]>>8,ri[Hr]=ai[Hr]&255}function si(ri){const ai=new Float64Array(64);for(let li=0;li<64;li++)ai[li]=ri[li];for(let li=0;li<64;li++)ri[li]=0;Br(ri,ai)}function Si(ri,ai){const li=new Float64Array(64),Hr=[fe(),fe(),fe(),fe()],vi=(0,s.hash)(ri.subarray(0,32));vi[0]&=248,vi[31]&=127,vi[31]|=64;const xi=new Uint8Array(64);xi.set(vi.subarray(32),32);const Di=new s.SHA512;Di.update(xi.subarray(32)),Di.update(ai);const Rn=Di.digest();Di.clean(),si(Rn),Jr(Hr,Rn),kr(xi,Hr),Di.reset(),Di.update(xi.subarray(0,32)),Di.update(ri.subarray(32)),Di.update(ai);const Ki=Di.digest();si(Ki);for(let wn=0;wn<32;wn++)li[wn]=Rn[wn];for(let wn=0;wn<32;wn++)for(let Nn=0;Nn<32;Nn++)li[wn+Nn]+=Ki[wn]*vi[Nn];return Br(xi.subarray(32),li),xi}Y.sign=Si;function Ei(ri,ai){const li=fe(),Hr=fe(),vi=fe(),xi=fe(),Di=fe(),Rn=fe(),Ki=fe();return Oe(ri[2],we),Qr(ri[1],ai),ci(vi,ri[1]),jr(xi,vi,Se),fi(vi,vi,ri[2]),oi(xi,ri[2],xi),ci(Di,xi),ci(Rn,Di),jr(Ki,Rn,Di),jr(li,Ki,vi),jr(li,li,xi),$i(li,li),jr(li,li,vi),jr(li,li,xi),jr(li,li,xi),jr(ri[0],li,xi),ci(Hr,ri[0]),jr(Hr,Hr,xi),Wr(Hr,vi)&&jr(ri[0],ri[0],fr),ci(Hr,ri[0]),jr(Hr,Hr,xi),Wr(Hr,vi)?-1:(ti(ri[0])===ai[31]>>7&&fi(ri[0],xe,ri[0]),jr(ri[3],ri[0],ri[1]),0)}function qi(ri,ai,li){const Hr=new Uint8Array(32),vi=[fe(),fe(),fe(),fe()],xi=[fe(),fe(),fe(),fe()];if(li.length!==Y.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${Y.SIGNATURE_LENGTH} bytes`);if(Ei(xi,ri))return!1;const Di=new s.SHA512;Di.update(li.subarray(0,32)),Di.update(ri),Di.update(ai);const Rn=Di.digest();return si(Rn),Vr(vi,xi,Rn),Jr(xi,li.subarray(32)),hi(vi,xi),kr(Hr,vi),!Yr(li,Hr)}Y.verify=qi;function Ii(ri){let ai=[fe(),fe(),fe(),fe()];if(Ei(ai,ri))throw new Error("Ed25519: invalid public key");let li=fe(),Hr=fe(),vi=ai[1];oi(li,we,vi),fi(Hr,we,vi),gi(Hr,Hr),jr(li,li,Hr);let xi=new Uint8Array(32);return Gr(xi,li),xi}Y.convertPublicKeyToX25519=Ii;function Ni(ri){const ai=(0,s.hash)(ri.subarray(0,32));ai[0]&=248,ai[31]&=127,ai[31]|=64;const li=new Uint8Array(ai.subarray(0,32));return(0,se.wipe)(ai),li}Y.convertSecretKeyToX25519=Ni})(ed25519);const JWT_IRIDIUM_ALG="EdDSA",JWT_IRIDIUM_TYP="JWT",JWT_DELIMITER=".",JWT_ENCODING="base64url",JSON_ENCODING="utf8",DATA_ENCODING="utf8",DID_DELIMITER=":",DID_PREFIX="did",DID_METHOD="key",MULTICODEC_ED25519_ENCODING="base58btc",MULTICODEC_ED25519_BASE="z",MULTICODEC_ED25519_HEADER="K36",KEY_PAIR_SEED_LENGTH=32;function encodeJSON(Y){return toString(fromString(safeJsonStringify(Y),JSON_ENCODING),JWT_ENCODING)}function encodeIss(Y){const t=fromString(MULTICODEC_ED25519_HEADER,MULTICODEC_ED25519_ENCODING),s=MULTICODEC_ED25519_BASE+toString(concat([t,Y]),MULTICODEC_ED25519_ENCODING);return[DID_PREFIX,DID_METHOD,s].join(DID_DELIMITER)}function encodeSig(Y){return toString(Y,JWT_ENCODING)}function encodeData(Y){return fromString([encodeJSON(Y.header),encodeJSON(Y.payload)].join(JWT_DELIMITER),DATA_ENCODING)}function encodeJWT(Y){return[encodeJSON(Y.header),encodeJSON(Y.payload),encodeSig(Y.signature)].join(JWT_DELIMITER)}function generateKeyPair(Y=random.randomBytes(KEY_PAIR_SEED_LENGTH)){return ed25519.generateKeyPairFromSeed(Y)}async function signJWT(Y,t,s,se,fe=cjs$4.fromMiliseconds(Date.now())){const be={alg:JWT_IRIDIUM_ALG,typ:JWT_IRIDIUM_TYP},xe=encodeIss(se.publicKey),we=fe+s,Se={iss:xe,sub:Y,aud:t,iat:fe,exp:we},Ee=encodeData({header:be,payload:Se}),me=ed25519.sign(se.secretKey,Ee);return encodeJWT({header:be,payload:Se,signature:me})}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(Y){return RESERVED_ERROR_CODES.includes(Y)}function getError(Y){return Object.keys(STANDARD_ERROR_MAP).includes(Y)?STANDARD_ERROR_MAP[Y]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(Y){const t=Object.values(STANDARD_ERROR_MAP).find(s=>s.code===Y);return t||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(Y,t,s){return Y.message.includes("getaddrinfo ENOTFOUND")||Y.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${s} RPC url at ${t}`):Y}var cjs={},crypto$1={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$1;hasRequiredCrypto=1,Object.defineProperty(crypto$1,"__esModule",{value:!0}),crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function Y(){return(commonjsGlobal===null||commonjsGlobal===void 0?void 0:commonjsGlobal.crypto)||(commonjsGlobal===null||commonjsGlobal===void 0?void 0:commonjsGlobal.msCrypto)||{}}crypto$1.getBrowerCrypto=Y;function t(){const se=Y();return se.subtle||se.webkitSubtle}crypto$1.getSubtleCrypto=t;function s(){return!!Y()&&!!t()}return crypto$1.isBrowserCryptoAvailable=s,crypto$1}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function Y(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=Y;function t(){return typeof process$1<"u"&&typeof process$1.versions<"u"&&typeof process$1.versions.node<"u"}env.isNode=t;function s(){return!Y()&&!t()}return env.isBrowser=s,env}(function(Y){Object.defineProperty(Y,"__esModule",{value:!0});const t=require$$0$2;t.__exportStar(requireCrypto(),Y),t.__exportStar(requireEnv(),Y)})(cjs);function payloadId(Y=3){const t=Date.now()*Math.pow(10,Y),s=Math.floor(Math.random()*Math.pow(10,Y));return t+s}function getBigIntRpcId(Y=6){return BigInt(payloadId(Y))}function formatJsonRpcRequest(Y,t,s){return{id:s||payloadId(),jsonrpc:"2.0",method:Y,params:t}}function formatJsonRpcResult(Y,t){return{id:Y,jsonrpc:"2.0",result:t}}function formatJsonRpcError(Y,t,s){return{id:Y,jsonrpc:"2.0",error:formatErrorMessage(t)}}function formatErrorMessage(Y,t){return typeof Y>"u"?getError(INTERNAL_ERROR):(typeof Y=="string"&&(Y=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:Y})),isReservedErrorCode(Y.code)&&(Y=getErrorByCode(Y.code)),Y)}class e{}class n extends e{constructor(){super()}}class r extends n{constructor(t){super()}}const HTTP_REGEX="^https?:",WS_REGEX="^wss?:";function getUrlProtocol(Y){const t=Y.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function matchRegexProtocol(Y,t){const s=getUrlProtocol(Y);return typeof s>"u"?!1:new RegExp(t).test(s)}function isHttpUrl(Y){return matchRegexProtocol(Y,HTTP_REGEX)}function isWsUrl(Y){return matchRegexProtocol(Y,WS_REGEX)}function isLocalhostUrl(Y){return new RegExp("wss?://localhost(:d{2,5})?").test(Y)}function isJsonRpcPayload(Y){return typeof Y=="object"&&"id"in Y&&"jsonrpc"in Y&&Y.jsonrpc==="2.0"}function isJsonRpcRequest(Y){return isJsonRpcPayload(Y)&&"method"in Y}function isJsonRpcResponse(Y){return isJsonRpcPayload(Y)&&(isJsonRpcResult(Y)||isJsonRpcError(Y))}function isJsonRpcResult(Y){return"result"in Y}function isJsonRpcError(Y){return"error"in Y}class JsonRpcProvider extends r{constructor(t){super(t),this.events=new eventsExports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,s){this.events.on(t,s)}once(t,s){this.events.once(t,s)}off(t,s){this.events.off(t,s)}removeListener(t,s){this.events.removeListener(t,s)}async request(t,s){return this.requestStrict(formatJsonRpcRequest(t.method,t.params||[],t.id||getBigIntRpcId().toString()),s)}async requestStrict(t,s){return new Promise(async(se,fe)=>{if(!this.connection.connected)try{await this.open()}catch(be){fe(be)}this.events.on(`${t.id}`,be=>{isJsonRpcError(be)?fe(be.error):se(be.result)});try{await this.connection.send(t,s)}catch(be){fe(be)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),isJsonRpcResponse(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const w$2=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),b=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",a=Y=>Y.split("?")[0],h=10,S$1=w$2();let f$2=class{constructor(t){if(this.url=t,this.events=new eventsExports.EventEmitter,this.registering=!1,!isWsUrl(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,s){this.events.on(t,s)}once(t,s){this.events.once(t,s)}off(t,s){this.events.off(t,s)}removeListener(t,s){this.events.removeListener(t,s)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,s)=>{if(typeof this.socket>"u"){s(new Error("Connection already closed"));return}this.socket.onclose=se=>{this.onClose(se),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(t))}catch(s){this.onError(t.id,s)}}register(t=this.url){if(!isWsUrl(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const s=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=s||this.events.listenerCount("open")>=s)&&this.events.setMaxListeners(s+1),new Promise((se,fe)=>{this.events.once("register_error",be=>{this.resetMaxListeners(),fe(be)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return fe(new Error("WebSocket connection is missing or invalid"));se(this.socket)})})}return this.url=t,this.registering=!0,new Promise((s,se)=>{const fe=new URLSearchParams(t).get("origin"),be=cjs.isReactNative()?{headers:{origin:fe}}:{rejectUnauthorized:!isLocalhostUrl(t)},xe=new S$1(t,[],be);b()?xe.onerror=we=>{const Se=we;se(this.emitError(Se.error))}:xe.on("error",we=>{se(this.emitError(we))}),xe.onopen=()=>{this.onOpen(xe),s(xe)}})}onOpen(t){t.onmessage=s=>this.onPayload(s),t.onclose=s=>this.onClose(s),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const s=typeof t.data=="string"?safeJsonParse(t.data):t.data;this.events.emit("payload",s)}onError(t,s){const se=this.parseError(s),fe=se.message||se.toString(),be=formatJsonRpcError(t,fe);this.events.emit("payload",be)}parseError(t,s=this.url){return parseConnectionError(t,a(s),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h&&this.events.setMaxListeners(h)}emitError(t){const s=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${a(this.url)}`));return this.events.emit("register_error",s),s}};var lodash_isequal={exports:{}};lodash_isequal.exports;(function(Y,t){var s=200,se="__lodash_hash_undefined__",fe=1,be=2,xe=9007199254740991,we="[object Arguments]",Se="[object Array]",Ee="[object AsyncFunction]",me="[object Boolean]",Ie="[object Date]",fr="[object Error]",Oe="[object Function]",wr="[object GeneratorFunction]",qr="[object Map]",Gr="[object Number]",Yr="[object Null]",Wr="[object Object]",ti="[object Promise]",Qr="[object Proxy]",oi="[object RegExp]",fi="[object Set]",jr="[object String]",ci="[object Symbol]",gi="[object Undefined]",$i="[object WeakMap]",hi="[object ArrayBuffer]",Er="[object DataView]",kr="[object Float32Array]",Vr="[object Float64Array]",Jr="[object Int8Array]",ii="[object Int16Array]",Xr="[object Int32Array]",ei="[object Uint8Array]",Zr="[object Uint8ClampedArray]",Br="[object Uint16Array]",si="[object Uint32Array]",Si=/[\\^$.*+?()[\]{}|]/g,Ei=/^\[object .+?Constructor\]$/,qi=/^(?:0|[1-9]\d*)$/,Ii={};Ii[kr]=Ii[Vr]=Ii[Jr]=Ii[ii]=Ii[Xr]=Ii[ei]=Ii[Zr]=Ii[Br]=Ii[si]=!0,Ii[we]=Ii[Se]=Ii[hi]=Ii[me]=Ii[Er]=Ii[Ie]=Ii[fr]=Ii[Oe]=Ii[qr]=Ii[Gr]=Ii[Wr]=Ii[oi]=Ii[fi]=Ii[jr]=Ii[$i]=!1;var Ni=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ri=typeof self=="object"&&self&&self.Object===Object&&self,ai=Ni||ri||Function("return this")(),li=t&&!t.nodeType&&t,Hr=li&&!0&&Y&&!Y.nodeType&&Y,vi=Hr&&Hr.exports===li,xi=vi&&Ni.process,Di=function(){try{return xi&&xi.binding&&xi.binding("util")}catch{}}(),Rn=Di&&Di.isTypedArray;function Ki(pi,mi){for(var Oi=-1,_n=pi==null?0:pi.length,Ga=0,fa=[];++Oi<_n;){var Za=pi[Oi];mi(Za,Oi,pi)&&(fa[Ga++]=Za)}return fa}function wn(pi,mi){for(var Oi=-1,_n=mi.length,Ga=pi.length;++Oi<_n;)pi[Ga+Oi]=mi[Oi];return pi}function Nn(pi,mi){for(var Oi=-1,_n=pi==null?0:pi.length;++Oi<_n;)if(mi(pi[Oi],Oi,pi))return!0;return!1}function Tn(pi,mi){for(var Oi=-1,_n=Array(pi);++Oi<pi;)_n[Oi]=mi(Oi);return _n}function jn(pi){return function(mi){return pi(mi)}}function Yn(pi,mi){return pi.has(mi)}function ji(pi,mi){return pi==null?void 0:pi[mi]}function Vi(pi){var mi=-1,Oi=Array(pi.size);return pi.forEach(function(_n,Ga){Oi[++mi]=[Ga,_n]}),Oi}function On(pi,mi){return function(Oi){return pi(mi(Oi))}}function ki(pi){var mi=-1,Oi=Array(pi.size);return pi.forEach(function(_n){Oi[++mi]=_n}),Oi}var Ti=Array.prototype,ta=Function.prototype,zi=Object.prototype,$n=ai["__core-js_shared__"],ha=ta.toString,En=zi.hasOwnProperty,An=function(){var pi=/[^.]+$/.exec($n&&$n.keys&&$n.keys.IE_PROTO||"");return pi?"Symbol(src)_1."+pi:""}(),wa=zi.toString,Pn=RegExp("^"+ha.call(En).replace(Si,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Cn=vi?ai.Buffer:void 0,Da=ai.Symbol,Aa=ai.Uint8Array,Ca=zi.propertyIsEnumerable,Mo=Ti.splice,Ma=Da?Da.toStringTag:void 0,ja=Object.getOwnPropertySymbols,Wo=Cn?Cn.isBuffer:void 0,Ha=On(Object.keys,Object),na=Co(ai,"DataView"),Va=Co(ai,"Map"),sa=Co(ai,"Promise"),aa=Co(ai,"Set"),Ya=Co(ai,"WeakMap"),ra=Co(Object,"create"),la=cc(na),no=cc(Va),oa=cc(sa),pa=cc(aa),Qa=cc(Ya),da=Da?Da.prototype:void 0,ca=da?da.valueOf:void 0;function za(pi){var mi=-1,Oi=pi==null?0:pi.length;for(this.clear();++mi<Oi;){var _n=pi[mi];this.set(_n[0],_n[1])}}function va(){this.__data__=ra?ra(null):{},this.size=0}function ga(pi){var mi=this.has(pi)&&delete this.__data__[pi];return this.size-=mi?1:0,mi}function ef(pi){var mi=this.__data__;if(ra){var Oi=mi[pi];return Oi===se?void 0:Oi}return En.call(mi,pi)?mi[pi]:void 0}function to(pi){var mi=this.__data__;return ra?mi[pi]!==void 0:En.call(mi,pi)}function ro(pi,mi){var Oi=this.__data__;return this.size+=this.has(pi)?0:1,Oi[pi]=ra&&mi===void 0?se:mi,this}za.prototype.clear=va,za.prototype.delete=ga,za.prototype.get=ef,za.prototype.has=to,za.prototype.set=ro;function yo(pi){var mi=-1,Oi=pi==null?0:pi.length;for(this.clear();++mi<Oi;){var _n=pi[mi];this.set(_n[0],_n[1])}}function Ac(){this.__data__=[],this.size=0}function Mc(pi){var mi=this.__data__,Oi=kc(mi,pi);if(Oi<0)return!1;var _n=mi.length-1;return Oi==_n?mi.pop():Mo.call(mi,Oi,1),--this.size,!0}function Pc(pi){var mi=this.__data__,Oi=kc(mi,pi);return Oi<0?void 0:mi[Oi][1]}function Cc(pi){return kc(this.__data__,pi)>-1}function Oc(pi,mi){var Oi=this.__data__,_n=kc(Oi,pi);return _n<0?(++this.size,Oi.push([pi,mi])):Oi[_n][1]=mi,this}yo.prototype.clear=Ac,yo.prototype.delete=Mc,yo.prototype.get=Pc,yo.prototype.has=Cc,yo.prototype.set=Oc;function Po(pi){var mi=-1,Oi=pi==null?0:pi.length;for(this.clear();++mi<Oi;){var _n=pi[mi];this.set(_n[0],_n[1])}}function Zo(){this.size=0,this.__data__={hash:new za,map:new(Va||yo),string:new za}}function Bc(pi){var mi=_c(this,pi).delete(pi);return this.size-=mi?1:0,mi}function tc(pi){return _c(this,pi).get(pi)}function Nc(pi){return _c(this,pi).has(pi)}function Tc(pi,mi){var Oi=_c(this,pi),_n=Oi.size;return Oi.set(pi,mi),this.size+=Oi.size==_n?0:1,this}Po.prototype.clear=Zo,Po.prototype.delete=Bc,Po.prototype.get=tc,Po.prototype.has=Nc,Po.prototype.set=Tc;function rc(pi){var mi=-1,Oi=pi==null?0:pi.length;for(this.__data__=new Po;++mi<Oi;)this.add(pi[mi])}function yc(pi){return this.__data__.set(pi,se),this}function mc(pi){return this.__data__.has(pi)}rc.prototype.add=rc.prototype.push=yc,rc.prototype.has=mc;function wo(pi){var mi=this.__data__=new yo(pi);this.size=mi.size}function Uc(){this.__data__=new yo,this.size=0}function jc(pi){var mi=this.__data__,Oi=mi.delete(pi);return this.size=mi.size,Oi}function Lc(pi){return this.__data__.get(pi)}function Lu(pi){return this.__data__.has(pi)}function Uf(pi,mi){var Oi=this.__data__;if(Oi instanceof yo){var _n=Oi.__data__;if(!Va||_n.length<s-1)return _n.push([pi,mi]),this.size=++Oi.size,this;Oi=this.__data__=new Po(_n)}return Oi.set(pi,mi),this.size=Oi.size,this}wo.prototype.clear=Uc,wo.prototype.delete=jc,wo.prototype.get=Lc,wo.prototype.has=Lu,wo.prototype.set=Uf;function jf(pi,mi){var Oi=nf(pi),_n=!Oi&&Yf(pi),Ga=!Oi&&!_n&&wf(pi),fa=!Oi&&!_n&&!Ga&&eu(pi),Za=Oi||_n||Ga||fa,uo=Za?Tn(pi.length,String):[],Ba=uo.length;for(var Ja in pi)En.call(pi,Ja)&&!(Za&&(Ja=="length"||Ga&&(Ja=="offset"||Ja=="parent")||fa&&(Ja=="buffer"||Ja=="byteLength"||Ja=="byteOffset")||Vf(Ja,Ba)))&&uo.push(Ja);return uo}function kc(pi,mi){for(var Oi=pi.length;Oi--;)if(Xf(pi[Oi][0],mi))return Oi;return-1}function mf(pi,mi,Oi){var _n=mi(pi);return nf(pi)?_n:wn(_n,Oi(pi))}function zc(pi){return pi==null?pi===void 0?gi:Yr:Ma&&Ma in Object(pi)?Hf(pi):Fu(pi)}function _f(pi){return Hc(pi)&&zc(pi)==we}function Fc(pi,mi,Oi,_n,Ga){return pi===mi?!0:pi==null||mi==null||!Hc(pi)&&!Hc(mi)?pi!==pi&&mi!==mi:Lf(pi,mi,Oi,_n,Fc,Ga)}function Lf(pi,mi,Oi,_n,Ga,fa){var Za=nf(pi),uo=nf(mi),Ba=Za?Se:ic(pi),Ja=uo?Se:ic(mi);Ba=Ba==we?Wr:Ba,Ja=Ja==we?Wr:Ja;var oo=Ba==Wr,Ro=Ja==Wr,ho=Ba==Ja;if(ho&&wf(pi)){if(!wf(mi))return!1;Za=!0,oo=!1}if(ho&&!oo)return fa||(fa=new wo),Za||eu(pi)?tf(pi,mi,Oi,_n,Ga,fa):zu(pi,mi,Ba,Oi,_n,Ga,fa);if(!(Oi&fe)){var eo=oo&&En.call(pi,"__wrapped__"),Eo=Ro&&En.call(mi,"__wrapped__");if(eo||Eo){var Go=eo?pi.value():pi,jo=Eo?mi.value():mi;return fa||(fa=new wo),Ga(Go,jo,Oi,_n,fa)}}return ho?(fa||(fa=new wo),Ff(pi,mi,Oi,_n,Ga,fa)):!1}function ku(pi){if(!Zf(pi)||Gf(pi))return!1;var mi=sf(pi)?Pn:Ei;return mi.test(cc(pi))}function kf(pi){return Hc(pi)&&Qf(pi.length)&&!!Ii[zc(pi)]}function zf(pi){if(!Jf(pi))return Ha(pi);var mi=[];for(var Oi in Object(pi))En.call(pi,Oi)&&Oi!="constructor"&&mi.push(Oi);return mi}function tf(pi,mi,Oi,_n,Ga,fa){var Za=Oi&fe,uo=pi.length,Ba=mi.length;if(uo!=Ba&&!(Za&&Ba>uo))return!1;var Ja=fa.get(pi);if(Ja&&fa.get(mi))return Ja==mi;var oo=-1,Ro=!0,ho=Oi&be?new rc:void 0;for(fa.set(pi,mi),fa.set(mi,pi);++oo<uo;){var eo=pi[oo],Eo=mi[oo];if(_n)var Go=Za?_n(Eo,eo,oo,mi,pi,fa):_n(eo,Eo,oo,pi,mi,fa);if(Go!==void 0){if(Go)continue;Ro=!1;break}if(ho){if(!Nn(mi,function(jo,nc){if(!Yn(ho,nc)&&(eo===jo||Ga(eo,jo,Oi,_n,fa)))return ho.push(nc)})){Ro=!1;break}}else if(!(eo===Eo||Ga(eo,Eo,Oi,_n,fa))){Ro=!1;break}}return fa.delete(pi),fa.delete(mi),Ro}function zu(pi,mi,Oi,_n,Ga,fa,Za){switch(Oi){case Er:if(pi.byteLength!=mi.byteLength||pi.byteOffset!=mi.byteOffset)return!1;pi=pi.buffer,mi=mi.buffer;case hi:return!(pi.byteLength!=mi.byteLength||!fa(new Aa(pi),new Aa(mi)));case me:case Ie:case Gr:return Xf(+pi,+mi);case fr:return pi.name==mi.name&&pi.message==mi.message;case oi:case jr:return pi==mi+"";case qr:var uo=Vi;case fi:var Ba=_n&fe;if(uo||(uo=ki),pi.size!=mi.size&&!Ba)return!1;var Ja=Za.get(pi);if(Ja)return Ja==mi;_n|=be,Za.set(pi,mi);var oo=tf(uo(pi),uo(mi),_n,Ga,fa,Za);return Za.delete(pi),oo;case ci:if(ca)return ca.call(pi)==ca.call(mi)}return!1}function Ff(pi,mi,Oi,_n,Ga,fa){var Za=Oi&fe,uo=rf(pi),Ba=uo.length,Ja=rf(mi),oo=Ja.length;if(Ba!=oo&&!Za)return!1;for(var Ro=Ba;Ro--;){var ho=uo[Ro];if(!(Za?ho in mi:En.call(mi,ho)))return!1}var eo=fa.get(pi);if(eo&&fa.get(mi))return eo==mi;var Eo=!0;fa.set(pi,mi),fa.set(mi,pi);for(var Go=Za;++Ro<Ba;){ho=uo[Ro];var jo=pi[ho],nc=mi[ho];if(_n)var Ef=Za?_n(nc,jo,ho,mi,pi,fa):_n(jo,nc,ho,pi,mi,fa);if(!(Ef===void 0?jo===nc||Ga(jo,nc,Oi,_n,fa):Ef)){Eo=!1;break}Go||(Go=ho=="constructor")}if(Eo&&!Go){var Kc=pi.constructor,vo=mi.constructor;Kc!=vo&&"constructor"in pi&&"constructor"in mi&&!(typeof Kc=="function"&&Kc instanceof Kc&&typeof vo=="function"&&vo instanceof vo)&&(Eo=!1)}return fa.delete(pi),fa.delete(mi),Eo}function rf(pi){return mf(pi,Vu,Kf)}function _c(pi,mi){var Oi=pi.__data__;return Wf(mi)?Oi[typeof mi=="string"?"string":"hash"]:Oi.map}function Co(pi,mi){var Oi=ji(pi,mi);return ku(Oi)?Oi:void 0}function Hf(pi){var mi=En.call(pi,Ma),Oi=pi[Ma];try{pi[Ma]=void 0;var _n=!0}catch{}var Ga=wa.call(pi);return _n&&(mi?pi[Ma]=Oi:delete pi[Ma]),Ga}var Kf=ja?function(pi){return pi==null?[]:(pi=Object(pi),Ki(ja(pi),function(mi){return Ca.call(pi,mi)}))}:Wa,ic=zc;(na&&ic(new na(new ArrayBuffer(1)))!=Er||Va&&ic(new Va)!=qr||sa&&ic(sa.resolve())!=ti||aa&&ic(new aa)!=fi||Ya&&ic(new Ya)!=$i)&&(ic=function(pi){var mi=zc(pi),Oi=mi==Wr?pi.constructor:void 0,_n=Oi?cc(Oi):"";if(_n)switch(_n){case la:return Er;case no:return qr;case oa:return ti;case pa:return fi;case Qa:return $i}return mi});function Vf(pi,mi){return mi=mi??xe,!!mi&&(typeof pi=="number"||qi.test(pi))&&pi>-1&&pi%1==0&&pi<mi}function Wf(pi){var mi=typeof pi;return mi=="string"||mi=="number"||mi=="symbol"||mi=="boolean"?pi!=="__proto__":pi===null}function Gf(pi){return!!An&&An in pi}function Jf(pi){var mi=pi&&pi.constructor,Oi=typeof mi=="function"&&mi.prototype||zi;return pi===Oi}function Fu(pi){return wa.call(pi)}function cc(pi){if(pi!=null){try{return ha.call(pi)}catch{}try{return pi+""}catch{}}return""}function Xf(pi,mi){return pi===mi||pi!==pi&&mi!==mi}var Yf=_f(function(){return arguments}())?_f:function(pi){return Hc(pi)&&En.call(pi,"callee")&&!Ca.call(pi,"callee")},nf=Array.isArray;function Hu(pi){return pi!=null&&Qf(pi.length)&&!sf(pi)}var wf=Wo||Ka;function Ku(pi,mi){return Fc(pi,mi)}function sf(pi){if(!Zf(pi))return!1;var mi=zc(pi);return mi==Oe||mi==wr||mi==Ee||mi==Qr}function Qf(pi){return typeof pi=="number"&&pi>-1&&pi%1==0&&pi<=xe}function Zf(pi){var mi=typeof pi;return pi!=null&&(mi=="object"||mi=="function")}function Hc(pi){return pi!=null&&typeof pi=="object"}var eu=Rn?jn(Rn):kf;function Vu(pi){return Hu(pi)?jf(pi):zf(pi)}function Wa(){return[]}function Ka(){return!1}Y.exports=Ku})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports;const Gi=getDefaultExportFromCjs(lodash_isequalExports);function unfetch_module(Y,t){return t=t||{},new Promise(function(s,se){var fe=new XMLHttpRequest,be=[],xe=[],we={},Se=function(){return{ok:(fe.status/100|0)==2,statusText:fe.statusText,status:fe.status,url:fe.responseURL,text:function(){return Promise.resolve(fe.responseText)},json:function(){return Promise.resolve(fe.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([fe.response]))},clone:Se,headers:{keys:function(){return be},entries:function(){return xe},get:function(me){return we[me.toLowerCase()]},has:function(me){return me.toLowerCase()in we}}}};for(var Ee in fe.open(t.method||"get",Y,!0),fe.onload=function(){fe.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(me,Ie,fr){be.push(Ie=Ie.toLowerCase()),xe.push([Ie,fr]),we[Ie]=we[Ie]?we[Ie]+","+fr:fr}),s(Se())},fe.onerror=se,fe.withCredentials=t.credentials=="include",t.headers)fe.setRequestHeader(Ee,t.headers[Ee]);fe.send(t.body||null)})}const unfetch_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:unfetch_module},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(unfetch_module$1);var browser=self.fetch||(self.fetch=require$$0.default||require$$0);const Yi=getDefaultExportFromCjs(browser);var define_process_env_default={};function Hi(Y,t){if(Y.length>=255)throw new TypeError("Alphabet too long");for(var s=new Uint8Array(256),se=0;se<s.length;se++)s[se]=255;for(var fe=0;fe<Y.length;fe++){var be=Y.charAt(fe),xe=be.charCodeAt(0);if(s[xe]!==255)throw new TypeError(be+" is ambiguous");s[xe]=fe}var we=Y.length,Se=Y.charAt(0),Ee=Math.log(we)/Math.log(256),me=Math.log(256)/Math.log(we);function Ie(wr){if(wr instanceof Uint8Array||(ArrayBuffer.isView(wr)?wr=new Uint8Array(wr.buffer,wr.byteOffset,wr.byteLength):Array.isArray(wr)&&(wr=Uint8Array.from(wr))),!(wr instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(wr.length===0)return"";for(var qr=0,Gr=0,Yr=0,Wr=wr.length;Yr!==Wr&&wr[Yr]===0;)Yr++,qr++;for(var ti=(Wr-Yr)*me+1>>>0,Qr=new Uint8Array(ti);Yr!==Wr;){for(var oi=wr[Yr],fi=0,jr=ti-1;(oi!==0||fi<Gr)&&jr!==-1;jr--,fi++)oi+=256*Qr[jr]>>>0,Qr[jr]=oi%we>>>0,oi=oi/we>>>0;if(oi!==0)throw new Error("Non-zero carry");Gr=fi,Yr++}for(var ci=ti-Gr;ci!==ti&&Qr[ci]===0;)ci++;for(var gi=Se.repeat(qr);ci<ti;++ci)gi+=Y.charAt(Qr[ci]);return gi}function fr(wr){if(typeof wr!="string")throw new TypeError("Expected String");if(wr.length===0)return new Uint8Array;var qr=0;if(wr[qr]!==" "){for(var Gr=0,Yr=0;wr[qr]===Se;)Gr++,qr++;for(var Wr=(wr.length-qr)*Ee+1>>>0,ti=new Uint8Array(Wr);wr[qr];){var Qr=s[wr.charCodeAt(qr)];if(Qr===255)return;for(var oi=0,fi=Wr-1;(Qr!==0||oi<Yr)&&fi!==-1;fi--,oi++)Qr+=we*ti[fi]>>>0,ti[fi]=Qr%256>>>0,Qr=Qr/256>>>0;if(Qr!==0)throw new Error("Non-zero carry");Yr=oi,qr++}if(wr[qr]!==" "){for(var jr=Wr-Yr;jr!==Wr&&ti[jr]===0;)jr++;for(var ci=new Uint8Array(Gr+(Wr-jr)),gi=Gr;jr!==Wr;)ci[gi++]=ti[jr++];return ci}}}function Oe(wr){var qr=fr(wr);if(qr)return qr;throw new Error(`Non-${t} character`)}return{encode:Ie,decodeUnsafe:fr,decode:Oe}}var Ji=Hi,Xi=Ji;const Ne=Y=>{if(Y instanceof Uint8Array&&Y.constructor.name==="Uint8Array")return Y;if(Y instanceof ArrayBuffer)return new Uint8Array(Y);if(ArrayBuffer.isView(Y))return new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength);throw new Error("Unknown type, must be binary type")},Wi$1=Y=>new TextEncoder().encode(Y),Qi=Y=>new TextDecoder().decode(Y);class Zi{constructor(t,s,se){this.name=t,this.prefix=s,this.baseEncode=se}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class es{constructor(t,s,se){if(this.name=t,this.prefix=s,s.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=s.codePointAt(0),this.baseDecode=se}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Ue(this,t)}}class ts{constructor(t){this.decoders=t}or(t){return Ue(this,t)}decode(t){const s=t[0],se=this.decoders[s];if(se)return se.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ue=(Y,t)=>new ts({...Y.decoders||{[Y.prefix]:Y},...t.decoders||{[t.prefix]:t}});class is{constructor(t,s,se,fe){this.name=t,this.prefix=s,this.baseEncode=se,this.baseDecode=fe,this.encoder=new Zi(t,s,se),this.decoder=new es(t,s,fe)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const W=({name:Y,prefix:t,encode:s,decode:se})=>new is(Y,t,s,se),B=({prefix:Y,name:t,alphabet:s})=>{const{encode:se,decode:fe}=Xi(s,t);return W({prefix:Y,name:t,encode:se,decode:be=>Ne(fe(be))})},ss=(Y,t,s,se)=>{const fe={};for(let me=0;me<t.length;++me)fe[t[me]]=me;let be=Y.length;for(;Y[be-1]==="=";)--be;const xe=new Uint8Array(be*s/8|0);let we=0,Se=0,Ee=0;for(let me=0;me<be;++me){const Ie=fe[Y[me]];if(Ie===void 0)throw new SyntaxError(`Non-${se} character`);Se=Se<<s|Ie,we+=s,we>=8&&(we-=8,xe[Ee++]=255&Se>>we)}if(we>=s||255&Se<<8-we)throw new SyntaxError("Unexpected end of data");return xe},rs=(Y,t,s)=>{const se=t[t.length-1]==="=",fe=(1<<s)-1;let be="",xe=0,we=0;for(let Se=0;Se<Y.length;++Se)for(we=we<<8|Y[Se],xe+=8;xe>s;)xe-=s,be+=t[fe&we>>xe];if(xe&&(be+=t[fe&we<<s-xe]),se)for(;be.length*s&7;)be+="=";return be},g$3=({name:Y,prefix:t,bitsPerChar:s,alphabet:se})=>W({prefix:t,name:Y,encode(fe){return rs(fe,se,s)},decode(fe){return ss(fe,se,s,Y)}}),ns=W({prefix:"\0",name:"identity",encode:Y=>Qi(Y),decode:Y=>Wi$1(Y)});var os=Object.freeze({__proto__:null,identity:ns});const as$1=g$3({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var hs$1=Object.freeze({__proto__:null,base2:as$1});const cs$1=g$3({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var us$1=Object.freeze({__proto__:null,base8:cs$1});const ls$1=B({prefix:"9",name:"base10",alphabet:"0123456789"});var ds$1=Object.freeze({__proto__:null,base10:ls$1});const gs$1=g$3({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ps$1=g$3({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ds=Object.freeze({__proto__:null,base16:gs$1,base16upper:ps$1});const ys=g$3({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ms=g$3({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bs=g$3({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fs=g$3({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Es=g$3({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ws=g$3({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vs=g$3({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Is=g$3({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Cs=g$3({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Rs=Object.freeze({__proto__:null,base32:ys,base32upper:ms,base32pad:bs,base32padupper:fs,base32hex:Es,base32hexupper:ws,base32hexpad:vs,base32hexpadupper:Is,base32z:Cs});const _s=B({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ts=B({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ss=Object.freeze({__proto__:null,base36:_s,base36upper:Ts});const Ps=B({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),xs=B({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Os=Object.freeze({__proto__:null,base58btc:Ps,base58flickr:xs});const As=g$3({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zs=g$3({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ns=g$3({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Us=g$3({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ls=Object.freeze({__proto__:null,base64:As,base64pad:zs,base64url:Ns,base64urlpad:Us});const Le=Array.from(""),$s=Le.reduce((Y,t,s)=>(Y[s]=t,Y),[]),Fs=Le.reduce((Y,t,s)=>(Y[t.codePointAt(0)]=s,Y),[]);function Ms(Y){return Y.reduce((t,s)=>(t+=$s[s],t),"")}function ks(Y){const t=[];for(const s of Y){const se=Fs[s.codePointAt(0)];if(se===void 0)throw new Error(`Non-base256emoji character: ${s}`);t.push(se)}return new Uint8Array(t)}const Ks=W({prefix:"",name:"base256emoji",encode:Ms,decode:ks});var Bs=Object.freeze({__proto__:null,base256emoji:Ks}),Vs=Fe,$e=128,qs=127,js=~qs,Gs=Math.pow(2,31);function Fe(Y,t,s){t=t||[],s=s||0;for(var se=s;Y>=Gs;)t[s++]=Y&255|$e,Y/=128;for(;Y&js;)t[s++]=Y&255|$e,Y>>>=7;return t[s]=Y|0,Fe.bytes=s-se+1,t}var Ys=he$1,Hs=128,Me=127;function he$1(Y,se){var s=0,se=se||0,fe=0,be=se,xe,we=Y.length;do{if(be>=we)throw he$1.bytes=0,new RangeError("Could not decode varint");xe=Y[be++],s+=fe<28?(xe&Me)<<fe:(xe&Me)*Math.pow(2,fe),fe+=7}while(xe>=Hs);return he$1.bytes=be-se,s}var Js=Math.pow(2,7),Xs=Math.pow(2,14),Ws=Math.pow(2,21),Qs=Math.pow(2,28),Zs=Math.pow(2,35),er=Math.pow(2,42),tr=Math.pow(2,49),ir=Math.pow(2,56),sr=Math.pow(2,63),rr=function(Y){return Y<Js?1:Y<Xs?2:Y<Ws?3:Y<Qs?4:Y<Zs?5:Y<er?6:Y<tr?7:Y<ir?8:Y<sr?9:10},nr={encode:Vs,decode:Ys,encodingLength:rr},ke=nr;const Ke=(Y,t,s=0)=>(ke.encode(Y,t,s),t),Be=Y=>ke.encodingLength(Y),ce$1=(Y,t)=>{const s=t.byteLength,se=Be(Y),fe=se+Be(s),be=new Uint8Array(fe+s);return Ke(Y,be,0),Ke(s,be,se),be.set(t,fe),new or(Y,s,t,be)};class or{constructor(t,s,se,fe){this.code=t,this.size=s,this.digest=se,this.bytes=fe}}const Ve=({name:Y,code:t,encode:s})=>new ar(Y,t,s);class ar{constructor(t,s,se){this.name=t,this.code=s,this.encode=se}digest(t){if(t instanceof Uint8Array){const s=this.encode(t);return s instanceof Uint8Array?ce$1(this.code,s):s.then(se=>ce$1(this.code,se))}else throw Error("Unknown type, must be binary type")}}const qe=Y=>async t=>new Uint8Array(await crypto.subtle.digest(Y,t)),hr$1=Ve({name:"sha2-256",code:18,encode:qe("SHA-256")}),cr$1=Ve({name:"sha2-512",code:19,encode:qe("SHA-512")});var ur=Object.freeze({__proto__:null,sha256:hr$1,sha512:cr$1});const je=0,lr$1="identity",Ge=Ne,dr=Y=>ce$1(je,Ge(Y)),gr={code:je,name:lr$1,encode:Ge,digest:dr};var pr=Object.freeze({__proto__:null,identity:gr});new TextEncoder,new TextDecoder;const Ye={...os,...hs$1,...us$1,...ds$1,...Ds,...Rs,...Ss,...Os,...Ls,...Bs};({...ur,...pr});function He(Y){return globalThis.Buffer!=null?new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength):Y}function Dr(Y=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?He(globalThis.Buffer.allocUnsafe(Y)):new Uint8Array(Y)}function Je(Y,t,s,se){return{name:Y,prefix:t,encoder:{name:Y,prefix:t,encode:s},decoder:{decode:se}}}const Xe=Je("utf8","u",Y=>"u"+new TextDecoder("utf8").decode(Y),Y=>new TextEncoder().encode(Y.substring(1))),ue$1=Je("ascii","a",Y=>{let t="a";for(let s=0;s<Y.length;s++)t+=String.fromCharCode(Y[s]);return t},Y=>{Y=Y.substring(1);const t=Dr(Y.length);for(let s=0;s<Y.length;s++)t[s]=Y.charCodeAt(s);return t}),yr={utf8:Xe,"utf-8":Xe,hex:Ye.base16,latin1:ue$1,ascii:ue$1,binary:ue$1,...Ye};function mr(Y,t="utf8"){const s=yr[t];if(!s)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?He(globalThis.Buffer.from(Y,"utf-8")):s.decoder.decode(`${s.prefix}${Y}`)}const le$1="wc",We=2,Q$2="core",O$2=`${le$1}@2:${Q$2}:`,Qe={name:Q$2,logger:"error"},Ze={database:":memory:"},et="crypto",de$1="client_ed25519_seed",tt=cjs$4.ONE_DAY,it="keychain",st="0.3",rt="messages",nt="0.3",ot=cjs$4.SIX_HOURS,at="publisher",ht="irn",ct="error",ge$2="wss://relay.walletconnect.com",pe$1="wss://relay.walletconnect.org",ut="relayer",D$2={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},lt="_subscription",P$2={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},dt=cjs$4.ONE_SECOND,gt="2.11.2",pt=1e4,Dt="0.3",yt="WALLETCONNECT_CLIENT_ID",w$1={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},mt="subscription",bt="0.3",ft$1=cjs$4.FIVE_SECONDS*1e3,Et="pairing",wt="0.3",$$1={wc_pairingDelete:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs$4.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs$4.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:0}}},V={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},R$1={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},vt="history",It="0.3",Ct$1="expirer",v$2={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Rt="0.3",Z="verify-api",F$1="https://verify.walletconnect.com",ee="https://verify.walletconnect.org",_t=[F$1,ee],Tt="echo",St="https://echo.walletconnect.com";class Pt{constructor(t,s){this.core=t,this.logger=s,this.keychain=new Map,this.name=it,this.version=st,this.initialized=!1,this.storagePrefix=O$2,this.init=async()=>{if(!this.initialized){const se=await this.getKeyChain();typeof se<"u"&&(this.keychain=se),this.initialized=!0}},this.has=se=>(this.isInitialized(),this.keychain.has(se)),this.set=async(se,fe)=>{this.isInitialized(),this.keychain.set(se,fe),await this.persist()},this.get=se=>{this.isInitialized();const fe=this.keychain.get(se);if(typeof fe>"u"){const{message:be}=N$2("NO_MATCHING_KEY",`${this.name}: ${se}`);throw new Error(be)}return fe},this.del=async se=>{this.isInitialized(),this.keychain.delete(se),await this.persist()},this.core=t,this.logger=E$3(s,this.name)}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,rt$1(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?ot$1(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=N$2("NOT_INITIALIZED",this.name);throw new Error(t)}}}class xt{constructor(t,s,se){this.core=t,this.logger=s,this.name=et,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=fe=>(this.isInitialized(),this.keychain.has(fe)),this.getClientId=async()=>{this.isInitialized();const fe=await this.getClientSeed(),be=generateKeyPair(fe);return encodeIss(be.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const fe=kn();return this.setPrivateKey(fe.publicKey,fe.privateKey)},this.signJWT=async fe=>{this.isInitialized();const be=await this.getClientSeed(),xe=generateKeyPair(be),we=Vn$1();return await signJWT(we,fe,tt,xe)},this.generateSharedKey=(fe,be,xe)=>{this.isInitialized();const we=this.getPrivateKey(fe),Se=Mn(we,be);return this.setSymKey(Se,xe)},this.setSymKey=async(fe,be)=>{this.isInitialized();const xe=be||Kn(fe);return await this.keychain.set(xe,fe),xe},this.deleteKeyPair=async fe=>{this.isInitialized(),await this.keychain.del(fe)},this.deleteSymKey=async fe=>{this.isInitialized(),await this.keychain.del(fe)},this.encode=async(fe,be,xe)=>{this.isInitialized();const we=Ae(xe),Se=safeJsonStringify(be);if(qn(we)){const fr=we.senderPublicKey,Oe=we.receiverPublicKey;fe=await this.generateSharedKey(fr,Oe)}const Ee=this.getSymKey(fe),{type:me,senderPublicKey:Ie}=we;return xn({type:me,symKey:Ee,message:Se,senderPublicKey:Ie})},this.decode=async(fe,be,xe)=>{this.isInitialized();const we=Hn(be,xe);if(qn(we)){const Se=we.receiverPublicKey,Ee=we.senderPublicKey;fe=await this.generateSharedKey(Se,Ee)}try{const Se=this.getSymKey(fe),Ee=Fn({symKey:Se,encoded:be});return safeJsonParse(Ee)}catch(Se){this.logger.error(`Failed to decode message from topic: '${fe}', clientId: '${await this.getClientId()}'`),this.logger.error(Se)}},this.getPayloadType=fe=>{const be=ee$1(fe);return j$3(be.type)},this.getPayloadSenderPublicKey=fe=>{const be=ee$1(fe);return be.senderPublicKey?toString(be.senderPublicKey,p$4):void 0},this.core=t,this.logger=E$3(s,this.name),this.keychain=se||new Pt(this.core,this.logger)}get context(){return y$2(this.logger)}async setPrivateKey(t,s){return await this.keychain.set(t,s),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(de$1)}catch{t=Vn$1(),await this.keychain.set(de$1,t)}return mr(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=N$2("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Ot extends a$1{constructor(t,s){super(t,s),this.logger=t,this.core=s,this.messages=new Map,this.name=rt,this.version=nt,this.initialized=!1,this.storagePrefix=O$2,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const se=await this.getRelayerMessages();typeof se<"u"&&(this.messages=se),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(se){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(se)}finally{this.initialized=!0}}},this.set=async(se,fe)=>{this.isInitialized();const be=Ln(fe);let xe=this.messages.get(se);return typeof xe>"u"&&(xe={}),typeof xe[be]<"u"||(xe[be]=fe,this.messages.set(se,xe),await this.persist()),be},this.get=se=>{this.isInitialized();let fe=this.messages.get(se);return typeof fe>"u"&&(fe={}),fe},this.has=(se,fe)=>{this.isInitialized();const be=this.get(se),xe=Ln(fe);return typeof be[xe]<"u"},this.del=async se=>{this.isInitialized(),this.messages.delete(se),await this.persist()},this.logger=E$3(t,this.name),this.core=s}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,rt$1(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?ot$1(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=N$2("NOT_INITIALIZED",this.name);throw new Error(t)}}}class vr extends u$1{constructor(t,s){super(t,s),this.relayer=t,this.logger=s,this.events=new eventsExports.EventEmitter,this.name=at,this.queue=new Map,this.publishTimeout=cjs$4.toMiliseconds(cjs$4.TEN_SECONDS*2),this.needsTransportRestart=!1,this.publish=async(se,fe,be)=>{var xe;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:se,message:fe,opts:be}});try{const we=(be==null?void 0:be.ttl)||ot,Se=vt$1(be),Ee=(be==null?void 0:be.prompt)||!1,me=(be==null?void 0:be.tag)||0,Ie=(be==null?void 0:be.id)||getBigIntRpcId().toString(),fr={topic:se,message:fe,opts:{ttl:we,relay:Se,prompt:Ee,tag:me,id:Ie}},Oe=setTimeout(()=>this.queue.set(Ie,fr),this.publishTimeout);try{await await ut$1(this.rpcPublish(se,fe,we,Se,Ee,me,Ie),this.publishTimeout,`Failed to publish payload, please try again. id:${Ie} tag:${me}`),this.removeRequestFromQueue(Ie),this.relayer.events.emit(D$2.publish,fr)}catch(wr){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(xe=be==null?void 0:be.internal)!=null&&xe.throwOnFailedPublish)throw this.removeRequestFromQueue(Ie),wr;return}finally{clearTimeout(Oe)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:se,message:fe,opts:be}})}catch(we){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(we),we}},this.on=(se,fe)=>{this.events.on(se,fe)},this.once=(se,fe)=>{this.events.once(se,fe)},this.off=(se,fe)=>{this.events.off(se,fe)},this.removeListener=(se,fe)=>{this.events.removeListener(se,fe)},this.relayer=t,this.logger=E$3(s,this.name),this.registerEventListeners()}get context(){return y$2(this.logger)}rpcPublish(t,s,se,fe,be,xe,we){var Se,Ee,me,Ie;const fr={method:Et$1(fe.protocol).publish,params:{topic:t,message:s,ttl:se,prompt:be,tag:xe},id:we};return w$5((Se=fr.params)==null?void 0:Se.prompt)&&((Ee=fr.params)==null||delete Ee.prompt),w$5((me=fr.params)==null?void 0:me.tag)&&((Ie=fr.params)==null||delete Ie.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:fr}),this.relayer.request(fr)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:s,message:se,opts:fe}=t;await this.publish(s,se,fe)})}registerEventListeners(){this.relayer.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(D$2.connection_stalled);return}this.checkQueue()}),this.relayer.on(D$2.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}class Ir{constructor(){this.map=new Map,this.set=(t,s)=>{const se=this.get(t);this.exists(t,s)||this.map.set(t,[...se,s])},this.get=t=>this.map.get(t)||[],this.exists=(t,s)=>this.get(t).includes(s),this.delete=(t,s)=>{if(typeof s>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const se=this.get(t);if(!this.exists(t,s))return;const fe=se.filter(be=>be!==s);if(!fe.length){this.map.delete(t);return}this.map.set(t,fe)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Cr=Object.defineProperty,Rr=Object.defineProperties,_r=Object.getOwnPropertyDescriptors,At=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,Sr=Object.prototype.propertyIsEnumerable,zt=(Y,t,s)=>t in Y?Cr(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,q$1=(Y,t)=>{for(var s in t||(t={}))Tr.call(t,s)&&zt(Y,s,t[s]);if(At)for(var s of At(t))Sr.call(t,s)&&zt(Y,s,t[s]);return Y},De=(Y,t)=>Rr(Y,_r(t));class Nt extends d$1{constructor(t,s){super(t,s),this.relayer=t,this.logger=s,this.subscriptions=new Map,this.topicMap=new Ir,this.events=new eventsExports.EventEmitter,this.name=mt,this.version=bt,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=O$2,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(se,fe)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:se,opts:fe}});try{const be=vt$1(fe),xe={topic:se,relay:be};this.pending.set(se,xe);const we=await this.rpcSubscribe(se,be);return this.onSubscribe(we,xe),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:se,opts:fe}}),we}catch(be){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(be),be}},this.unsubscribe=async(se,fe)=>{await this.restartToComplete(),this.isInitialized(),typeof(fe==null?void 0:fe.id)<"u"?await this.unsubscribeById(se,fe.id,fe):await this.unsubscribeByTopic(se,fe)},this.isSubscribed=async se=>{if(this.topics.includes(se))return!0;const fe=`${this.pendingSubscriptionWatchLabel}_${se}`;return await new Promise((be,xe)=>{const we=new cjs$4.Watch;we.start(fe);const Se=setInterval(()=>{!this.pending.has(se)&&this.topics.includes(se)&&(clearInterval(Se),we.stop(fe),be(!0)),we.elapsed(fe)>=ft$1&&(clearInterval(Se),we.stop(fe),xe(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(se,fe)=>{this.events.on(se,fe)},this.once=(se,fe)=>{this.events.once(se,fe)},this.off=(se,fe)=>{this.events.off(se,fe)},this.removeListener=(se,fe)=>{this.events.removeListener(se,fe)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=E$3(s,this.name),this.clientId=""}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,s){let se=!1;try{se=this.getSubscription(t).topic===s}catch{}return se}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,s){const se=this.topicMap.get(t);await Promise.all(se.map(async fe=>await this.unsubscribeById(t,fe,s)))}async unsubscribeById(t,s,se){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:s,opts:se}});try{const fe=vt$1(se);await this.rpcUnsubscribe(t,s,fe);const be=U$2("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,s,be),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:s,opts:se}})}catch(fe){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(fe),fe}}async rpcSubscribe(t,s){const se={method:Et$1(s.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:se});try{await await ut$1(this.relayer.request(se),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(D$2.connection_stalled)}return Ln(t+this.clientId)}async rpcBatchSubscribe(t){if(!t.length)return;const s=t[0].relay,se={method:Et$1(s.protocol).batchSubscribe,params:{topics:t.map(fe=>fe.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:se});try{return await await ut$1(this.relayer.request(se),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(D$2.connection_stalled)}}rpcUnsubscribe(t,s,se){const fe={method:Et$1(se.protocol).unsubscribe,params:{topic:t,id:s}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:fe}),this.relayer.request(fe)}onSubscribe(t,s){this.setSubscription(t,De(q$1({},s),{id:t})),this.pending.delete(s.topic)}onBatchSubscribe(t){t.length&&t.forEach(s=>{this.setSubscription(s.id,q$1({},s)),this.pending.delete(s.topic)})}async onUnsubscribe(t,s,se){this.events.removeAllListeners(s),this.hasSubscription(s,t)&&this.deleteSubscription(s,se),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,s){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:s}),this.addSubscription(t,s))}addSubscription(t,s){this.subscriptions.set(t,q$1({},s)),this.topicMap.set(s.topic,t),this.events.emit(w$1.created,s)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const s=this.subscriptions.get(t);if(!s){const{message:se}=N$2("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(se)}return s}deleteSubscription(t,s){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:s});const se=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(se.topic,t),this.events.emit(w$1.deleted,De(q$1({},se),{reason:s}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(w$1.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let s=0;s<t;s++){const se=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(se)}}this.events.emit(w$1.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:s}=N$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(s),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(s)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const s=await this.rpcBatchSubscribe(t);k$2(s)&&this.onBatchSubscribe(s.map((se,fe)=>De(q$1({},t[fe]),{id:se})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const t=[];this.pending.forEach(s=>{t.push(s)}),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(D$2.connect,async()=>{await this.onConnect()}),this.relayer.on(D$2.disconnect,()=>{this.onDisconnect()}),this.events.on(w$1.created,async t=>{const s=w$1.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:t}),await this.persist()}),this.events.on(w$1.deleted,async t=>{const s=w$1.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=N$2("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{const s=setInterval(()=>{this.restartInProgress||(clearInterval(s),t())},this.pollingInterval)})}}var Pr=Object.defineProperty,Ut=Object.getOwnPropertySymbols,xr=Object.prototype.hasOwnProperty,Or=Object.prototype.propertyIsEnumerable,Lt=(Y,t,s)=>t in Y?Pr(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,Ar=(Y,t)=>{for(var s in t||(t={}))xr.call(t,s)&&Lt(Y,s,t[s]);if(Ut)for(var s of Ut(t))Or.call(t,s)&&Lt(Y,s,t[s]);return Y};class $t extends g$4{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new eventsExports.EventEmitter,this.name=ut,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.request=async s=>{this.logger.debug("Publishing Request Payload");const se=s.id;try{await this.toEstablishConnection();const fe=this.provider.request(s);return this.requestsInFlight.set(se,{promise:fe,request:s}),await fe}catch(fe){throw this.logger.debug("Failed to Publish Request"),this.logger.error(fe),fe}finally{this.requestsInFlight.delete(se)}},this.onPayloadHandler=s=>{this.onProviderPayload(s)},this.onConnectHandler=()=>{this.events.emit(D$2.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=s=>{this.logger.error(s),this.events.emit(D$2.error,s),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(P$2.payload,this.onPayloadHandler),this.provider.on(P$2.connect,this.onConnectHandler),this.provider.on(P$2.disconnect,this.onDisconnectHandler),this.provider.on(P$2.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?E$3(t.logger,this.name):Hg(k({level:t.logger||ct})),this.messages=new Ot(this.logger,t.core),this.subscriber=new Nt(this,this.logger),this.publisher=new vr(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||ge$2,this.projectId=t.projectId,this.bundleId=Jn(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${pe$1}...`),await this.restartTransport(pe$1)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},pt)}get context(){return y$2(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(t,s,se){this.isInitialized(),await this.publisher.publish(t,s,se),await this.recordMessageEvent({topic:t,message:s,publishedAt:Date.now()})}async subscribe(t,s){var se;this.isInitialized();let fe=((se=this.subscriber.topicMap.get(t))==null?void 0:se[0])||"";if(fe)return fe;let be;const xe=we=>{we.topic===t&&(this.subscriber.off(w$1.created,xe),be())};return await Promise.all([new Promise(we=>{be=we,this.subscriber.on(w$1.created,xe)}),new Promise(async we=>{fe=await this.subscriber.subscribe(t,s),we()})]),fe}async unsubscribe(t,s){this.isInitialized(),await this.subscriber.unsubscribe(t,s)}on(t,s){this.events.on(t,s)}once(t,s){this.events.once(t,s)}off(t,s){this.events.off(t,s)}removeListener(t,s){this.events.removeListener(t,s)}async transportClose(){this.requestsInFlight.size>0&&(this.logger.debug("Waiting for all in-flight requests to finish before closing transport..."),this.requestsInFlight.forEach(async t=>{await t.promise})),this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await ut$1(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(t){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(s=>{if(!this.initialized)return s();this.subscriber.once(w$1.resubscribed,()=>{s()})}),new Promise(async(s,se)=>{try{await ut$1(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(fe){se(fe);return}s()})])}catch(s){this.logger.error(s);const se=s;if(!this.isConnectionStalled(se.message))throw s;this.provider.events.emit(P$2.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(t){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await rr$1())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(t){return this.staleConnectionErrors.some(s=>t.includes(s))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new JsonRpcProvider(new f$2(Xn({sdkVersion:gt,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:s,message:se}=t;await this.messages.set(s,se)}async shouldIgnoreMessageEvent(t){const{topic:s,message:se}=t;if(!se||se.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${se}`),!0;if(!await this.subscriber.isSubscribed(s))return this.logger.debug(`Ignoring message for non-subscribed topic ${s}`),!0;const fe=this.messages.has(s,se);return fe&&this.logger.debug(`Ignoring duplicate message: ${se}`),fe}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),isJsonRpcRequest(t)){if(!t.method.endsWith(lt))return;const s=t.params,{topic:se,message:fe,publishedAt:be}=s.data,xe={topic:se,message:fe,publishedAt:be};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ar({type:"event",event:s.id},xe)),this.events.emit(s.id,xe),await this.acknowledgePayload(t),await this.onMessageEvent(xe)}else isJsonRpcResponse(t)&&this.events.emit(D$2.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(D$2.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const s=formatJsonRpcResult(t.id,!0);await this.provider.connection.send(s)}unregisterProviderListeners(){this.provider.off(P$2.payload,this.onPayloadHandler),this.provider.off(P$2.connect,this.onConnectHandler),this.provider.off(P$2.disconnect,this.onDisconnectHandler),this.provider.off(P$2.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(D$2.connection_stalled,()=>{this.restartTransport().catch(s=>this.logger.error(s))});let t=await rr$1();or$1(async s=>{this.initialized&&t!==s&&(t=s,s?await this.restartTransport().catch(se=>this.logger.error(se)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(se=>this.logger.error(se))))})}onProviderDisconnect(){this.events.emit(D$2.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(t=>this.logger.error(t))},cjs$4.toMiliseconds(dt)))}isInitialized(){if(!this.initialized){const{message:t}=N$2("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(t=>{const s=setInterval(()=>{this.connected&&(clearInterval(s),t())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var zr=Object.defineProperty,Ft=Object.getOwnPropertySymbols,Nr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,Mt=(Y,t,s)=>t in Y?zr(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,kt=(Y,t)=>{for(var s in t||(t={}))Nr.call(t,s)&&Mt(Y,s,t[s]);if(Ft)for(var s of Ft(t))Ur.call(t,s)&&Mt(Y,s,t[s]);return Y};class Kt extends p$2{constructor(t,s,se,fe=O$2,be=void 0){super(t,s,se,fe),this.core=t,this.logger=s,this.name=se,this.map=new Map,this.version=Dt,this.cached=[],this.initialized=!1,this.storagePrefix=O$2,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(xe=>{this.getKey&&xe!==null&&!w$5(xe)?this.map.set(this.getKey(xe),xe):Lt$1(xe)?this.map.set(xe.id,xe):xt$1(xe)&&this.map.set(xe.topic,xe)}),this.cached=[],this.initialized=!0)},this.set=async(xe,we)=>{this.isInitialized(),this.map.has(xe)?await this.update(xe,we):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:xe,value:we}),this.map.set(xe,we),await this.persist())},this.get=xe=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:xe}),this.getData(xe)),this.getAll=xe=>(this.isInitialized(),xe?this.values.filter(we=>Object.keys(xe).every(Se=>Gi(we[Se],xe[Se]))):this.values),this.update=async(xe,we)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:xe,update:we});const Se=kt(kt({},this.getData(xe)),we);this.map.set(xe,Se),await this.persist()},this.delete=async(xe,we)=>{this.isInitialized(),this.map.has(xe)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:xe,reason:we}),this.map.delete(xe),await this.persist())},this.logger=E$3(s,this.name),this.storagePrefix=fe,this.getKey=be}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const s=this.map.get(t);if(!s){const{message:se}=N$2("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(se),new Error(se)}return s}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:s}=N$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(s),new Error(s)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=N$2("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Bt{constructor(t,s){this.core=t,this.logger=s,this.name=Et,this.version=wt,this.events=new Ug,this.initialized=!1,this.storagePrefix=O$2,this.ignoredPayloadTypes=[_$3],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:se})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...se])]},this.create=async()=>{this.isInitialized();const se=Vn$1(),fe=await this.core.crypto.setSymKey(se),be=pt$1(cjs$4.FIVE_MINUTES),xe={protocol:ht},we={topic:fe,expiry:be,relay:xe,active:!1},Se=Rt$1({protocol:this.core.protocol,version:this.core.version,topic:fe,symKey:se,relay:xe,expiryTimestamp:be});return await this.pairings.set(fe,we),await this.core.relayer.subscribe(fe),this.core.expirer.set(fe,be),{topic:fe,uri:Se}},this.pair=async se=>{this.isInitialized(),this.isValidPair(se);const{topic:fe,symKey:be,relay:xe,expiryTimestamp:we}=Pt$1(se.uri);let Se;if(this.pairings.keys.includes(fe)&&(Se=this.pairings.get(fe),Se.active))throw new Error(`Pairing already exists: ${fe}. Please try again with a new connection URI.`);const Ee=we||pt$1(cjs$4.FIVE_MINUTES),me={topic:fe,relay:xe,expiry:Ee,active:!1};return await this.pairings.set(fe,me),this.core.expirer.set(fe,Ee),se.activatePairing&&await this.activate({topic:fe}),this.events.emit(V.create,me),this.core.crypto.keychain.has(fe)||(await this.core.crypto.setSymKey(be,fe),await this.core.relayer.subscribe(fe,{relay:xe})),me},this.activate=async({topic:se})=>{this.isInitialized();const fe=pt$1(cjs$4.THIRTY_DAYS);await this.pairings.update(se,{active:!0,expiry:fe}),this.core.expirer.set(se,fe)},this.ping=async se=>{this.isInitialized(),await this.isValidPing(se);const{topic:fe}=se;if(this.pairings.keys.includes(fe)){const be=await this.sendRequest(fe,"wc_pairingPing",{}),{done:xe,resolve:we,reject:Se}=at$1();this.events.once(yt$1("pairing_ping",be),({error:Ee})=>{Ee?Se(Ee):we()}),await xe()}},this.updateExpiry=async({topic:se,expiry:fe})=>{this.isInitialized(),await this.pairings.update(se,{expiry:fe})},this.updateMetadata=async({topic:se,metadata:fe})=>{this.isInitialized(),await this.pairings.update(se,{peerMetadata:fe})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async se=>{this.isInitialized(),await this.isValidDisconnect(se);const{topic:fe}=se;this.pairings.keys.includes(fe)&&(await this.sendRequest(fe,"wc_pairingDelete",U$2("USER_DISCONNECTED")),await this.deletePairing(fe))},this.sendRequest=async(se,fe,be)=>{const xe=formatJsonRpcRequest(fe,be),we=await this.core.crypto.encode(se,xe),Se=$$1[fe].req;return this.core.history.set(se,xe),this.core.relayer.publish(se,we,Se),xe.id},this.sendResult=async(se,fe,be)=>{const xe=formatJsonRpcResult(se,be),we=await this.core.crypto.encode(fe,xe),Se=await this.core.history.get(fe,se),Ee=$$1[Se.request.method].res;await this.core.relayer.publish(fe,we,Ee),await this.core.history.resolve(xe)},this.sendError=async(se,fe,be)=>{const xe=formatJsonRpcError(se,be),we=await this.core.crypto.encode(fe,xe),Se=await this.core.history.get(fe,se),Ee=$$1[Se.request.method]?$$1[Se.request.method].res:$$1.unregistered_method.res;await this.core.relayer.publish(fe,we,Ee),await this.core.history.resolve(xe)},this.deletePairing=async(se,fe)=>{await this.core.relayer.unsubscribe(se),await Promise.all([this.pairings.delete(se,U$2("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(se),fe?Promise.resolve():this.core.expirer.del(se)])},this.cleanup=async()=>{const se=this.pairings.getAll().filter(fe=>mt$1(fe.expiry));await Promise.all(se.map(fe=>this.deletePairing(fe.topic)))},this.onRelayEventRequest=se=>{const{topic:fe,payload:be}=se;switch(be.method){case"wc_pairingPing":return this.onPairingPingRequest(fe,be);case"wc_pairingDelete":return this.onPairingDeleteRequest(fe,be);default:return this.onUnknownRpcMethodRequest(fe,be)}},this.onRelayEventResponse=async se=>{const{topic:fe,payload:be}=se,xe=(await this.core.history.get(fe,be.id)).request.method;switch(xe){case"wc_pairingPing":return this.onPairingPingResponse(fe,be);default:return this.onUnknownRpcMethodResponse(xe)}},this.onPairingPingRequest=async(se,fe)=>{const{id:be}=fe;try{this.isValidPing({topic:se}),await this.sendResult(be,se,!0),this.events.emit(V.ping,{id:be,topic:se})}catch(xe){await this.sendError(be,se,xe),this.logger.error(xe)}},this.onPairingPingResponse=(se,fe)=>{const{id:be}=fe;setTimeout(()=>{isJsonRpcResult(fe)?this.events.emit(yt$1("pairing_ping",be),{}):isJsonRpcError(fe)&&this.events.emit(yt$1("pairing_ping",be),{error:fe.error})},500)},this.onPairingDeleteRequest=async(se,fe)=>{const{id:be}=fe;try{this.isValidDisconnect({topic:se}),await this.deletePairing(se),this.events.emit(V.delete,{id:be,topic:se})}catch(xe){await this.sendError(be,se,xe),this.logger.error(xe)}},this.onUnknownRpcMethodRequest=async(se,fe)=>{const{id:be,method:xe}=fe;try{if(this.registeredMethods.includes(xe))return;const we=U$2("WC_METHOD_UNSUPPORTED",xe);await this.sendError(be,se,we),this.logger.error(we)}catch(we){await this.sendError(be,se,we),this.logger.error(we)}},this.onUnknownRpcMethodResponse=se=>{this.registeredMethods.includes(se)||this.logger.error(U$2("WC_METHOD_UNSUPPORTED",se))},this.isValidPair=se=>{var fe;if(!Gt$1(se)){const{message:xe}=N$2("MISSING_OR_INVALID",`pair() params: ${se}`);throw new Error(xe)}if(!Kt$1(se.uri)){const{message:xe}=N$2("MISSING_OR_INVALID",`pair() uri: ${se.uri}`);throw new Error(xe)}const be=Pt$1(se.uri);if(!((fe=be==null?void 0:be.relay)!=null&&fe.protocol)){const{message:xe}=N$2("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(xe)}if(!(be!=null&&be.symKey)){const{message:xe}=N$2("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(xe)}if(be!=null&&be.expiryTimestamp&&cjs$4.toMiliseconds(be==null?void 0:be.expiryTimestamp)<Date.now()){const{message:xe}=N$2("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(xe)}},this.isValidPing=async se=>{if(!Gt$1(se)){const{message:be}=N$2("MISSING_OR_INVALID",`ping() params: ${se}`);throw new Error(be)}const{topic:fe}=se;await this.isValidPairingTopic(fe)},this.isValidDisconnect=async se=>{if(!Gt$1(se)){const{message:be}=N$2("MISSING_OR_INVALID",`disconnect() params: ${se}`);throw new Error(be)}const{topic:fe}=se;await this.isValidPairingTopic(fe)},this.isValidPairingTopic=async se=>{if(!g$6(se,!1)){const{message:fe}=N$2("MISSING_OR_INVALID",`pairing topic should be a string: ${se}`);throw new Error(fe)}if(!this.pairings.keys.includes(se)){const{message:fe}=N$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${se}`);throw new Error(fe)}if(mt$1(this.pairings.get(se).expiry)){await this.deletePairing(se);const{message:fe}=N$2("EXPIRED",`pairing topic: ${se}`);throw new Error(fe)}},this.core=t,this.logger=E$3(s,this.name),this.pairings=new Kt(this.core,this.logger,this.name,this.storagePrefix)}get context(){return y$2(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=N$2("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(D$2.message,async t=>{const{topic:s,message:se}=t;if(!this.pairings.keys.includes(s)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(se)))return;const fe=await this.core.crypto.decode(s,se);try{isJsonRpcRequest(fe)?(this.core.history.set(s,fe),this.onRelayEventRequest({topic:s,payload:fe})):isJsonRpcResponse(fe)&&(await this.core.history.resolve(fe),await this.onRelayEventResponse({topic:s,payload:fe}),this.core.history.delete(s,fe.id))}catch(be){this.logger.error(be)}})}registerExpirerEvents(){this.core.expirer.on(v$2.expired,async t=>{const{topic:s}=ft$2(t.target);s&&this.pairings.keys.includes(s)&&(await this.deletePairing(s,!0),this.events.emit(V.expire,{topic:s}))})}}class Vt extends h$1{constructor(t,s){super(t,s),this.core=t,this.logger=s,this.records=new Map,this.events=new eventsExports.EventEmitter,this.name=vt,this.version=It,this.cached=[],this.initialized=!1,this.storagePrefix=O$2,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(se=>this.records.set(se.id,se)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(se,fe,be)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:se,request:fe,chainId:be}),this.records.has(fe.id))return;const xe={id:fe.id,topic:se,request:{method:fe.method,params:fe.params||null},chainId:be,expiry:pt$1(cjs$4.THIRTY_DAYS)};this.records.set(xe.id,xe),this.events.emit(R$1.created,xe)},this.resolve=async se=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:se}),!this.records.has(se.id))return;const fe=await this.getRecord(se.id);typeof fe.response>"u"&&(fe.response=isJsonRpcError(se)?{error:se.error}:{result:se.result},this.records.set(fe.id,fe),this.events.emit(R$1.updated,fe))},this.get=async(se,fe)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:se,id:fe}),await this.getRecord(fe)),this.delete=(se,fe)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:fe}),this.values.forEach(be=>{if(be.topic===se){if(typeof fe<"u"&&be.id!==fe)return;this.records.delete(be.id),this.events.emit(R$1.deleted,be)}})},this.exists=async(se,fe)=>(this.isInitialized(),this.records.has(fe)?(await this.getRecord(fe)).topic===se:!1),this.on=(se,fe)=>{this.events.on(se,fe)},this.once=(se,fe)=>{this.events.once(se,fe)},this.off=(se,fe)=>{this.events.off(se,fe)},this.removeListener=(se,fe)=>{this.events.removeListener(se,fe)},this.logger=E$3(s,this.name)}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(s=>{if(typeof s.response<"u")return;const se={topic:s.topic,request:formatJsonRpcRequest(s.request.method,s.request.params,s.id),chainId:s.chainId};return t.push(se)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const s=this.records.get(t);if(!s){const{message:se}=N$2("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(se)}return s}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(R$1.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:s}=N$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(s),new Error(s)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(R$1.created,t=>{const s=R$1.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,record:t}),this.persist()}),this.events.on(R$1.updated,t=>{const s=R$1.updated;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,record:t}),this.persist()}),this.events.on(R$1.deleted,t=>{const s=R$1.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,record:t}),this.persist()}),this.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(t=>{cjs$4.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.delete(t.topic,t.id))})}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=N$2("NOT_INITIALIZED",this.name);throw new Error(t)}}}class qt extends E$2{constructor(t,s){super(t,s),this.core=t,this.logger=s,this.expirations=new Map,this.events=new eventsExports.EventEmitter,this.name=Ct$1,this.version=Rt,this.cached=[],this.initialized=!1,this.storagePrefix=O$2,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(se=>this.expirations.set(se.target,se)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=se=>{try{const fe=this.formatTarget(se);return typeof this.getExpiration(fe)<"u"}catch{return!1}},this.set=(se,fe)=>{this.isInitialized();const be=this.formatTarget(se),xe={target:be,expiry:fe};this.expirations.set(be,xe),this.checkExpiry(be,xe),this.events.emit(v$2.created,{target:be,expiration:xe})},this.get=se=>{this.isInitialized();const fe=this.formatTarget(se);return this.getExpiration(fe)},this.del=se=>{if(this.isInitialized(),this.has(se)){const fe=this.formatTarget(se),be=this.getExpiration(fe);this.expirations.delete(fe),this.events.emit(v$2.deleted,{target:fe,expiration:be})}},this.on=(se,fe)=>{this.events.on(se,fe)},this.once=(se,fe)=>{this.events.once(se,fe)},this.off=(se,fe)=>{this.events.off(se,fe)},this.removeListener=(se,fe)=>{this.events.removeListener(se,fe)},this.logger=E$3(s,this.name)}get context(){return y$2(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return lt$1(t);if(typeof t=="number")return dt$1(t);const{message:s}=N$2("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(s)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(v$2.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:s}=N$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(s),new Error(s)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const s=this.expirations.get(t);if(!s){const{message:se}=N$2("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(se),new Error(se)}return s}checkExpiry(t,s){const{expiry:se}=s;cjs$4.toMiliseconds(se)-Date.now()<=0&&this.expire(t,s)}expire(t,s){this.expirations.delete(t),this.events.emit(v$2.expired,{target:t,expiration:s})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,s)=>this.checkExpiry(s,t))}registerEventListeners(){this.core.heartbeat.on(cjs$1.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(v$2.created,t=>{const s=v$2.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:t}),this.persist()}),this.events.on(v$2.expired,t=>{const s=v$2.expired;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:t}),this.persist()}),this.events.on(v$2.deleted,t=>{const s=v$2.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=N$2("NOT_INITIALIZED",this.name);throw new Error(t)}}}class jt extends y$1{constructor(t,s){super(t,s),this.projectId=t,this.logger=s,this.name=Z,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async se=>{if(this.verifyDisabled||$$2()||!D$4())return;const fe=this.getVerifyUrl(se==null?void 0:se.verifyUrl);this.verifyUrl!==fe&&this.removeIframe(),this.verifyUrl=fe;try{await this.createIframe()}catch(be){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(be)}if(!this.initialized){this.removeIframe(),this.verifyUrl=ee;try{await this.createIframe()}catch(be){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(be),this.verifyDisabled=!0}}},this.register=async se=>{this.initialized?this.sendPost(se.attestationId):(this.addToQueue(se.attestationId),await this.init())},this.resolve=async se=>{if(this.isDevEnv)return"";const fe=this.getVerifyUrl(se==null?void 0:se.verifyUrl);let be;try{be=await this.fetchAttestation(se.attestationId,fe)}catch(xe){this.logger.info(`failed to resolve attestation: ${se.attestationId} from url: ${fe}`),this.logger.info(xe),be=await this.fetchAttestation(se.attestationId,ee)}return be},this.fetchAttestation=async(se,fe)=>{this.logger.info(`resolving attestation: ${se} from url: ${fe}`);const be=this.startAbortTimer(cjs$4.ONE_SECOND*2),xe=await fetch(`${fe}/attestation/${se}`,{signal:this.abortController.signal});return clearTimeout(be),xe.status===200?await xe.json():void 0},this.addToQueue=se=>{this.queue.push(se)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(se=>this.sendPost(se)),this.queue=[])},this.sendPost=se=>{var fe;try{if(!this.iframe)return;(fe=this.iframe.contentWindow)==null||fe.postMessage(se,"*"),this.logger.info(`postMessage sent: ${se} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let se;const fe=be=>{be.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",fe),se())};await Promise.race([new Promise(be=>{if(document.getElementById(Z))return be();window.addEventListener("message",fe);const xe=document.createElement("iframe");xe.id=Z,xe.src=`${this.verifyUrl}/${this.projectId}`,xe.style.display="none",document.body.append(xe),this.iframe=xe,se=be}),new Promise((be,xe)=>setTimeout(()=>{window.removeEventListener("message",fe),xe("verify iframe load timeout")},cjs$4.toMiliseconds(cjs$4.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=se=>{let fe=se||F$1;return _t.includes(fe)||(this.logger.info(`verify url: ${fe}, not included in trusted list, assigning default: ${F$1}`),fe=F$1),fe},this.logger=E$3(s,this.name),this.verifyUrl=F$1,this.abortController=new AbortController,this.isDevEnv=te$1()&&define_process_env_default.IS_VITEST}get context(){return y$2(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjs$4.toMiliseconds(t))}}class Gt extends v$3{constructor(t,s){super(t,s),this.projectId=t,this.logger=s,this.context=Tt,this.registerDeviceToken=async se=>{const{clientId:fe,token:be,notificationType:xe,enableEncrypted:we=!1}=se,Se=`${St}/${this.projectId}/clients`;await Yi(Se,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:fe,type:xe,token:be,always_raw:we})})},this.logger=E$3(s,this.context)}}var Lr=Object.defineProperty,Yt=Object.getOwnPropertySymbols,$r=Object.prototype.hasOwnProperty,Fr=Object.prototype.propertyIsEnumerable,Ht=(Y,t,s)=>t in Y?Lr(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,Jt=(Y,t)=>{for(var s in t||(t={}))$r.call(t,s)&&Ht(Y,s,t[s]);if(Yt)for(var s of Yt(t))Fr.call(t,s)&&Ht(Y,s,t[s]);return Y};class te extends n$1{constructor(t){super(t),this.protocol=le$1,this.version=We,this.name=Q$2,this.events=new eventsExports.EventEmitter,this.initialized=!1,this.on=(se,fe)=>this.events.on(se,fe),this.once=(se,fe)=>this.events.once(se,fe),this.off=(se,fe)=>this.events.off(se,fe),this.removeListener=(se,fe)=>this.events.removeListener(se,fe),this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||ge$2,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const s=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Hg(k({level:(t==null?void 0:t.logger)||Qe.logger}));this.logger=E$3(s,this.name),this.heartbeat=new cjs$1.HeartBeat,this.crypto=new xt(this,this.logger,t==null?void 0:t.keychain),this.history=new Vt(this,this.logger),this.expirer=new qt(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new h$2(Jt(Jt({},Ze),t==null?void 0:t.storageOptions)),this.relayer=new $t({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Bt(this,this.logger),this.verify=new jt(this.projectId||"",this.logger),this.echoClient=new Gt(this.projectId||"",this.logger)}static async init(t){const s=new te(t);await s.initialize();const se=await s.crypto.getClientId();return await s.storage.setItem(yt,se),s}get context(){return y$2(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const Mr=te,J="wc",F=2,X="client",G$1=`${J}@${F}:${X}:`,M$1={name:X,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},H="WALLETCONNECT_DEEPLINK_CHOICE",oe="proposal",ae="Proposal expired",ce="session",L$2=cjs$4.SEVEN_DAYS,le="engine",R={wc_sessionPropose:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjs$4.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjs$4.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjs$4.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjs$4.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:cjs$4.THIRTY_SECONDS,prompt:!1,tag:1115}}},U$1={min:cjs$4.FIVE_MINUTES,max:cjs$4.SEVEN_DAYS},I={idle:"IDLE",active:"ACTIVE"},pe="request",he=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var as=Object.defineProperty,cs=Object.defineProperties,ls=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,ps=Object.prototype.hasOwnProperty,hs=Object.prototype.propertyIsEnumerable,ue=(Y,t,s)=>t in Y?as(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,g$2=(Y,t)=>{for(var s in t||(t={}))ps.call(t,s)&&ue(Y,s,t[s]);if(de)for(var s of de(t))hs.call(t,s)&&ue(Y,s,t[s]);return Y},D$1=(Y,t)=>cs(Y,ls(t));class ds extends w$3{constructor(t){super(t),this.name=le,this.events=new Ug,this.initialized=!1,this.ignoredPayloadTypes=[_$3],this.requestQueue={state:I.idle,queue:[]},this.sessionRequestQueue={state:I.idle,queue:[]},this.requestQueueDelay=cjs$4.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(R)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},cjs$4.toMiliseconds(this.requestQueueDelay)))},this.connect=async s=>{await this.isInitialized();const se=D$1(g$2({},s),{requiredNamespaces:s.requiredNamespaces||{},optionalNamespaces:s.optionalNamespaces||{}});await this.isValidConnect(se);const{pairingTopic:fe,requiredNamespaces:be,optionalNamespaces:xe,sessionProperties:we,relays:Se}=se;let Ee=fe,me,Ie=!1;if(Ee&&(Ie=this.client.core.pairing.pairings.get(Ee).active),!Ee||!Ie){const{topic:Qr,uri:oi}=await this.client.core.pairing.create();Ee=Qr,me=oi}const fr=await this.client.core.crypto.generateKeyPair(),Oe=R.wc_sessionPropose.req.ttl||cjs$4.FIVE_MINUTES,wr=pt$1(Oe),qr=g$2({requiredNamespaces:be,optionalNamespaces:xe,relays:Se??[{protocol:ht}],proposer:{publicKey:fr,metadata:this.client.metadata},expiryTimestamp:wr},we&&{sessionProperties:we}),{reject:Gr,resolve:Yr,done:Wr}=at$1(Oe,ae);if(this.events.once(yt$1("session_connect"),async({error:Qr,session:oi})=>{if(Qr)Gr(Qr);else if(oi){oi.self.publicKey=fr;const fi=D$1(g$2({},oi),{requiredNamespaces:qr.requiredNamespaces,optionalNamespaces:qr.optionalNamespaces});await this.client.session.set(oi.topic,fi),await this.setExpiry(oi.topic,oi.expiry),Ee&&await this.client.core.pairing.updateMetadata({topic:Ee,metadata:oi.peer.metadata}),Yr(fi)}}),!Ee){const{message:Qr}=N$2("NO_MATCHING_KEY",`connect() pairing topic: ${Ee}`);throw new Error(Qr)}const ti=await this.sendRequest({topic:Ee,method:"wc_sessionPropose",params:qr,throwOnFailedPublish:!0});return await this.setProposal(ti,g$2({id:ti},qr)),{uri:me,approval:Wr}},this.pair=async s=>(await this.isInitialized(),await this.client.core.pairing.pair(s)),this.approve=async s=>{await this.isInitialized(),await this.isValidApprove(s);const{id:se,relayProtocol:fe,namespaces:be,sessionProperties:xe}=s,we=this.client.proposal.get(se);let{pairingTopic:Se,proposer:Ee,requiredNamespaces:me,optionalNamespaces:Ie}=we;Se=Se||"";const fr=await this.client.core.crypto.generateKeyPair(),Oe=Ee.publicKey,wr=await this.client.core.crypto.generateSharedKey(fr,Oe);Se&&se&&(await this.client.core.pairing.updateMetadata({topic:Se,metadata:Ee.metadata}),await this.sendResult({id:se,topic:Se,result:{relay:{protocol:fe??"irn"},responderPublicKey:fr}}),await this.client.proposal.delete(se,U$2("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:Se}));const qr=g$2({relay:{protocol:fe??"irn"},namespaces:be,pairingTopic:Se,controller:{publicKey:fr,metadata:this.client.metadata},expiry:pt$1(L$2)},xe&&{sessionProperties:xe});await this.client.core.relayer.subscribe(wr);const Gr=D$1(g$2({},qr),{topic:wr,requiredNamespaces:me,optionalNamespaces:Ie,pairingTopic:Se,acknowledged:!1,self:qr.controller,peer:{publicKey:Ee.publicKey,metadata:Ee.metadata},controller:fr});await this.client.session.set(wr,Gr);try{await this.sendRequest({topic:wr,method:"wc_sessionSettle",params:qr,throwOnFailedPublish:!0})}catch(Yr){throw this.client.logger.error(Yr),this.client.session.delete(wr,U$2("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(wr),Yr}return await this.setExpiry(wr,pt$1(L$2)),{topic:wr,acknowledged:()=>new Promise(Yr=>setTimeout(()=>Yr(this.client.session.get(wr)),500))}},this.reject=async s=>{await this.isInitialized(),await this.isValidReject(s);const{id:se,reason:fe}=s,{pairingTopic:be}=this.client.proposal.get(se);be&&(await this.sendError(se,be,fe),await this.client.proposal.delete(se,U$2("USER_DISCONNECTED")))},this.update=async s=>{await this.isInitialized(),await this.isValidUpdate(s);const{topic:se,namespaces:fe}=s,be=await this.sendRequest({topic:se,method:"wc_sessionUpdate",params:{namespaces:fe}}),{done:xe,resolve:we,reject:Se}=at$1();return this.events.once(yt$1("session_update",be),({error:Ee})=>{Ee?Se(Ee):we()}),await this.client.session.update(se,{namespaces:fe}),{acknowledged:xe}},this.extend=async s=>{await this.isInitialized(),await this.isValidExtend(s);const{topic:se}=s,fe=await this.sendRequest({topic:se,method:"wc_sessionExtend",params:{}}),{done:be,resolve:xe,reject:we}=at$1();return this.events.once(yt$1("session_extend",fe),({error:Se})=>{Se?we(Se):xe()}),await this.setExpiry(se,pt$1(L$2)),{acknowledged:be}},this.request=async s=>{await this.isInitialized(),await this.isValidRequest(s);const{chainId:se,request:fe,topic:be,expiry:xe=R.wc_sessionRequest.req.ttl}=s,we=payloadId(),{done:Se,resolve:Ee,reject:me}=at$1(xe,"Request expired. Please try again.");return this.events.once(yt$1("session_request",we),({error:Ie,result:fr})=>{Ie?me(Ie):Ee(fr)}),await Promise.all([new Promise(async Ie=>{await this.sendRequest({clientRpcId:we,topic:be,method:"wc_sessionRequest",params:{request:D$1(g$2({},fe),{expiryTimestamp:pt$1(xe)}),chainId:se},expiry:xe,throwOnFailedPublish:!0}).catch(fr=>me(fr)),this.client.events.emit("session_request_sent",{topic:be,request:fe,chainId:se,id:we}),Ie()}),new Promise(async Ie=>{const fr=await ht$1(this.client.core.storage,H);gt$1({id:we,topic:be,wcDeepLink:fr}),Ie()}),Se()]).then(Ie=>Ie[2])},this.respond=async s=>{await this.isInitialized(),await this.isValidRespond(s);const{topic:se,response:fe}=s,{id:be}=fe;isJsonRpcResult(fe)?await this.sendResult({id:be,topic:se,result:fe.result,throwOnFailedPublish:!0}):isJsonRpcError(fe)&&await this.sendError(be,se,fe.error),this.cleanupAfterResponse(s)},this.ping=async s=>{await this.isInitialized(),await this.isValidPing(s);const{topic:se}=s;if(this.client.session.keys.includes(se)){const fe=await this.sendRequest({topic:se,method:"wc_sessionPing",params:{}}),{done:be,resolve:xe,reject:we}=at$1();this.events.once(yt$1("session_ping",fe),({error:Se})=>{Se?we(Se):xe()}),await be()}else this.client.core.pairing.pairings.keys.includes(se)&&await this.client.core.pairing.ping({topic:se})},this.emit=async s=>{await this.isInitialized(),await this.isValidEmit(s);const{topic:se,event:fe,chainId:be}=s;await this.sendRequest({topic:se,method:"wc_sessionEvent",params:{event:fe,chainId:be}})},this.disconnect=async s=>{await this.isInitialized(),await this.isValidDisconnect(s);const{topic:se}=s;if(this.client.session.keys.includes(se))await this.sendRequest({topic:se,method:"wc_sessionDelete",params:U$2("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:se,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(se))await this.client.core.pairing.disconnect({topic:se});else{const{message:fe}=N$2("MISMATCHED_TOPIC",`Session or pairing topic not found: ${se}`);throw new Error(fe)}},this.find=s=>(this.isInitialized(),this.client.session.getAll().filter(se=>Mt$1(se,s))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async s=>{if(s.pairingTopic)try{const se=this.client.core.pairing.pairings.get(s.pairingTopic),fe=this.client.core.pairing.pairings.getAll().filter(be=>{var xe,we;return((xe=be.peerMetadata)==null?void 0:xe.url)&&((we=be.peerMetadata)==null?void 0:we.url)===s.peer.metadata.url&&be.topic&&be.topic!==se.topic});if(fe.length===0)return;this.client.logger.info(`Cleaning up ${fe.length} duplicate pairing(s)`),await Promise.all(fe.map(be=>this.client.core.pairing.disconnect({topic:be.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(se){this.client.logger.error(se)}},this.deleteSession=async s=>{const{topic:se,expirerHasDeleted:fe=!1,emitEvent:be=!0,id:xe=0}=s,{self:we}=this.client.session.get(se);await this.client.core.relayer.unsubscribe(se),await this.client.session.delete(se,U$2("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(we.publicKey)&&await this.client.core.crypto.deleteKeyPair(we.publicKey),this.client.core.crypto.keychain.has(se)&&await this.client.core.crypto.deleteSymKey(se),fe||this.client.core.expirer.del(se),this.client.core.storage.removeItem(H).catch(Se=>this.client.logger.warn(Se)),this.getPendingSessionRequests().forEach(Se=>{Se.topic===se&&this.deletePendingSessionRequest(Se.id,U$2("USER_DISCONNECTED"))}),be&&this.client.events.emit("session_delete",{id:xe,topic:se})},this.deleteProposal=async(s,se)=>{await Promise.all([this.client.proposal.delete(s,U$2("USER_DISCONNECTED")),se?Promise.resolve():this.client.core.expirer.del(s)])},this.deletePendingSessionRequest=async(s,se,fe=!1)=>{await Promise.all([this.client.pendingRequest.delete(s,se),fe?Promise.resolve():this.client.core.expirer.del(s)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(be=>be.id!==s),fe&&(this.sessionRequestQueue.state=I.idle,this.client.events.emit("session_request_expire",{id:s}))},this.setExpiry=async(s,se)=>{this.client.session.keys.includes(s)&&await this.client.session.update(s,{expiry:se}),this.client.core.expirer.set(s,se)},this.setProposal=async(s,se)=>{await this.client.proposal.set(s,se),this.client.core.expirer.set(s,pt$1(R.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async s=>{const{id:se,topic:fe,params:be,verifyContext:xe}=s,we=be.request.expiryTimestamp||pt$1(R.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(se,{id:se,topic:fe,params:be,verifyContext:xe}),we&&this.client.core.expirer.set(se,we)},this.sendRequest=async s=>{const{topic:se,method:fe,params:be,expiry:xe,relayRpcId:we,clientRpcId:Se,throwOnFailedPublish:Ee}=s,me=formatJsonRpcRequest(fe,be,Se);if(D$4()&&he.includes(fe)){const Oe=Ln(JSON.stringify(me));this.client.core.verify.register({attestationId:Oe})}const Ie=await this.client.core.crypto.encode(se,me),fr=R[fe].req;return xe&&(fr.ttl=xe),we&&(fr.id=we),this.client.core.history.set(se,me),Ee?(fr.internal=D$1(g$2({},fr.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(se,Ie,fr)):this.client.core.relayer.publish(se,Ie,fr).catch(Oe=>this.client.logger.error(Oe)),me.id},this.sendResult=async s=>{const{id:se,topic:fe,result:be,throwOnFailedPublish:xe}=s,we=formatJsonRpcResult(se,be),Se=await this.client.core.crypto.encode(fe,we),Ee=await this.client.core.history.get(fe,se),me=R[Ee.request.method].res;xe?(me.internal=D$1(g$2({},me.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(fe,Se,me)):this.client.core.relayer.publish(fe,Se,me).catch(Ie=>this.client.logger.error(Ie)),await this.client.core.history.resolve(we)},this.sendError=async(s,se,fe)=>{const be=formatJsonRpcError(s,fe),xe=await this.client.core.crypto.encode(se,be),we=await this.client.core.history.get(se,s),Se=R[we.request.method].res;this.client.core.relayer.publish(se,xe,Se),await this.client.core.history.resolve(be)},this.cleanup=async()=>{const s=[],se=[];this.client.session.getAll().forEach(fe=>{let be=!1;mt$1(fe.expiry)&&(be=!0),this.client.core.crypto.keychain.has(fe.topic)||(be=!0),be&&s.push(fe.topic)}),this.client.proposal.getAll().forEach(fe=>{mt$1(fe.expiryTimestamp)&&se.push(fe.id)}),await Promise.all([...s.map(fe=>this.deleteSession({topic:fe})),...se.map(fe=>this.deleteProposal(fe))])},this.onRelayEventRequest=async s=>{this.requestQueue.queue.push(s),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===I.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=I.active;const s=this.requestQueue.queue.shift();if(s)try{this.processRequest(s),await new Promise(se=>setTimeout(se,300))}catch(se){this.client.logger.warn(se)}}this.requestQueue.state=I.idle},this.processRequest=s=>{const{topic:se,payload:fe}=s,be=fe.method;switch(be){case"wc_sessionPropose":return this.onSessionProposeRequest(se,fe);case"wc_sessionSettle":return this.onSessionSettleRequest(se,fe);case"wc_sessionUpdate":return this.onSessionUpdateRequest(se,fe);case"wc_sessionExtend":return this.onSessionExtendRequest(se,fe);case"wc_sessionPing":return this.onSessionPingRequest(se,fe);case"wc_sessionDelete":return this.onSessionDeleteRequest(se,fe);case"wc_sessionRequest":return this.onSessionRequest(se,fe);case"wc_sessionEvent":return this.onSessionEventRequest(se,fe);default:return this.client.logger.info(`Unsupported request method ${be}`)}},this.onRelayEventResponse=async s=>{const{topic:se,payload:fe}=s,be=(await this.client.core.history.get(se,fe.id)).request.method;switch(be){case"wc_sessionPropose":return this.onSessionProposeResponse(se,fe);case"wc_sessionSettle":return this.onSessionSettleResponse(se,fe);case"wc_sessionUpdate":return this.onSessionUpdateResponse(se,fe);case"wc_sessionExtend":return this.onSessionExtendResponse(se,fe);case"wc_sessionPing":return this.onSessionPingResponse(se,fe);case"wc_sessionRequest":return this.onSessionRequestResponse(se,fe);default:return this.client.logger.info(`Unsupported response method ${be}`)}},this.onRelayEventUnknownPayload=s=>{const{topic:se}=s,{message:fe}=N$2("MISSING_OR_INVALID",`Decoded payload on topic ${se} is not identifiable as a JSON-RPC request or a response.`);throw new Error(fe)},this.onSessionProposeRequest=async(s,se)=>{const{params:fe,id:be}=se;try{this.isValidConnect(g$2({},se.params));const xe=fe.expiryTimestamp||pt$1(R.wc_sessionPropose.req.ttl),we=g$2({id:be,pairingTopic:s,expiryTimestamp:xe},fe);await this.setProposal(be,we);const Se=Ln(JSON.stringify(se)),Ee=await this.getVerifyContext(Se,we.proposer.metadata);this.client.events.emit("session_proposal",{id:be,params:we,verifyContext:Ee})}catch(xe){await this.sendError(be,s,xe),this.client.logger.error(xe)}},this.onSessionProposeResponse=async(s,se)=>{const{id:fe}=se;if(isJsonRpcResult(se)){const{result:be}=se;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:be});const xe=this.client.proposal.get(fe);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:xe});const we=xe.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:we});const Se=be.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:Se});const Ee=await this.client.core.crypto.generateSharedKey(we,Se);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:Ee});const me=await this.client.core.relayer.subscribe(Ee);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:me}),await this.client.core.pairing.activate({topic:s})}else isJsonRpcError(se)&&(await this.client.proposal.delete(fe,U$2("USER_DISCONNECTED")),this.events.emit(yt$1("session_connect"),{error:se.error}))},this.onSessionSettleRequest=async(s,se)=>{const{id:fe,params:be}=se;try{this.isValidSessionSettleRequest(be);const{relay:xe,controller:we,expiry:Se,namespaces:Ee,sessionProperties:me,pairingTopic:Ie}=se.params,fr=g$2({topic:s,relay:xe,expiry:Se,namespaces:Ee,acknowledged:!0,pairingTopic:Ie,requiredNamespaces:{},optionalNamespaces:{},controller:we.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:we.publicKey,metadata:we.metadata}},me&&{sessionProperties:me});await this.sendResult({id:se.id,topic:s,result:!0}),this.events.emit(yt$1("session_connect"),{session:fr}),this.cleanupDuplicatePairings(fr)}catch(xe){await this.sendError(fe,s,xe),this.client.logger.error(xe)}},this.onSessionSettleResponse=async(s,se)=>{const{id:fe}=se;isJsonRpcResult(se)?(await this.client.session.update(s,{acknowledged:!0}),this.events.emit(yt$1("session_approve",fe),{})):isJsonRpcError(se)&&(await this.client.session.delete(s,U$2("USER_DISCONNECTED")),this.events.emit(yt$1("session_approve",fe),{error:se.error}))},this.onSessionUpdateRequest=async(s,se)=>{const{params:fe,id:be}=se;try{const xe=`${s}_session_update`,we=sr$1.get(xe);if(we&&this.isRequestOutOfSync(we,be)){this.client.logger.info(`Discarding out of sync request - ${be}`);return}this.isValidUpdate(g$2({topic:s},fe)),await this.client.session.update(s,{namespaces:fe.namespaces}),await this.sendResult({id:be,topic:s,result:!0}),this.client.events.emit("session_update",{id:be,topic:s,params:fe}),sr$1.set(xe,be)}catch(xe){await this.sendError(be,s,xe),this.client.logger.error(xe)}},this.isRequestOutOfSync=(s,se)=>parseInt(se.toString().slice(0,-3))<=parseInt(s.toString().slice(0,-3)),this.onSessionUpdateResponse=(s,se)=>{const{id:fe}=se;isJsonRpcResult(se)?this.events.emit(yt$1("session_update",fe),{}):isJsonRpcError(se)&&this.events.emit(yt$1("session_update",fe),{error:se.error})},this.onSessionExtendRequest=async(s,se)=>{const{id:fe}=se;try{this.isValidExtend({topic:s}),await this.setExpiry(s,pt$1(L$2)),await this.sendResult({id:fe,topic:s,result:!0}),this.client.events.emit("session_extend",{id:fe,topic:s})}catch(be){await this.sendError(fe,s,be),this.client.logger.error(be)}},this.onSessionExtendResponse=(s,se)=>{const{id:fe}=se;isJsonRpcResult(se)?this.events.emit(yt$1("session_extend",fe),{}):isJsonRpcError(se)&&this.events.emit(yt$1("session_extend",fe),{error:se.error})},this.onSessionPingRequest=async(s,se)=>{const{id:fe}=se;try{this.isValidPing({topic:s}),await this.sendResult({id:fe,topic:s,result:!0}),this.client.events.emit("session_ping",{id:fe,topic:s})}catch(be){await this.sendError(fe,s,be),this.client.logger.error(be)}},this.onSessionPingResponse=(s,se)=>{const{id:fe}=se;setTimeout(()=>{isJsonRpcResult(se)?this.events.emit(yt$1("session_ping",fe),{}):isJsonRpcError(se)&&this.events.emit(yt$1("session_ping",fe),{error:se.error})},500)},this.onSessionDeleteRequest=async(s,se)=>{const{id:fe}=se;try{this.isValidDisconnect({topic:s,reason:se.params}),await Promise.all([new Promise(be=>{this.client.core.relayer.once(D$2.publish,async()=>{be(await this.deleteSession({topic:s,id:fe}))})}),this.sendResult({id:fe,topic:s,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:s,error:U$2("USER_DISCONNECTED")})])}catch(be){this.client.logger.error(be)}},this.onSessionRequest=async(s,se)=>{const{id:fe,params:be}=se;try{this.isValidRequest(g$2({topic:s},be));const xe=Ln(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",be,fe))),we=this.client.session.get(s),Se=await this.getVerifyContext(xe,we.peer.metadata),Ee={id:fe,topic:s,params:be,verifyContext:Se};await this.setPendingSessionRequest(Ee),this.addSessionRequestToSessionRequestQueue(Ee),this.processSessionRequestQueue()}catch(xe){await this.sendError(fe,s,xe),this.client.logger.error(xe)}},this.onSessionRequestResponse=(s,se)=>{const{id:fe}=se;isJsonRpcResult(se)?this.events.emit(yt$1("session_request",fe),{result:se.result}):isJsonRpcError(se)&&this.events.emit(yt$1("session_request",fe),{error:se.error})},this.onSessionEventRequest=async(s,se)=>{const{id:fe,params:be}=se;try{const xe=`${s}_session_event_${be.event.name}`,we=sr$1.get(xe);if(we&&this.isRequestOutOfSync(we,fe)){this.client.logger.info(`Discarding out of sync request - ${fe}`);return}this.isValidEmit(g$2({topic:s},be)),this.client.events.emit("session_event",{id:fe,topic:s,params:be}),sr$1.set(xe,fe)}catch(xe){await this.sendError(fe,s,xe),this.client.logger.error(xe)}},this.addSessionRequestToSessionRequestQueue=s=>{this.sessionRequestQueue.queue.push(s)},this.cleanupAfterResponse=s=>{this.deletePendingSessionRequest(s.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=I.idle,this.processSessionRequestQueue()},cjs$4.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:s,error:se})=>{const fe=this.client.core.history.pending;fe.length>0&&fe.filter(be=>be.topic===s&&be.request.method==="wc_sessionRequest").forEach(be=>{this.events.emit(yt$1("session_request",be.request.id),{error:se})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===I.active){this.client.logger.info("session request queue is already active.");return}const s=this.sessionRequestQueue.queue[0];if(!s){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=I.active,this.client.events.emit("session_request",s)}catch(se){this.client.logger.error(se)}},this.onPairingCreated=s=>{if(s.active)return;const se=this.client.proposal.getAll().find(fe=>fe.pairingTopic===s.topic);se&&this.onSessionProposeRequest(s.topic,formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:se.requiredNamespaces,optionalNamespaces:se.optionalNamespaces,relays:se.relays,proposer:se.proposer,sessionProperties:se.sessionProperties},se.id))},this.isValidConnect=async s=>{if(!Gt$1(s)){const{message:Se}=N$2("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(s)}`);throw new Error(Se)}const{pairingTopic:se,requiredNamespaces:fe,optionalNamespaces:be,sessionProperties:xe,relays:we}=s;if(w$5(se)||await this.isValidPairingTopic(se),!qt$1(we)){const{message:Se}=N$2("MISSING_OR_INVALID",`connect() relays: ${we}`);throw new Error(Se)}!w$5(fe)&&B$1(fe)!==0&&this.validateNamespaces(fe,"requiredNamespaces"),!w$5(be)&&B$1(be)!==0&&this.validateNamespaces(be,"optionalNamespaces"),w$5(xe)||this.validateSessionProps(xe,"sessionProperties")},this.validateNamespaces=(s,se)=>{const fe=Ht$1(s,"connect()",se);if(fe)throw new Error(fe.message)},this.isValidApprove=async s=>{if(!Gt$1(s))throw new Error(N$2("MISSING_OR_INVALID",`approve() params: ${s}`).message);const{id:se,namespaces:fe,relayProtocol:be,sessionProperties:xe}=s;await this.isValidProposalId(se);const we=this.client.proposal.get(se),Se=ln(fe,"approve()");if(Se)throw new Error(Se.message);const Ee=fn(we.requiredNamespaces,fe,"approve()");if(Ee)throw new Error(Ee.message);if(!g$6(be,!0)){const{message:me}=N$2("MISSING_OR_INVALID",`approve() relayProtocol: ${be}`);throw new Error(me)}w$5(xe)||this.validateSessionProps(xe,"sessionProperties")},this.isValidReject=async s=>{if(!Gt$1(s)){const{message:be}=N$2("MISSING_OR_INVALID",`reject() params: ${s}`);throw new Error(be)}const{id:se,reason:fe}=s;if(await this.isValidProposalId(se),!Wt(fe)){const{message:be}=N$2("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(fe)}`);throw new Error(be)}},this.isValidSessionSettleRequest=s=>{if(!Gt$1(s)){const{message:Ee}=N$2("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${s}`);throw new Error(Ee)}const{relay:se,controller:fe,namespaces:be,expiry:xe}=s;if(!dn(se)){const{message:Ee}=N$2("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(Ee)}const we=Ft$1(fe,"onSessionSettleRequest()");if(we)throw new Error(we.message);const Se=ln(be,"onSessionSettleRequest()");if(Se)throw new Error(Se.message);if(mt$1(xe)){const{message:Ee}=N$2("EXPIRED","onSessionSettleRequest()");throw new Error(Ee)}},this.isValidUpdate=async s=>{if(!Gt$1(s)){const{message:Se}=N$2("MISSING_OR_INVALID",`update() params: ${s}`);throw new Error(Se)}const{topic:se,namespaces:fe}=s;await this.isValidSessionTopic(se);const be=this.client.session.get(se),xe=ln(fe,"update()");if(xe)throw new Error(xe.message);const we=fn(be.requiredNamespaces,fe,"update()");if(we)throw new Error(we.message)},this.isValidExtend=async s=>{if(!Gt$1(s)){const{message:fe}=N$2("MISSING_OR_INVALID",`extend() params: ${s}`);throw new Error(fe)}const{topic:se}=s;await this.isValidSessionTopic(se)},this.isValidRequest=async s=>{if(!Gt$1(s)){const{message:Se}=N$2("MISSING_OR_INVALID",`request() params: ${s}`);throw new Error(Se)}const{topic:se,request:fe,chainId:be,expiry:xe}=s;await this.isValidSessionTopic(se);const{namespaces:we}=this.client.session.get(se);if(!Qt(we,be)){const{message:Se}=N$2("MISSING_OR_INVALID",`request() chainId: ${be}`);throw new Error(Se)}if(!zt$1(fe)){const{message:Se}=N$2("MISSING_OR_INVALID",`request() ${JSON.stringify(fe)}`);throw new Error(Se)}if(!Zt(we,be,fe.method)){const{message:Se}=N$2("MISSING_OR_INVALID",`request() method: ${fe.method}`);throw new Error(Se)}if(xe&&!tr$1(xe,U$1)){const{message:Se}=N$2("MISSING_OR_INVALID",`request() expiry: ${xe}. Expiry must be a number (in seconds) between ${U$1.min} and ${U$1.max}`);throw new Error(Se)}},this.isValidRespond=async s=>{var se;if(!Gt$1(s)){const{message:xe}=N$2("MISSING_OR_INVALID",`respond() params: ${s}`);throw new Error(xe)}const{topic:fe,response:be}=s;try{await this.isValidSessionTopic(fe)}catch(xe){throw(se=s==null?void 0:s.response)!=null&&se.id&&this.cleanupAfterResponse(s),xe}if(!Yt$1(be)){const{message:xe}=N$2("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(be)}`);throw new Error(xe)}},this.isValidPing=async s=>{if(!Gt$1(s)){const{message:fe}=N$2("MISSING_OR_INVALID",`ping() params: ${s}`);throw new Error(fe)}const{topic:se}=s;await this.isValidSessionOrPairingTopic(se)},this.isValidEmit=async s=>{if(!Gt$1(s)){const{message:we}=N$2("MISSING_OR_INVALID",`emit() params: ${s}`);throw new Error(we)}const{topic:se,event:fe,chainId:be}=s;await this.isValidSessionTopic(se);const{namespaces:xe}=this.client.session.get(se);if(!Qt(xe,be)){const{message:we}=N$2("MISSING_OR_INVALID",`emit() chainId: ${be}`);throw new Error(we)}if(!Jt$1(fe)){const{message:we}=N$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(fe)}`);throw new Error(we)}if(!Xt(xe,be,fe.name)){const{message:we}=N$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(fe)}`);throw new Error(we)}},this.isValidDisconnect=async s=>{if(!Gt$1(s)){const{message:fe}=N$2("MISSING_OR_INVALID",`disconnect() params: ${s}`);throw new Error(fe)}const{topic:se}=s;await this.isValidSessionOrPairingTopic(se)},this.getVerifyContext=async(s,se)=>{const fe={verified:{verifyUrl:se.verifyUrl||F$1,validation:"UNKNOWN",origin:se.url||""}};try{const be=await this.client.core.verify.resolve({attestationId:s,verifyUrl:se.verifyUrl});be&&(fe.verified.origin=be.origin,fe.verified.isScam=be.isScam,fe.verified.validation=be.origin===new URL(se.url).origin?"VALID":"INVALID")}catch(be){this.client.logger.info(be)}return this.client.logger.info(`Verify context: ${JSON.stringify(fe)}`),fe},this.validateSessionProps=(s,se)=>{Object.values(s).forEach(fe=>{if(!g$6(fe,!1)){const{message:be}=N$2("MISSING_OR_INVALID",`${se} must be in Record<string, string> format. Received: ${JSON.stringify(fe)}`);throw new Error(be)}})}}async isInitialized(){if(!this.initialized){const{message:t}=N$2("NOT_INITIALIZED",this.name);throw new Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(D$2.message,async t=>{const{topic:s,message:se}=t;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(se)))return;const fe=await this.client.core.crypto.decode(s,se);try{isJsonRpcRequest(fe)?(this.client.core.history.set(s,fe),this.onRelayEventRequest({topic:s,payload:fe})):isJsonRpcResponse(fe)?(await this.client.core.history.resolve(fe),await this.onRelayEventResponse({topic:s,payload:fe}),this.client.core.history.delete(s,fe.id)):this.onRelayEventUnknownPayload({topic:s,payload:fe})}catch(be){this.client.logger.error(be)}})}registerExpirerEvents(){this.client.core.expirer.on(v$2.expired,async t=>{const{topic:s,id:se}=ft$2(t.target);if(se&&this.client.pendingRequest.keys.includes(se))return await this.deletePendingSessionRequest(se,N$2("EXPIRED"),!0);s?this.client.session.keys.includes(s)&&(await this.deleteSession({topic:s,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:s})):se&&(await this.deleteProposal(se,!0),this.client.events.emit("proposal_expire",{id:se}))})}registerPairingEvents(){this.client.core.pairing.events.on(V.create,t=>this.onPairingCreated(t))}isValidPairingTopic(t){if(!g$6(t,!1)){const{message:s}=N$2("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(s)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:s}=N$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(s)}if(mt$1(this.client.core.pairing.pairings.get(t).expiry)){const{message:s}=N$2("EXPIRED",`pairing topic: ${t}`);throw new Error(s)}}async isValidSessionTopic(t){if(!g$6(t,!1)){const{message:s}=N$2("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(s)}if(!this.client.session.keys.includes(t)){const{message:s}=N$2("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(s)}if(mt$1(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:s}=N$2("EXPIRED",`session topic: ${t}`);throw new Error(s)}if(!this.client.core.crypto.keychain.has(t)){const{message:s}=N$2("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(s)}}async isValidSessionOrPairingTopic(t){if(this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(g$6(t,!1)){const{message:s}=N$2("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(s)}else{const{message:s}=N$2("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(s)}}async isValidProposalId(t){if(!Bt$1(t)){const{message:s}=N$2("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(s)}if(!this.client.proposal.keys.includes(t)){const{message:s}=N$2("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(s)}if(mt$1(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:s}=N$2("EXPIRED",`proposal id: ${t}`);throw new Error(s)}}}class us extends Kt{constructor(t,s){super(t,s,oe,G$1),this.core=t,this.logger=s}}let ge$1=class extends Kt{constructor(t,s){super(t,s,ce,G$1),this.core=t,this.logger=s}};class gs extends Kt{constructor(t,s){super(t,s,pe,G$1,se=>se.id),this.core=t,this.logger=s}}let Q$1=class Xl extends b$1{constructor(t){super(t),this.protocol=J,this.version=F,this.name=M$1.name,this.events=new eventsExports.EventEmitter,this.on=(se,fe)=>this.events.on(se,fe),this.once=(se,fe)=>this.events.once(se,fe),this.off=(se,fe)=>this.events.off(se,fe),this.removeListener=(se,fe)=>this.events.removeListener(se,fe),this.removeAllListeners=se=>this.events.removeAllListeners(se),this.connect=async se=>{try{return await this.engine.connect(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.pair=async se=>{try{return await this.engine.pair(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.approve=async se=>{try{return await this.engine.approve(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.reject=async se=>{try{return await this.engine.reject(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.update=async se=>{try{return await this.engine.update(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.extend=async se=>{try{return await this.engine.extend(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.request=async se=>{try{return await this.engine.request(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.respond=async se=>{try{return await this.engine.respond(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.ping=async se=>{try{return await this.engine.ping(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.emit=async se=>{try{return await this.engine.emit(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.disconnect=async se=>{try{return await this.engine.disconnect(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.find=se=>{try{return this.engine.find(se)}catch(fe){throw this.logger.error(fe.message),fe}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(se){throw this.logger.error(se.message),se}},this.name=(t==null?void 0:t.name)||M$1.name,this.metadata=(t==null?void 0:t.metadata)||Qn();const s=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Hg(k({level:(t==null?void 0:t.logger)||M$1.logger}));this.core=(t==null?void 0:t.core)||new Mr(t),this.logger=E$3(s,this.name),this.session=new ge$1(this.core,this.logger),this.proposal=new us(this.core,this.logger),this.pendingRequest=new gs(this.core,this.logger),this.engine=new ds(this)}static async init(t){const s=new Xl(t);return await s.initialize(),s}get context(){return y$2(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var P$1=Object.defineProperty,w=Object.defineProperties,E$1=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,L$1=Object.prototype.hasOwnProperty,O$1=Object.prototype.propertyIsEnumerable,l=(Y,t,s)=>t in Y?P$1(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,p$1=(Y,t)=>{for(var s in t||(t={}))L$1.call(t,s)&&l(Y,s,t[s]);if(c)for(var s of c(t))O$1.call(t,s)&&l(Y,s,t[s]);return Y},v$1=(Y,t)=>w(Y,E$1(t));const j$1={Accept:"application/json","Content-Type":"application/json"},T="POST",d={headers:j$1,method:T},g$1=10;let f$1=class{constructor(t,s=!1){if(this.url=t,this.disableProviderPing=s,this.events=new eventsExports.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=s}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,s){this.events.on(t,s)}once(t,s){this.events.once(t,s)}off(t,s){this.events.off(t,s)}removeListener(t,s){this.events.removeListener(t,s)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const s=safeJsonStringify(t),se=await(await o(this.url,v$1(p$1({},d),{body:s}))).json();this.onPayload({data:se})}catch(s){this.onError(t.id,s)}}async register(t=this.url){if(!isHttpUrl(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const s=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=s||this.events.listenerCount("open")>=s)&&this.events.setMaxListeners(s+1),new Promise((se,fe)=>{this.events.once("register_error",be=>{this.resetMaxListeners(),fe(be)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return fe(new Error("HTTP connection is missing or invalid"));se()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const s=safeJsonStringify({id:1,jsonrpc:"2.0",method:"test",params:[]});await o(t,v$1(p$1({},d),{body:s}))}this.onOpen()}catch(s){const se=this.parseError(s);throw this.events.emit("register_error",se),this.onClose(),se}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const s=typeof t.data=="string"?safeJsonParse(t.data):t.data;this.events.emit("payload",s)}onError(t,s){const se=this.parseError(s),fe=se.message||se.toString(),be=formatJsonRpcError(t,fe);this.events.emit("payload",be)}parseError(t,s=this.url){return parseConnectionError(t,s,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>g$1&&this.events.setMaxListeners(g$1)}};const Ia="error",Fg="wss://relay.walletconnect.com",Mg="wc",qg="universal_provider",xa=`${Mg}@2:${qg}:`,Bg="https://rpc.walletconnect.com/v1/",Vn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ui={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(Y,t){(function(){var s,se="4.17.21",fe=200,be="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",xe="Expected a function",we="Invalid `variable` option passed into `_.template`",Se="__lodash_hash_undefined__",Ee=500,me="__lodash_placeholder__",Ie=1,fr=2,Oe=4,wr=1,qr=2,Gr=1,Yr=2,Wr=4,ti=8,Qr=16,oi=32,fi=64,jr=128,ci=256,gi=512,$i=30,hi="...",Er=800,kr=16,Vr=1,Jr=2,ii=3,Xr=1/0,ei=9007199254740991,Zr=17976931348623157e292,Br=NaN,si=4294967295,Si=si-1,Ei=si>>>1,qi=[["ary",jr],["bind",Gr],["bindKey",Yr],["curry",ti],["curryRight",Qr],["flip",gi],["partial",oi],["partialRight",fi],["rearg",ci]],Ii="[object Arguments]",Ni="[object Array]",ri="[object AsyncFunction]",ai="[object Boolean]",li="[object Date]",Hr="[object DOMException]",vi="[object Error]",xi="[object Function]",Di="[object GeneratorFunction]",Rn="[object Map]",Ki="[object Number]",wn="[object Null]",Nn="[object Object]",Tn="[object Promise]",jn="[object Proxy]",Yn="[object RegExp]",ji="[object Set]",Vi="[object String]",On="[object Symbol]",ki="[object Undefined]",Ti="[object WeakMap]",ta="[object WeakSet]",zi="[object ArrayBuffer]",$n="[object DataView]",ha="[object Float32Array]",En="[object Float64Array]",An="[object Int8Array]",wa="[object Int16Array]",Pn="[object Int32Array]",Cn="[object Uint8Array]",Da="[object Uint8ClampedArray]",Aa="[object Uint16Array]",Ca="[object Uint32Array]",Mo=/\b__p \+= '';/g,Ma=/\b(__p \+=) '' \+/g,ja=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wo=/&(?:amp|lt|gt|quot|#39);/g,Ha=/[&<>"']/g,na=RegExp(Wo.source),Va=RegExp(Ha.source),sa=/<%-([\s\S]+?)%>/g,aa=/<%([\s\S]+?)%>/g,Ya=/<%=([\s\S]+?)%>/g,ra=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,la=/^\w*$/,no=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oa=/[\\^$.*+?()[\]{}|]/g,pa=RegExp(oa.source),Qa=/^\s+/,da=/\s/,ca=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,za=/\{\n\/\* \[wrapped with (.+)\] \*/,va=/,? & /,ga=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ef=/[()=,{}\[\]\/\s]/,to=/\\(\\)?/g,ro=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yo=/\w*$/,Ac=/^[-+]0x[0-9a-f]+$/i,Mc=/^0b[01]+$/i,Pc=/^\[object .+?Constructor\]$/,Cc=/^0o[0-7]+$/i,Oc=/^(?:0|[1-9]\d*)$/,Po=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zo=/($^)/,Bc=/['\n\r\u2028\u2029\\]/g,tc="\\ud800-\\udfff",Nc="\\u0300-\\u036f",Tc="\\ufe20-\\ufe2f",rc="\\u20d0-\\u20ff",yc=Nc+Tc+rc,mc="\\u2700-\\u27bf",wo="a-z\\xdf-\\xf6\\xf8-\\xff",Uc="\\xac\\xb1\\xd7\\xf7",jc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Lc="\\u2000-\\u206f",Lu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Uf="A-Z\\xc0-\\xd6\\xd8-\\xde",jf="\\ufe0e\\ufe0f",kc=Uc+jc+Lc+Lu,mf="[']",zc="["+tc+"]",_f="["+kc+"]",Fc="["+yc+"]",Lf="\\d+",ku="["+mc+"]",kf="["+wo+"]",zf="[^"+tc+kc+Lf+mc+wo+Uf+"]",tf="\\ud83c[\\udffb-\\udfff]",zu="(?:"+Fc+"|"+tf+")",Ff="[^"+tc+"]",rf="(?:\\ud83c[\\udde6-\\uddff]){2}",_c="[\\ud800-\\udbff][\\udc00-\\udfff]",Co="["+Uf+"]",Hf="\\u200d",Kf="(?:"+kf+"|"+zf+")",ic="(?:"+Co+"|"+zf+")",Vf="(?:"+mf+"(?:d|ll|m|re|s|t|ve))?",Wf="(?:"+mf+"(?:D|LL|M|RE|S|T|VE))?",Gf=zu+"?",Jf="["+jf+"]?",Fu="(?:"+Hf+"(?:"+[Ff,rf,_c].join("|")+")"+Jf+Gf+")*",cc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yf=Jf+Gf+Fu,nf="(?:"+[ku,rf,_c].join("|")+")"+Yf,Hu="(?:"+[Ff+Fc+"?",Fc,rf,_c,zc].join("|")+")",wf=RegExp(mf,"g"),Ku=RegExp(Fc,"g"),sf=RegExp(tf+"(?="+tf+")|"+Hu+Yf,"g"),Qf=RegExp([Co+"?"+kf+"+"+Vf+"(?="+[_f,Co,"$"].join("|")+")",ic+"+"+Wf+"(?="+[_f,Co+Kf,"$"].join("|")+")",Co+"?"+Kf+"+"+Vf,Co+"+"+Wf,Xf,cc,Lf,nf].join("|"),"g"),Zf=RegExp("["+Hf+tc+yc+jf+"]"),Hc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vu=-1,Wa={};Wa[ha]=Wa[En]=Wa[An]=Wa[wa]=Wa[Pn]=Wa[Cn]=Wa[Da]=Wa[Aa]=Wa[Ca]=!0,Wa[Ii]=Wa[Ni]=Wa[zi]=Wa[ai]=Wa[$n]=Wa[li]=Wa[vi]=Wa[xi]=Wa[Rn]=Wa[Ki]=Wa[Nn]=Wa[Yn]=Wa[ji]=Wa[Vi]=Wa[Ti]=!1;var Ka={};Ka[Ii]=Ka[Ni]=Ka[zi]=Ka[$n]=Ka[ai]=Ka[li]=Ka[ha]=Ka[En]=Ka[An]=Ka[wa]=Ka[Pn]=Ka[Rn]=Ka[Ki]=Ka[Nn]=Ka[Yn]=Ka[ji]=Ka[Vi]=Ka[On]=Ka[Cn]=Ka[Da]=Ka[Aa]=Ka[Ca]=!0,Ka[vi]=Ka[xi]=Ka[Ti]=!1;var pi={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},mi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Oi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_n={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ga=parseFloat,fa=parseInt,Za=typeof ge=="object"&&ge&&ge.Object===Object&&ge,uo=typeof self=="object"&&self&&self.Object===Object&&self,Ba=Za||uo||Function("return this")(),Ja=t&&!t.nodeType&&t,oo=Ja&&!0&&Y&&!Y.nodeType&&Y,Ro=oo&&oo.exports===Ja,ho=Ro&&Za.process,eo=function(){try{var _i=oo&&oo.require&&oo.require("util").types;return _i||ho&&ho.binding&&ho.binding("util")}catch{}}(),Eo=eo&&eo.isArrayBuffer,Go=eo&&eo.isDate,jo=eo&&eo.isMap,nc=eo&&eo.isRegExp,Ef=eo&&eo.isSet,Kc=eo&&eo.isTypedArray;function vo(_i,Ai,Ri){switch(Ri.length){case 0:return _i.call(Ai);case 1:return _i.call(Ai,Ri[0]);case 2:return _i.call(Ai,Ri[0],Ri[1]);case 3:return _i.call(Ai,Ri[0],Ri[1],Ri[2])}return _i.apply(Ai,Ri)}function Yl(_i,Ai,Ri,Sn){for(var ia=-1,Ua=_i==null?0:_i.length;++ia<Ua;){var lo=_i[ia];Ai(Sn,lo,Ri(lo),_i)}return Sn}function Lo(_i,Ai){for(var Ri=-1,Sn=_i==null?0:_i.length;++Ri<Sn&&Ai(_i[Ri],Ri,_i)!==!1;);return _i}function Ql(_i,Ai){for(var Ri=_i==null?0:_i.length;Ri--&&Ai(_i[Ri],Ri,_i)!==!1;);return _i}function Yh(_i,Ai){for(var Ri=-1,Sn=_i==null?0:_i.length;++Ri<Sn;)if(!Ai(_i[Ri],Ri,_i))return!1;return!0}function wc(_i,Ai){for(var Ri=-1,Sn=_i==null?0:_i.length,ia=0,Ua=[];++Ri<Sn;){var lo=_i[Ri];Ai(lo,Ri,_i)&&(Ua[ia++]=lo)}return Ua}function tu(_i,Ai){var Ri=_i==null?0:_i.length;return!!Ri&&af(_i,Ai,0)>-1}function Wu(_i,Ai,Ri){for(var Sn=-1,ia=_i==null?0:_i.length;++Sn<ia;)if(Ri(Ai,_i[Sn]))return!0;return!1}function io(_i,Ai){for(var Ri=-1,Sn=_i==null?0:_i.length,ia=Array(Sn);++Ri<Sn;)ia[Ri]=Ai(_i[Ri],Ri,_i);return ia}function Ec(_i,Ai){for(var Ri=-1,Sn=Ai.length,ia=_i.length;++Ri<Sn;)_i[ia+Ri]=Ai[Ri];return _i}function Gu(_i,Ai,Ri,Sn){var ia=-1,Ua=_i==null?0:_i.length;for(Sn&&Ua&&(Ri=_i[++ia]);++ia<Ua;)Ri=Ai(Ri,_i[ia],ia,_i);return Ri}function Zl(_i,Ai,Ri,Sn){var ia=_i==null?0:_i.length;for(Sn&&ia&&(Ri=_i[--ia]);ia--;)Ri=Ai(Ri,_i[ia],ia,_i);return Ri}function Ju(_i,Ai){for(var Ri=-1,Sn=_i==null?0:_i.length;++Ri<Sn;)if(Ai(_i[Ri],Ri,_i))return!0;return!1}var e0=Xu("length");function t0(_i){return _i.split("")}function r0(_i){return _i.match(ga)||[]}function Qh(_i,Ai,Ri){var Sn;return Ri(_i,function(ia,Ua,lo){if(Ai(ia,Ua,lo))return Sn=Ua,!1}),Sn}function ru(_i,Ai,Ri,Sn){for(var ia=_i.length,Ua=Ri+(Sn?1:-1);Sn?Ua--:++Ua<ia;)if(Ai(_i[Ua],Ua,_i))return Ua;return-1}function af(_i,Ai,Ri){return Ai===Ai?p0(_i,Ai,Ri):ru(_i,Zh,Ri)}function i0(_i,Ai,Ri,Sn){for(var ia=Ri-1,Ua=_i.length;++ia<Ua;)if(Sn(_i[ia],Ai))return ia;return-1}function Zh(_i){return _i!==_i}function ed(_i,Ai){var Ri=_i==null?0:_i.length;return Ri?Qu(_i,Ai)/Ri:Br}function Xu(_i){return function(Ai){return Ai==null?s:Ai[_i]}}function Yu(_i){return function(Ai){return _i==null?s:_i[Ai]}}function td(_i,Ai,Ri,Sn,ia){return ia(_i,function(Ua,lo,Xa){Ri=Sn?(Sn=!1,Ua):Ai(Ri,Ua,lo,Xa)}),Ri}function n0(_i,Ai){var Ri=_i.length;for(_i.sort(Ai);Ri--;)_i[Ri]=_i[Ri].value;return _i}function Qu(_i,Ai){for(var Ri,Sn=-1,ia=_i.length;++Sn<ia;){var Ua=Ai(_i[Sn]);Ua!==s&&(Ri=Ri===s?Ua:Ri+Ua)}return Ri}function Zu(_i,Ai){for(var Ri=-1,Sn=Array(_i);++Ri<_i;)Sn[Ri]=Ai(Ri);return Sn}function s0(_i,Ai){return io(Ai,function(Ri){return[Ri,_i[Ri]]})}function rd(_i){return _i&&_i.slice(0,ad(_i)+1).replace(Qa,"")}function Oo(_i){return function(Ai){return _i(Ai)}}function eh(_i,Ai){return io(Ai,function(Ri){return _i[Ri]})}function xf(_i,Ai){return _i.has(Ai)}function id(_i,Ai){for(var Ri=-1,Sn=_i.length;++Ri<Sn&&af(Ai,_i[Ri],0)>-1;);return Ri}function nd(_i,Ai){for(var Ri=_i.length;Ri--&&af(Ai,_i[Ri],0)>-1;);return Ri}function a0(_i,Ai){for(var Ri=_i.length,Sn=0;Ri--;)_i[Ri]===Ai&&++Sn;return Sn}var o0=Yu(pi),c0=Yu(mi);function f0(_i){return"\\"+_n[_i]}function u0(_i,Ai){return _i==null?s:_i[Ai]}function of(_i){return Zf.test(_i)}function h0(_i){return Hc.test(_i)}function d0(_i){for(var Ai,Ri=[];!(Ai=_i.next()).done;)Ri.push(Ai.value);return Ri}function th(_i){var Ai=-1,Ri=Array(_i.size);return _i.forEach(function(Sn,ia){Ri[++Ai]=[ia,Sn]}),Ri}function sd(_i,Ai){return function(Ri){return _i(Ai(Ri))}}function xc(_i,Ai){for(var Ri=-1,Sn=_i.length,ia=0,Ua=[];++Ri<Sn;){var lo=_i[Ri];(lo===Ai||lo===me)&&(_i[Ri]=me,Ua[ia++]=Ri)}return Ua}function iu(_i){var Ai=-1,Ri=Array(_i.size);return _i.forEach(function(Sn){Ri[++Ai]=Sn}),Ri}function l0(_i){var Ai=-1,Ri=Array(_i.size);return _i.forEach(function(Sn){Ri[++Ai]=[Sn,Sn]}),Ri}function p0(_i,Ai,Ri){for(var Sn=Ri-1,ia=_i.length;++Sn<ia;)if(_i[Sn]===Ai)return Sn;return-1}function v0(_i,Ai,Ri){for(var Sn=Ri+1;Sn--;)if(_i[Sn]===Ai)return Sn;return Sn}function cf(_i){return of(_i)?g0(_i):e0(_i)}function Jo(_i){return of(_i)?y0(_i):t0(_i)}function ad(_i){for(var Ai=_i.length;Ai--&&da.test(_i.charAt(Ai)););return Ai}var b0=Yu(Oi);function g0(_i){for(var Ai=sf.lastIndex=0;sf.test(_i);)++Ai;return Ai}function y0(_i){return _i.match(sf)||[]}function m0(_i){return _i.match(Qf)||[]}var _0=function _i(Ai){Ai=Ai==null?Ba:ff.defaults(Ba.Object(),Ai,ff.pick(Ba,eu));var Ri=Ai.Array,Sn=Ai.Date,ia=Ai.Error,Ua=Ai.Function,lo=Ai.Math,Xa=Ai.Object,rh=Ai.RegExp,w0=Ai.String,ko=Ai.TypeError,nu=Ri.prototype,E0=Ua.prototype,uf=Xa.prototype,su=Ai["__core-js_shared__"],au=E0.toString,Fa=uf.hasOwnProperty,x0=0,od=function(){var ne=/[^.]+$/.exec(su&&su.keys&&su.keys.IE_PROTO||"");return ne?"Symbol(src)_1."+ne:""}(),ou=uf.toString,S0=au.call(Xa),$0=Ba._,R0=rh("^"+au.call(Fa).replace(oa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cu=Ro?Ai.Buffer:s,Sc=Ai.Symbol,fu=Ai.Uint8Array,cd=cu?cu.allocUnsafe:s,uu=sd(Xa.getPrototypeOf,Xa),fd=Xa.create,ud=uf.propertyIsEnumerable,hu=nu.splice,hd=Sc?Sc.isConcatSpreadable:s,Sf=Sc?Sc.iterator:s,Vc=Sc?Sc.toStringTag:s,du=function(){try{var ne=Yc(Xa,"defineProperty");return ne({},"",{}),ne}catch{}}(),D0=Ai.clearTimeout!==Ba.clearTimeout&&Ai.clearTimeout,I0=Sn&&Sn.now!==Ba.Date.now&&Sn.now,q0=Ai.setTimeout!==Ba.setTimeout&&Ai.setTimeout,lu=lo.ceil,pu=lo.floor,ih=Xa.getOwnPropertySymbols,A0=cu?cu.isBuffer:s,dd=Ai.isFinite,M0=nu.join,P0=sd(Xa.keys,Xa),po=lo.max,mo=lo.min,C0=Sn.now,O0=Ai.parseInt,ld=lo.random,B0=nu.reverse,nh=Yc(Ai,"DataView"),$f=Yc(Ai,"Map"),sh=Yc(Ai,"Promise"),hf=Yc(Ai,"Set"),Rf=Yc(Ai,"WeakMap"),Df=Yc(Xa,"create"),vu=Rf&&new Rf,df={},N0=Qc(nh),T0=Qc($f),U0=Qc(sh),j0=Qc(hf),L0=Qc(Rf),bu=Sc?Sc.prototype:s,If=bu?bu.valueOf:s,pd=bu?bu.toString:s;function ui(ne){if(ao(ne)&&!ua(ne)&&!(ne instanceof Pa)){if(ne instanceof zo)return ne;if(Fa.call(ne,"__wrapped__"))return vl(ne)}return new zo(ne)}var lf=function(){function ne(){}return function(ye){if(!so(ye))return{};if(fd)return fd(ye);ne.prototype=ye;var br=new ne;return ne.prototype=s,br}}();function gu(){}function zo(ne,ye){this.__wrapped__=ne,this.__actions__=[],this.__chain__=!!ye,this.__index__=0,this.__values__=s}ui.templateSettings={escape:sa,evaluate:aa,interpolate:Ya,variable:"",imports:{_:ui}},ui.prototype=gu.prototype,ui.prototype.constructor=ui,zo.prototype=lf(gu.prototype),zo.prototype.constructor=zo;function Pa(ne){this.__wrapped__=ne,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=si,this.__views__=[]}function k0(){var ne=new Pa(this.__wrapped__);return ne.__actions__=Do(this.__actions__),ne.__dir__=this.__dir__,ne.__filtered__=this.__filtered__,ne.__iteratees__=Do(this.__iteratees__),ne.__takeCount__=this.__takeCount__,ne.__views__=Do(this.__views__),ne}function z0(){if(this.__filtered__){var ne=new Pa(this);ne.__dir__=-1,ne.__filtered__=!0}else ne=this.clone(),ne.__dir__*=-1;return ne}function F0(){var ne=this.__wrapped__.value(),ye=this.__dir__,br=ua(ne),Kr=ye<0,ni=br?ne.length:0,di=t1(0,ni,this.__views__),bi=di.start,yi=di.end,wi=yi-bi,Pi=Kr?yi:bi-1,Ci=this.__iteratees__,Bi=Ci.length,Li=0,In=mo(wi,this.__takeCount__);if(!br||!Kr&&ni==wi&&In==wi)return Ud(ne,this.__actions__);var Zn=[];e:for(;wi--&&Li<In;){Pi+=ye;for(var _a=-1,ea=ne[Pi];++_a<Bi;){var qa=Ci[_a],Na=qa.iteratee,To=qa.type,$o=Na(ea);if(To==Jr)ea=$o;else if(!$o){if(To==Vr)continue e;break e}}Zn[Li++]=ea}return Zn}Pa.prototype=lf(gu.prototype),Pa.prototype.constructor=Pa;function Wc(ne){var ye=-1,br=ne==null?0:ne.length;for(this.clear();++ye<br;){var Kr=ne[ye];this.set(Kr[0],Kr[1])}}function H0(){this.__data__=Df?Df(null):{},this.size=0}function K0(ne){var ye=this.has(ne)&&delete this.__data__[ne];return this.size-=ye?1:0,ye}function V0(ne){var ye=this.__data__;if(Df){var br=ye[ne];return br===Se?s:br}return Fa.call(ye,ne)?ye[ne]:s}function W0(ne){var ye=this.__data__;return Df?ye[ne]!==s:Fa.call(ye,ne)}function G0(ne,ye){var br=this.__data__;return this.size+=this.has(ne)?0:1,br[ne]=Df&&ye===s?Se:ye,this}Wc.prototype.clear=H0,Wc.prototype.delete=K0,Wc.prototype.get=V0,Wc.prototype.has=W0,Wc.prototype.set=G0;function fc(ne){var ye=-1,br=ne==null?0:ne.length;for(this.clear();++ye<br;){var Kr=ne[ye];this.set(Kr[0],Kr[1])}}function J0(){this.__data__=[],this.size=0}function X0(ne){var ye=this.__data__,br=yu(ye,ne);if(br<0)return!1;var Kr=ye.length-1;return br==Kr?ye.pop():hu.call(ye,br,1),--this.size,!0}function Y0(ne){var ye=this.__data__,br=yu(ye,ne);return br<0?s:ye[br][1]}function Q0(ne){return yu(this.__data__,ne)>-1}function Z0(ne,ye){var br=this.__data__,Kr=yu(br,ne);return Kr<0?(++this.size,br.push([ne,ye])):br[Kr][1]=ye,this}fc.prototype.clear=J0,fc.prototype.delete=X0,fc.prototype.get=Y0,fc.prototype.has=Q0,fc.prototype.set=Z0;function uc(ne){var ye=-1,br=ne==null?0:ne.length;for(this.clear();++ye<br;){var Kr=ne[ye];this.set(Kr[0],Kr[1])}}function ep(){this.size=0,this.__data__={hash:new Wc,map:new($f||fc),string:new Wc}}function tp(ne){var ye=Au(this,ne).delete(ne);return this.size-=ye?1:0,ye}function rp(ne){return Au(this,ne).get(ne)}function ip(ne){return Au(this,ne).has(ne)}function np(ne,ye){var br=Au(this,ne),Kr=br.size;return br.set(ne,ye),this.size+=br.size==Kr?0:1,this}uc.prototype.clear=ep,uc.prototype.delete=tp,uc.prototype.get=rp,uc.prototype.has=ip,uc.prototype.set=np;function Gc(ne){var ye=-1,br=ne==null?0:ne.length;for(this.__data__=new uc;++ye<br;)this.add(ne[ye])}function sp(ne){return this.__data__.set(ne,Se),this}function ap(ne){return this.__data__.has(ne)}Gc.prototype.add=Gc.prototype.push=sp,Gc.prototype.has=ap;function Xo(ne){var ye=this.__data__=new fc(ne);this.size=ye.size}function op(){this.__data__=new fc,this.size=0}function cp(ne){var ye=this.__data__,br=ye.delete(ne);return this.size=ye.size,br}function fp(ne){return this.__data__.get(ne)}function up(ne){return this.__data__.has(ne)}function hp(ne,ye){var br=this.__data__;if(br instanceof fc){var Kr=br.__data__;if(!$f||Kr.length<fe-1)return Kr.push([ne,ye]),this.size=++br.size,this;br=this.__data__=new uc(Kr)}return br.set(ne,ye),this.size=br.size,this}Xo.prototype.clear=op,Xo.prototype.delete=cp,Xo.prototype.get=fp,Xo.prototype.has=up,Xo.prototype.set=hp;function vd(ne,ye){var br=ua(ne),Kr=!br&&Zc(ne),ni=!br&&!Kr&&qc(ne),di=!br&&!Kr&&!ni&&gf(ne),bi=br||Kr||ni||di,yi=bi?Zu(ne.length,w0):[],wi=yi.length;for(var Pi in ne)(ye||Fa.call(ne,Pi))&&!(bi&&(Pi=="length"||ni&&(Pi=="offset"||Pi=="parent")||di&&(Pi=="buffer"||Pi=="byteLength"||Pi=="byteOffset")||pc(Pi,wi)))&&yi.push(Pi);return yi}function bd(ne){var ye=ne.length;return ye?ne[gh(0,ye-1)]:s}function dp(ne,ye){return Mu(Do(ne),Jc(ye,0,ne.length))}function lp(ne){return Mu(Do(ne))}function ah(ne,ye,br){(br!==s&&!Yo(ne[ye],br)||br===s&&!(ye in ne))&&hc(ne,ye,br)}function qf(ne,ye,br){var Kr=ne[ye];(!(Fa.call(ne,ye)&&Yo(Kr,br))||br===s&&!(ye in ne))&&hc(ne,ye,br)}function yu(ne,ye){for(var br=ne.length;br--;)if(Yo(ne[br][0],ye))return br;return-1}function pp(ne,ye,br,Kr){return $c(ne,function(ni,di,bi){ye(Kr,ni,br(ni),bi)}),Kr}function gd(ne,ye){return ne&&ac(ye,bo(ye),ne)}function vp(ne,ye){return ne&&ac(ye,qo(ye),ne)}function hc(ne,ye,br){ye=="__proto__"&&du?du(ne,ye,{configurable:!0,enumerable:!0,value:br,writable:!0}):ne[ye]=br}function oh(ne,ye){for(var br=-1,Kr=ye.length,ni=Ri(Kr),di=ne==null;++br<Kr;)ni[br]=di?s:zh(ne,ye[br]);return ni}function Jc(ne,ye,br){return ne===ne&&(br!==s&&(ne=ne<=br?ne:br),ye!==s&&(ne=ne>=ye?ne:ye)),ne}function Fo(ne,ye,br,Kr,ni,di){var bi,yi=ye&Ie,wi=ye&fr,Pi=ye&Oe;if(br&&(bi=ni?br(ne,Kr,ni,di):br(ne)),bi!==s)return bi;if(!so(ne))return ne;var Ci=ua(ne);if(Ci){if(bi=i1(ne),!yi)return Do(ne,bi)}else{var Bi=_o(ne),Li=Bi==xi||Bi==Di;if(qc(ne))return kd(ne,yi);if(Bi==Nn||Bi==Ii||Li&&!ni){if(bi=wi||Li?{}:al(ne),!yi)return wi?Vp(ne,vp(bi,ne)):Kp(ne,gd(bi,ne))}else{if(!Ka[Bi])return ni?ne:{};bi=n1(ne,Bi,yi)}}di||(di=new Xo);var In=di.get(ne);if(In)return In;di.set(ne,bi),Bl(ne)?ne.forEach(function(ea){bi.add(Fo(ea,ye,br,ea,ne,di))}):Cl(ne)&&ne.forEach(function(ea,qa){bi.set(qa,Fo(ea,ye,br,qa,ne,di))});var Zn=Pi?wi?Ih:Dh:wi?qo:bo,_a=Ci?s:Zn(ne);return Lo(_a||ne,function(ea,qa){_a&&(qa=ea,ea=ne[qa]),qf(bi,qa,Fo(ea,ye,br,qa,ne,di))}),bi}function bp(ne){var ye=bo(ne);return function(br){return yd(br,ne,ye)}}function yd(ne,ye,br){var Kr=br.length;if(ne==null)return!Kr;for(ne=Xa(ne);Kr--;){var ni=br[Kr],di=ye[ni],bi=ne[ni];if(bi===s&&!(ni in ne)||!di(bi))return!1}return!0}function md(ne,ye,br){if(typeof ne!="function")throw new ko(xe);return Nf(function(){ne.apply(s,br)},ye)}function Af(ne,ye,br,Kr){var ni=-1,di=tu,bi=!0,yi=ne.length,wi=[],Pi=ye.length;if(!yi)return wi;br&&(ye=io(ye,Oo(br))),Kr?(di=Wu,bi=!1):ye.length>=fe&&(di=xf,bi=!1,ye=new Gc(ye));e:for(;++ni<yi;){var Ci=ne[ni],Bi=br==null?Ci:br(Ci);if(Ci=Kr||Ci!==0?Ci:0,bi&&Bi===Bi){for(var Li=Pi;Li--;)if(ye[Li]===Bi)continue e;wi.push(Ci)}else di(ye,Bi,Kr)||wi.push(Ci)}return wi}var $c=Vd(sc),_d=Vd(fh,!0);function gp(ne,ye){var br=!0;return $c(ne,function(Kr,ni,di){return br=!!ye(Kr,ni,di),br}),br}function mu(ne,ye,br){for(var Kr=-1,ni=ne.length;++Kr<ni;){var di=ne[Kr],bi=ye(di);if(bi!=null&&(yi===s?bi===bi&&!No(bi):br(bi,yi)))var yi=bi,wi=di}return wi}function yp(ne,ye,br,Kr){var ni=ne.length;for(br=ma(br),br<0&&(br=-br>ni?0:ni+br),Kr=Kr===s||Kr>ni?ni:ma(Kr),Kr<0&&(Kr+=ni),Kr=br>Kr?0:Tl(Kr);br<Kr;)ne[br++]=ye;return ne}function wd(ne,ye){var br=[];return $c(ne,function(Kr,ni,di){ye(Kr,ni,di)&&br.push(Kr)}),br}function go(ne,ye,br,Kr,ni){var di=-1,bi=ne.length;for(br||(br=a1),ni||(ni=[]);++di<bi;){var yi=ne[di];ye>0&&br(yi)?ye>1?go(yi,ye-1,br,Kr,ni):Ec(ni,yi):Kr||(ni[ni.length]=yi)}return ni}var ch=Wd(),Ed=Wd(!0);function sc(ne,ye){return ne&&ch(ne,ye,bo)}function fh(ne,ye){return ne&&Ed(ne,ye,bo)}function _u(ne,ye){return wc(ye,function(br){return vc(ne[br])})}function Xc(ne,ye){ye=Dc(ye,ne);for(var br=0,Kr=ye.length;ne!=null&&br<Kr;)ne=ne[oc(ye[br++])];return br&&br==Kr?ne:s}function xd(ne,ye,br){var Kr=ye(ne);return ua(ne)?Kr:Ec(Kr,br(ne))}function xo(ne){return ne==null?ne===s?ki:wn:Vc&&Vc in Xa(ne)?e1(ne):l1(ne)}function uh(ne,ye){return ne>ye}function mp(ne,ye){return ne!=null&&Fa.call(ne,ye)}function _p(ne,ye){return ne!=null&&ye in Xa(ne)}function wp(ne,ye,br){return ne>=mo(ye,br)&&ne<po(ye,br)}function hh(ne,ye,br){for(var Kr=br?Wu:tu,ni=ne[0].length,di=ne.length,bi=di,yi=Ri(di),wi=1/0,Pi=[];bi--;){var Ci=ne[bi];bi&&ye&&(Ci=io(Ci,Oo(ye))),wi=mo(Ci.length,wi),yi[bi]=!br&&(ye||ni>=120&&Ci.length>=120)?new Gc(bi&&Ci):s}Ci=ne[0];var Bi=-1,Li=yi[0];e:for(;++Bi<ni&&Pi.length<wi;){var In=Ci[Bi],Zn=ye?ye(In):In;if(In=br||In!==0?In:0,!(Li?xf(Li,Zn):Kr(Pi,Zn,br))){for(bi=di;--bi;){var _a=yi[bi];if(!(_a?xf(_a,Zn):Kr(ne[bi],Zn,br)))continue e}Li&&Li.push(Zn),Pi.push(In)}}return Pi}function Ep(ne,ye,br,Kr){return sc(ne,function(ni,di,bi){ye(Kr,br(ni),di,bi)}),Kr}function Mf(ne,ye,br){ye=Dc(ye,ne),ne=ul(ne,ye);var Kr=ne==null?ne:ne[oc(Ko(ye))];return Kr==null?s:vo(Kr,ne,br)}function Sd(ne){return ao(ne)&&xo(ne)==Ii}function xp(ne){return ao(ne)&&xo(ne)==zi}function Sp(ne){return ao(ne)&&xo(ne)==li}function Pf(ne,ye,br,Kr,ni){return ne===ye?!0:ne==null||ye==null||!ao(ne)&&!ao(ye)?ne!==ne&&ye!==ye:$p(ne,ye,br,Kr,Pf,ni)}function $p(ne,ye,br,Kr,ni,di){var bi=ua(ne),yi=ua(ye),wi=bi?Ni:_o(ne),Pi=yi?Ni:_o(ye);wi=wi==Ii?Nn:wi,Pi=Pi==Ii?Nn:Pi;var Ci=wi==Nn,Bi=Pi==Nn,Li=wi==Pi;if(Li&&qc(ne)){if(!qc(ye))return!1;bi=!0,Ci=!1}if(Li&&!Ci)return di||(di=new Xo),bi||gf(ne)?il(ne,ye,br,Kr,ni,di):Qp(ne,ye,wi,br,Kr,ni,di);if(!(br&wr)){var In=Ci&&Fa.call(ne,"__wrapped__"),Zn=Bi&&Fa.call(ye,"__wrapped__");if(In||Zn){var _a=In?ne.value():ne,ea=Zn?ye.value():ye;return di||(di=new Xo),ni(_a,ea,br,Kr,di)}}return Li?(di||(di=new Xo),Zp(ne,ye,br,Kr,ni,di)):!1}function Rp(ne){return ao(ne)&&_o(ne)==Rn}function lh(ne,ye,br,Kr){var ni=br.length,di=ni,bi=!Kr;if(ne==null)return!di;for(ne=Xa(ne);ni--;){var yi=br[ni];if(bi&&yi[2]?yi[1]!==ne[yi[0]]:!(yi[0]in ne))return!1}for(;++ni<di;){yi=br[ni];var wi=yi[0],Pi=ne[wi],Ci=yi[1];if(bi&&yi[2]){if(Pi===s&&!(wi in ne))return!1}else{var Bi=new Xo;if(Kr)var Li=Kr(Pi,Ci,wi,ne,ye,Bi);if(!(Li===s?Pf(Ci,Pi,wr|qr,Kr,Bi):Li))return!1}}return!0}function $d(ne){if(!so(ne)||c1(ne))return!1;var ye=vc(ne)?R0:Pc;return ye.test(Qc(ne))}function Dp(ne){return ao(ne)&&xo(ne)==Yn}function Ip(ne){return ao(ne)&&_o(ne)==ji}function qp(ne){return ao(ne)&&Tu(ne.length)&&!!Wa[xo(ne)]}function Rd(ne){return typeof ne=="function"?ne:ne==null?Ao:typeof ne=="object"?ua(ne)?qd(ne[0],ne[1]):Id(ne):Gl(ne)}function ph(ne){if(!Bf(ne))return P0(ne);var ye=[];for(var br in Xa(ne))Fa.call(ne,br)&&br!="constructor"&&ye.push(br);return ye}function Ap(ne){if(!so(ne))return d1(ne);var ye=Bf(ne),br=[];for(var Kr in ne)Kr=="constructor"&&(ye||!Fa.call(ne,Kr))||br.push(Kr);return br}function vh(ne,ye){return ne<ye}function Dd(ne,ye){var br=-1,Kr=Io(ne)?Ri(ne.length):[];return $c(ne,function(ni,di,bi){Kr[++br]=ye(ni,di,bi)}),Kr}function Id(ne){var ye=Ah(ne);return ye.length==1&&ye[0][2]?cl(ye[0][0],ye[0][1]):function(br){return br===ne||lh(br,ne,ye)}}function qd(ne,ye){return Ph(ne)&&ol(ye)?cl(oc(ne),ye):function(br){var Kr=zh(br,ne);return Kr===s&&Kr===ye?Fh(br,ne):Pf(ye,Kr,wr|qr)}}function wu(ne,ye,br,Kr,ni){ne!==ye&&ch(ye,function(di,bi){if(ni||(ni=new Xo),so(di))Mp(ne,ye,bi,br,wu,Kr,ni);else{var yi=Kr?Kr(Oh(ne,bi),di,bi+"",ne,ye,ni):s;yi===s&&(yi=di),ah(ne,bi,yi)}},qo)}function Mp(ne,ye,br,Kr,ni,di,bi){var yi=Oh(ne,br),wi=Oh(ye,br),Pi=bi.get(wi);if(Pi){ah(ne,br,Pi);return}var Ci=di?di(yi,wi,br+"",ne,ye,bi):s,Bi=Ci===s;if(Bi){var Li=ua(wi),In=!Li&&qc(wi),Zn=!Li&&!In&&gf(wi);Ci=wi,Li||In||Zn?ua(yi)?Ci=yi:co(yi)?Ci=Do(yi):In?(Bi=!1,Ci=kd(wi,!0)):Zn?(Bi=!1,Ci=zd(wi,!0)):Ci=[]:Tf(wi)||Zc(wi)?(Ci=yi,Zc(yi)?Ci=Ul(yi):(!so(yi)||vc(yi))&&(Ci=al(wi))):Bi=!1}Bi&&(bi.set(wi,Ci),ni(Ci,wi,Kr,di,bi),bi.delete(wi)),ah(ne,br,Ci)}function Ad(ne,ye){var br=ne.length;if(br)return ye+=ye<0?br:0,pc(ye,br)?ne[ye]:s}function Md(ne,ye,br){ye.length?ye=io(ye,function(di){return ua(di)?function(bi){return Xc(bi,di.length===1?di[0]:di)}:di}):ye=[Ao];var Kr=-1;ye=io(ye,Oo(zn()));var ni=Dd(ne,function(di,bi,yi){var wi=io(ye,function(Pi){return Pi(di)});return{criteria:wi,index:++Kr,value:di}});return n0(ni,function(di,bi){return Hp(di,bi,br)})}function Pp(ne,ye){return Pd(ne,ye,function(br,Kr){return Fh(ne,Kr)})}function Pd(ne,ye,br){for(var Kr=-1,ni=ye.length,di={};++Kr<ni;){var bi=ye[Kr],yi=Xc(ne,bi);br(yi,bi)&&Cf(di,Dc(bi,ne),yi)}return di}function Cp(ne){return function(ye){return Xc(ye,ne)}}function bh(ne,ye,br,Kr){var ni=Kr?i0:af,di=-1,bi=ye.length,yi=ne;for(ne===ye&&(ye=Do(ye)),br&&(yi=io(ne,Oo(br)));++di<bi;)for(var wi=0,Pi=ye[di],Ci=br?br(Pi):Pi;(wi=ni(yi,Ci,wi,Kr))>-1;)yi!==ne&&hu.call(yi,wi,1),hu.call(ne,wi,1);return ne}function Cd(ne,ye){for(var br=ne?ye.length:0,Kr=br-1;br--;){var ni=ye[br];if(br==Kr||ni!==di){var di=ni;pc(ni)?hu.call(ne,ni,1):_h(ne,ni)}}return ne}function gh(ne,ye){return ne+pu(ld()*(ye-ne+1))}function Op(ne,ye,br,Kr){for(var ni=-1,di=po(lu((ye-ne)/(br||1)),0),bi=Ri(di);di--;)bi[Kr?di:++ni]=ne,ne+=br;return bi}function yh(ne,ye){var br="";if(!ne||ye<1||ye>ei)return br;do ye%2&&(br+=ne),ye=pu(ye/2),ye&&(ne+=ne);while(ye);return br}function $a(ne,ye){return Bh(fl(ne,ye,Ao),ne+"")}function Bp(ne){return bd(yf(ne))}function Np(ne,ye){var br=yf(ne);return Mu(br,Jc(ye,0,br.length))}function Cf(ne,ye,br,Kr){if(!so(ne))return ne;ye=Dc(ye,ne);for(var ni=-1,di=ye.length,bi=di-1,yi=ne;yi!=null&&++ni<di;){var wi=oc(ye[ni]),Pi=br;if(wi==="__proto__"||wi==="constructor"||wi==="prototype")return ne;if(ni!=bi){var Ci=yi[wi];Pi=Kr?Kr(Ci,wi,yi):s,Pi===s&&(Pi=so(Ci)?Ci:pc(ye[ni+1])?[]:{})}qf(yi,wi,Pi),yi=yi[wi]}return ne}var Od=vu?function(ne,ye){return vu.set(ne,ye),ne}:Ao,Tp=du?function(ne,ye){return du(ne,"toString",{configurable:!0,enumerable:!1,value:Kh(ye),writable:!0})}:Ao;function Up(ne){return Mu(yf(ne))}function Ho(ne,ye,br){var Kr=-1,ni=ne.length;ye<0&&(ye=-ye>ni?0:ni+ye),br=br>ni?ni:br,br<0&&(br+=ni),ni=ye>br?0:br-ye>>>0,ye>>>=0;for(var di=Ri(ni);++Kr<ni;)di[Kr]=ne[Kr+ye];return di}function jp(ne,ye){var br;return $c(ne,function(Kr,ni,di){return br=ye(Kr,ni,di),!br}),!!br}function Eu(ne,ye,br){var Kr=0,ni=ne==null?Kr:ne.length;if(typeof ye=="number"&&ye===ye&&ni<=Ei){for(;Kr<ni;){var di=Kr+ni>>>1,bi=ne[di];bi!==null&&!No(bi)&&(br?bi<=ye:bi<ye)?Kr=di+1:ni=di}return ni}return mh(ne,ye,Ao,br)}function mh(ne,ye,br,Kr){var ni=0,di=ne==null?0:ne.length;if(di===0)return 0;ye=br(ye);for(var bi=ye!==ye,yi=ye===null,wi=No(ye),Pi=ye===s;ni<di;){var Ci=pu((ni+di)/2),Bi=br(ne[Ci]),Li=Bi!==s,In=Bi===null,Zn=Bi===Bi,_a=No(Bi);if(bi)var ea=Kr||Zn;else Pi?ea=Zn&&(Kr||Li):yi?ea=Zn&&Li&&(Kr||!In):wi?ea=Zn&&Li&&!In&&(Kr||!_a):In||_a?ea=!1:ea=Kr?Bi<=ye:Bi<ye;ea?ni=Ci+1:di=Ci}return mo(di,Si)}function Bd(ne,ye){for(var br=-1,Kr=ne.length,ni=0,di=[];++br<Kr;){var bi=ne[br],yi=ye?ye(bi):bi;if(!br||!Yo(yi,wi)){var wi=yi;di[ni++]=bi===0?0:bi}}return di}function Nd(ne){return typeof ne=="number"?ne:No(ne)?Br:+ne}function Bo(ne){if(typeof ne=="string")return ne;if(ua(ne))return io(ne,Bo)+"";if(No(ne))return pd?pd.call(ne):"";var ye=ne+"";return ye=="0"&&1/ne==-Xr?"-0":ye}function Rc(ne,ye,br){var Kr=-1,ni=tu,di=ne.length,bi=!0,yi=[],wi=yi;if(br)bi=!1,ni=Wu;else if(di>=fe){var Pi=ye?null:Xp(ne);if(Pi)return iu(Pi);bi=!1,ni=xf,wi=new Gc}else wi=ye?[]:yi;e:for(;++Kr<di;){var Ci=ne[Kr],Bi=ye?ye(Ci):Ci;if(Ci=br||Ci!==0?Ci:0,bi&&Bi===Bi){for(var Li=wi.length;Li--;)if(wi[Li]===Bi)continue e;ye&&wi.push(Bi),yi.push(Ci)}else ni(wi,Bi,br)||(wi!==yi&&wi.push(Bi),yi.push(Ci))}return yi}function _h(ne,ye){return ye=Dc(ye,ne),ne=ul(ne,ye),ne==null||delete ne[oc(Ko(ye))]}function Td(ne,ye,br,Kr){return Cf(ne,ye,br(Xc(ne,ye)),Kr)}function xu(ne,ye,br,Kr){for(var ni=ne.length,di=Kr?ni:-1;(Kr?di--:++di<ni)&&ye(ne[di],di,ne););return br?Ho(ne,Kr?0:di,Kr?di+1:ni):Ho(ne,Kr?di+1:0,Kr?ni:di)}function Ud(ne,ye){var br=ne;return br instanceof Pa&&(br=br.value()),Gu(ye,function(Kr,ni){return ni.func.apply(ni.thisArg,Ec([Kr],ni.args))},br)}function wh(ne,ye,br){var Kr=ne.length;if(Kr<2)return Kr?Rc(ne[0]):[];for(var ni=-1,di=Ri(Kr);++ni<Kr;)for(var bi=ne[ni],yi=-1;++yi<Kr;)yi!=ni&&(di[ni]=Af(di[ni]||bi,ne[yi],ye,br));return Rc(go(di,1),ye,br)}function jd(ne,ye,br){for(var Kr=-1,ni=ne.length,di=ye.length,bi={};++Kr<ni;){var yi=Kr<di?ye[Kr]:s;br(bi,ne[Kr],yi)}return bi}function Eh(ne){return co(ne)?ne:[]}function xh(ne){return typeof ne=="function"?ne:Ao}function Dc(ne,ye){return ua(ne)?ne:Ph(ne,ye)?[ne]:pl(ka(ne))}var Lp=$a;function Ic(ne,ye,br){var Kr=ne.length;return br=br===s?Kr:br,!ye&&br>=Kr?ne:Ho(ne,ye,br)}var Ld=D0||function(ne){return Ba.clearTimeout(ne)};function kd(ne,ye){if(ye)return ne.slice();var br=ne.length,Kr=cd?cd(br):new ne.constructor(br);return ne.copy(Kr),Kr}function Sh(ne){var ye=new ne.constructor(ne.byteLength);return new fu(ye).set(new fu(ne)),ye}function kp(ne,ye){var br=ye?Sh(ne.buffer):ne.buffer;return new ne.constructor(br,ne.byteOffset,ne.byteLength)}function zp(ne){var ye=new ne.constructor(ne.source,yo.exec(ne));return ye.lastIndex=ne.lastIndex,ye}function Fp(ne){return If?Xa(If.call(ne)):{}}function zd(ne,ye){var br=ye?Sh(ne.buffer):ne.buffer;return new ne.constructor(br,ne.byteOffset,ne.length)}function Fd(ne,ye){if(ne!==ye){var br=ne!==s,Kr=ne===null,ni=ne===ne,di=No(ne),bi=ye!==s,yi=ye===null,wi=ye===ye,Pi=No(ye);if(!yi&&!Pi&&!di&&ne>ye||di&&bi&&wi&&!yi&&!Pi||Kr&&bi&&wi||!br&&wi||!ni)return 1;if(!Kr&&!di&&!Pi&&ne<ye||Pi&&br&&ni&&!Kr&&!di||yi&&br&&ni||!bi&&ni||!wi)return-1}return 0}function Hp(ne,ye,br){for(var Kr=-1,ni=ne.criteria,di=ye.criteria,bi=ni.length,yi=br.length;++Kr<bi;){var wi=Fd(ni[Kr],di[Kr]);if(wi){if(Kr>=yi)return wi;var Pi=br[Kr];return wi*(Pi=="desc"?-1:1)}}return ne.index-ye.index}function Hd(ne,ye,br,Kr){for(var ni=-1,di=ne.length,bi=br.length,yi=-1,wi=ye.length,Pi=po(di-bi,0),Ci=Ri(wi+Pi),Bi=!Kr;++yi<wi;)Ci[yi]=ye[yi];for(;++ni<bi;)(Bi||ni<di)&&(Ci[br[ni]]=ne[ni]);for(;Pi--;)Ci[yi++]=ne[ni++];return Ci}function Kd(ne,ye,br,Kr){for(var ni=-1,di=ne.length,bi=-1,yi=br.length,wi=-1,Pi=ye.length,Ci=po(di-yi,0),Bi=Ri(Ci+Pi),Li=!Kr;++ni<Ci;)Bi[ni]=ne[ni];for(var In=ni;++wi<Pi;)Bi[In+wi]=ye[wi];for(;++bi<yi;)(Li||ni<di)&&(Bi[In+br[bi]]=ne[ni++]);return Bi}function Do(ne,ye){var br=-1,Kr=ne.length;for(ye||(ye=Ri(Kr));++br<Kr;)ye[br]=ne[br];return ye}function ac(ne,ye,br,Kr){var ni=!br;br||(br={});for(var di=-1,bi=ye.length;++di<bi;){var yi=ye[di],wi=Kr?Kr(br[yi],ne[yi],yi,br,ne):s;wi===s&&(wi=ne[yi]),ni?hc(br,yi,wi):qf(br,yi,wi)}return br}function Kp(ne,ye){return ac(ne,Mh(ne),ye)}function Vp(ne,ye){return ac(ne,nl(ne),ye)}function Su(ne,ye){return function(br,Kr){var ni=ua(br)?Yl:pp,di=ye?ye():{};return ni(br,ne,zn(Kr,2),di)}}function pf(ne){return $a(function(ye,br){var Kr=-1,ni=br.length,di=ni>1?br[ni-1]:s,bi=ni>2?br[2]:s;for(di=ne.length>3&&typeof di=="function"?(ni--,di):s,bi&&So(br[0],br[1],bi)&&(di=ni<3?s:di,ni=1),ye=Xa(ye);++Kr<ni;){var yi=br[Kr];yi&&ne(ye,yi,Kr,di)}return ye})}function Vd(ne,ye){return function(br,Kr){if(br==null)return br;if(!Io(br))return ne(br,Kr);for(var ni=br.length,di=ye?ni:-1,bi=Xa(br);(ye?di--:++di<ni)&&Kr(bi[di],di,bi)!==!1;);return br}}function Wd(ne){return function(ye,br,Kr){for(var ni=-1,di=Xa(ye),bi=Kr(ye),yi=bi.length;yi--;){var wi=bi[ne?yi:++ni];if(br(di[wi],wi,di)===!1)break}return ye}}function Wp(ne,ye,br){var Kr=ye&Gr,ni=Of(ne);function di(){var bi=this&&this!==Ba&&this instanceof di?ni:ne;return bi.apply(Kr?br:this,arguments)}return di}function Gd(ne){return function(ye){ye=ka(ye);var br=of(ye)?Jo(ye):s,Kr=br?br[0]:ye.charAt(0),ni=br?Ic(br,1).join(""):ye.slice(1);return Kr[ne]()+ni}}function vf(ne){return function(ye){return Gu(Vl(Kl(ye).replace(wf,"")),ne,"")}}function Of(ne){return function(){var ye=arguments;switch(ye.length){case 0:return new ne;case 1:return new ne(ye[0]);case 2:return new ne(ye[0],ye[1]);case 3:return new ne(ye[0],ye[1],ye[2]);case 4:return new ne(ye[0],ye[1],ye[2],ye[3]);case 5:return new ne(ye[0],ye[1],ye[2],ye[3],ye[4]);case 6:return new ne(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5]);case 7:return new ne(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5],ye[6])}var br=lf(ne.prototype),Kr=ne.apply(br,ye);return so(Kr)?Kr:br}}function Gp(ne,ye,br){var Kr=Of(ne);function ni(){for(var di=arguments.length,bi=Ri(di),yi=di,wi=bf(ni);yi--;)bi[yi]=arguments[yi];var Pi=di<3&&bi[0]!==wi&&bi[di-1]!==wi?[]:xc(bi,wi);if(di-=Pi.length,di<br)return Zd(ne,ye,$u,ni.placeholder,s,bi,Pi,s,s,br-di);var Ci=this&&this!==Ba&&this instanceof ni?Kr:ne;return vo(Ci,this,bi)}return ni}function Jd(ne){return function(ye,br,Kr){var ni=Xa(ye);if(!Io(ye)){var di=zn(br,3);ye=bo(ye),br=function(yi){return di(ni[yi],yi,ni)}}var bi=ne(ye,br,Kr);return bi>-1?ni[di?ye[bi]:bi]:s}}function Xd(ne){return lc(function(ye){var br=ye.length,Kr=br,ni=zo.prototype.thru;for(ne&&ye.reverse();Kr--;){var di=ye[Kr];if(typeof di!="function")throw new ko(xe);if(ni&&!bi&&qu(di)=="wrapper")var bi=new zo([],!0)}for(Kr=bi?Kr:br;++Kr<br;){di=ye[Kr];var yi=qu(di),wi=yi=="wrapper"?qh(di):s;wi&&Ch(wi[0])&&wi[1]==(jr|ti|oi|ci)&&!wi[4].length&&wi[9]==1?bi=bi[qu(wi[0])].apply(bi,wi[3]):bi=di.length==1&&Ch(di)?bi[yi]():bi.thru(di)}return function(){var Pi=arguments,Ci=Pi[0];if(bi&&Pi.length==1&&ua(Ci))return bi.plant(Ci).value();for(var Bi=0,Li=br?ye[Bi].apply(this,Pi):Ci;++Bi<br;)Li=ye[Bi].call(this,Li);return Li}})}function $u(ne,ye,br,Kr,ni,di,bi,yi,wi,Pi){var Ci=ye&jr,Bi=ye&Gr,Li=ye&Yr,In=ye&(ti|Qr),Zn=ye&gi,_a=Li?s:Of(ne);function ea(){for(var qa=arguments.length,Na=Ri(qa),To=qa;To--;)Na[To]=arguments[To];if(In)var $o=bf(ea),Uo=a0(Na,$o);if(Kr&&(Na=Hd(Na,Kr,ni,In)),di&&(Na=Kd(Na,di,bi,In)),qa-=Uo,In&&qa<Pi){var fo=xc(Na,$o);return Zd(ne,ye,$u,ea.placeholder,br,Na,fo,yi,wi,Pi-qa)}var Qo=Bi?br:this,gc=Li?Qo[ne]:ne;return qa=Na.length,yi?Na=p1(Na,yi):Zn&&qa>1&&Na.reverse(),Ci&&wi<qa&&(Na.length=wi),this&&this!==Ba&&this instanceof ea&&(gc=_a||Of(gc)),gc.apply(Qo,Na)}return ea}function Yd(ne,ye){return function(br,Kr){return Ep(br,ne,ye(Kr),{})}}function Ru(ne,ye){return function(br,Kr){var ni;if(br===s&&Kr===s)return ye;if(br!==s&&(ni=br),Kr!==s){if(ni===s)return Kr;typeof br=="string"||typeof Kr=="string"?(br=Bo(br),Kr=Bo(Kr)):(br=Nd(br),Kr=Nd(Kr)),ni=ne(br,Kr)}return ni}}function $h(ne){return lc(function(ye){return ye=io(ye,Oo(zn())),$a(function(br){var Kr=this;return ne(ye,function(ni){return vo(ni,Kr,br)})})})}function Du(ne,ye){ye=ye===s?" ":Bo(ye);var br=ye.length;if(br<2)return br?yh(ye,ne):ye;var Kr=yh(ye,lu(ne/cf(ye)));return of(ye)?Ic(Jo(Kr),0,ne).join(""):Kr.slice(0,ne)}function Jp(ne,ye,br,Kr){var ni=ye&Gr,di=Of(ne);function bi(){for(var yi=-1,wi=arguments.length,Pi=-1,Ci=Kr.length,Bi=Ri(Ci+wi),Li=this&&this!==Ba&&this instanceof bi?di:ne;++Pi<Ci;)Bi[Pi]=Kr[Pi];for(;wi--;)Bi[Pi++]=arguments[++yi];return vo(Li,ni?br:this,Bi)}return bi}function Qd(ne){return function(ye,br,Kr){return Kr&&typeof Kr!="number"&&So(ye,br,Kr)&&(br=Kr=s),ye=bc(ye),br===s?(br=ye,ye=0):br=bc(br),Kr=Kr===s?ye<br?1:-1:bc(Kr),Op(ye,br,Kr,ne)}}function Iu(ne){return function(ye,br){return typeof ye=="string"&&typeof br=="string"||(ye=Vo(ye),br=Vo(br)),ne(ye,br)}}function Zd(ne,ye,br,Kr,ni,di,bi,yi,wi,Pi){var Ci=ye&ti,Bi=Ci?bi:s,Li=Ci?s:bi,In=Ci?di:s,Zn=Ci?s:di;ye|=Ci?oi:fi,ye&=~(Ci?fi:oi),ye&Wr||(ye&=~(Gr|Yr));var _a=[ne,ye,ni,In,Bi,Zn,Li,yi,wi,Pi],ea=br.apply(s,_a);return Ch(ne)&&hl(ea,_a),ea.placeholder=Kr,dl(ea,ne,ye)}function Rh(ne){var ye=lo[ne];return function(br,Kr){if(br=Vo(br),Kr=Kr==null?0:mo(ma(Kr),292),Kr&&dd(br)){var ni=(ka(br)+"e").split("e"),di=ye(ni[0]+"e"+(+ni[1]+Kr));return ni=(ka(di)+"e").split("e"),+(ni[0]+"e"+(+ni[1]-Kr))}return ye(br)}}var Xp=hf&&1/iu(new hf([,-0]))[1]==Xr?function(ne){return new hf(ne)}:Gh;function el(ne){return function(ye){var br=_o(ye);return br==Rn?th(ye):br==ji?l0(ye):s0(ye,ne(ye))}}function dc(ne,ye,br,Kr,ni,di,bi,yi){var wi=ye&Yr;if(!wi&&typeof ne!="function")throw new ko(xe);var Pi=Kr?Kr.length:0;if(Pi||(ye&=~(oi|fi),Kr=ni=s),bi=bi===s?bi:po(ma(bi),0),yi=yi===s?yi:ma(yi),Pi-=ni?ni.length:0,ye&fi){var Ci=Kr,Bi=ni;Kr=ni=s}var Li=wi?s:qh(ne),In=[ne,ye,br,Kr,ni,Ci,Bi,di,bi,yi];if(Li&&h1(In,Li),ne=In[0],ye=In[1],br=In[2],Kr=In[3],ni=In[4],yi=In[9]=In[9]===s?wi?0:ne.length:po(In[9]-Pi,0),!yi&&ye&(ti|Qr)&&(ye&=~(ti|Qr)),!ye||ye==Gr)var Zn=Wp(ne,ye,br);else ye==ti||ye==Qr?Zn=Gp(ne,ye,yi):(ye==oi||ye==(Gr|oi))&&!ni.length?Zn=Jp(ne,ye,br,Kr):Zn=$u.apply(s,In);var _a=Li?Od:hl;return dl(_a(Zn,In),ne,ye)}function tl(ne,ye,br,Kr){return ne===s||Yo(ne,uf[br])&&!Fa.call(Kr,br)?ye:ne}function rl(ne,ye,br,Kr,ni,di){return so(ne)&&so(ye)&&(di.set(ye,ne),wu(ne,ye,s,rl,di),di.delete(ye)),ne}function Yp(ne){return Tf(ne)?s:ne}function il(ne,ye,br,Kr,ni,di){var bi=br&wr,yi=ne.length,wi=ye.length;if(yi!=wi&&!(bi&&wi>yi))return!1;var Pi=di.get(ne),Ci=di.get(ye);if(Pi&&Ci)return Pi==ye&&Ci==ne;var Bi=-1,Li=!0,In=br&qr?new Gc:s;for(di.set(ne,ye),di.set(ye,ne);++Bi<yi;){var Zn=ne[Bi],_a=ye[Bi];if(Kr)var ea=bi?Kr(_a,Zn,Bi,ye,ne,di):Kr(Zn,_a,Bi,ne,ye,di);if(ea!==s){if(ea)continue;Li=!1;break}if(In){if(!Ju(ye,function(qa,Na){if(!xf(In,Na)&&(Zn===qa||ni(Zn,qa,br,Kr,di)))return In.push(Na)})){Li=!1;break}}else if(!(Zn===_a||ni(Zn,_a,br,Kr,di))){Li=!1;break}}return di.delete(ne),di.delete(ye),Li}function Qp(ne,ye,br,Kr,ni,di,bi){switch(br){case $n:if(ne.byteLength!=ye.byteLength||ne.byteOffset!=ye.byteOffset)return!1;ne=ne.buffer,ye=ye.buffer;case zi:return!(ne.byteLength!=ye.byteLength||!di(new fu(ne),new fu(ye)));case ai:case li:case Ki:return Yo(+ne,+ye);case vi:return ne.name==ye.name&&ne.message==ye.message;case Yn:case Vi:return ne==ye+"";case Rn:var yi=th;case ji:var wi=Kr&wr;if(yi||(yi=iu),ne.size!=ye.size&&!wi)return!1;var Pi=bi.get(ne);if(Pi)return Pi==ye;Kr|=qr,bi.set(ne,ye);var Ci=il(yi(ne),yi(ye),Kr,ni,di,bi);return bi.delete(ne),Ci;case On:if(If)return If.call(ne)==If.call(ye)}return!1}function Zp(ne,ye,br,Kr,ni,di){var bi=br&wr,yi=Dh(ne),wi=yi.length,Pi=Dh(ye),Ci=Pi.length;if(wi!=Ci&&!bi)return!1;for(var Bi=wi;Bi--;){var Li=yi[Bi];if(!(bi?Li in ye:Fa.call(ye,Li)))return!1}var In=di.get(ne),Zn=di.get(ye);if(In&&Zn)return In==ye&&Zn==ne;var _a=!0;di.set(ne,ye),di.set(ye,ne);for(var ea=bi;++Bi<wi;){Li=yi[Bi];var qa=ne[Li],Na=ye[Li];if(Kr)var To=bi?Kr(Na,qa,Li,ye,ne,di):Kr(qa,Na,Li,ne,ye,di);if(!(To===s?qa===Na||ni(qa,Na,br,Kr,di):To)){_a=!1;break}ea||(ea=Li=="constructor")}if(_a&&!ea){var $o=ne.constructor,Uo=ye.constructor;$o!=Uo&&"constructor"in ne&&"constructor"in ye&&!(typeof $o=="function"&&$o instanceof $o&&typeof Uo=="function"&&Uo instanceof Uo)&&(_a=!1)}return di.delete(ne),di.delete(ye),_a}function lc(ne){return Bh(fl(ne,s,yl),ne+"")}function Dh(ne){return xd(ne,bo,Mh)}function Ih(ne){return xd(ne,qo,nl)}var qh=vu?function(ne){return vu.get(ne)}:Gh;function qu(ne){for(var ye=ne.name+"",br=df[ye],Kr=Fa.call(df,ye)?br.length:0;Kr--;){var ni=br[Kr],di=ni.func;if(di==null||di==ne)return ni.name}return ye}function bf(ne){var ye=Fa.call(ui,"placeholder")?ui:ne;return ye.placeholder}function zn(){var ne=ui.iteratee||Vh;return ne=ne===Vh?Rd:ne,arguments.length?ne(arguments[0],arguments[1]):ne}function Au(ne,ye){var br=ne.__data__;return o1(ye)?br[typeof ye=="string"?"string":"hash"]:br.map}function Ah(ne){for(var ye=bo(ne),br=ye.length;br--;){var Kr=ye[br],ni=ne[Kr];ye[br]=[Kr,ni,ol(ni)]}return ye}function Yc(ne,ye){var br=u0(ne,ye);return $d(br)?br:s}function e1(ne){var ye=Fa.call(ne,Vc),br=ne[Vc];try{ne[Vc]=s;var Kr=!0}catch{}var ni=ou.call(ne);return Kr&&(ye?ne[Vc]=br:delete ne[Vc]),ni}var Mh=ih?function(ne){return ne==null?[]:(ne=Xa(ne),wc(ih(ne),function(ye){return ud.call(ne,ye)}))}:Jh,nl=ih?function(ne){for(var ye=[];ne;)Ec(ye,Mh(ne)),ne=uu(ne);return ye}:Jh,_o=xo;(nh&&_o(new nh(new ArrayBuffer(1)))!=$n||$f&&_o(new $f)!=Rn||sh&&_o(sh.resolve())!=Tn||hf&&_o(new hf)!=ji||Rf&&_o(new Rf)!=Ti)&&(_o=function(ne){var ye=xo(ne),br=ye==Nn?ne.constructor:s,Kr=br?Qc(br):"";if(Kr)switch(Kr){case N0:return $n;case T0:return Rn;case U0:return Tn;case j0:return ji;case L0:return Ti}return ye});function t1(ne,ye,br){for(var Kr=-1,ni=br.length;++Kr<ni;){var di=br[Kr],bi=di.size;switch(di.type){case"drop":ne+=bi;break;case"dropRight":ye-=bi;break;case"take":ye=mo(ye,ne+bi);break;case"takeRight":ne=po(ne,ye-bi);break}}return{start:ne,end:ye}}function r1(ne){var ye=ne.match(za);return ye?ye[1].split(va):[]}function sl(ne,ye,br){ye=Dc(ye,ne);for(var Kr=-1,ni=ye.length,di=!1;++Kr<ni;){var bi=oc(ye[Kr]);if(!(di=ne!=null&&br(ne,bi)))break;ne=ne[bi]}return di||++Kr!=ni?di:(ni=ne==null?0:ne.length,!!ni&&Tu(ni)&&pc(bi,ni)&&(ua(ne)||Zc(ne)))}function i1(ne){var ye=ne.length,br=new ne.constructor(ye);return ye&&typeof ne[0]=="string"&&Fa.call(ne,"index")&&(br.index=ne.index,br.input=ne.input),br}function al(ne){return typeof ne.constructor=="function"&&!Bf(ne)?lf(uu(ne)):{}}function n1(ne,ye,br){var Kr=ne.constructor;switch(ye){case zi:return Sh(ne);case ai:case li:return new Kr(+ne);case $n:return kp(ne,br);case ha:case En:case An:case wa:case Pn:case Cn:case Da:case Aa:case Ca:return zd(ne,br);case Rn:return new Kr;case Ki:case Vi:return new Kr(ne);case Yn:return zp(ne);case ji:return new Kr;case On:return Fp(ne)}}function s1(ne,ye){var br=ye.length;if(!br)return ne;var Kr=br-1;return ye[Kr]=(br>1?"& ":"")+ye[Kr],ye=ye.join(br>2?", ":" "),ne.replace(ca,`{
/* [wrapped with `+ye+`] */
`)}function a1(ne){return ua(ne)||Zc(ne)||!!(hd&&ne&&ne[hd])}function pc(ne,ye){var br=typeof ne;return ye=ye??ei,!!ye&&(br=="number"||br!="symbol"&&Oc.test(ne))&&ne>-1&&ne%1==0&&ne<ye}function So(ne,ye,br){if(!so(br))return!1;var Kr=typeof ye;return(Kr=="number"?Io(br)&&pc(ye,br.length):Kr=="string"&&ye in br)?Yo(br[ye],ne):!1}function Ph(ne,ye){if(ua(ne))return!1;var br=typeof ne;return br=="number"||br=="symbol"||br=="boolean"||ne==null||No(ne)?!0:la.test(ne)||!ra.test(ne)||ye!=null&&ne in Xa(ye)}function o1(ne){var ye=typeof ne;return ye=="string"||ye=="number"||ye=="symbol"||ye=="boolean"?ne!=="__proto__":ne===null}function Ch(ne){var ye=qu(ne),br=ui[ye];if(typeof br!="function"||!(ye in Pa.prototype))return!1;if(ne===br)return!0;var Kr=qh(br);return!!Kr&&ne===Kr[0]}function c1(ne){return!!od&&od in ne}var f1=su?vc:Xh;function Bf(ne){var ye=ne&&ne.constructor,br=typeof ye=="function"&&ye.prototype||uf;return ne===br}function ol(ne){return ne===ne&&!so(ne)}function cl(ne,ye){return function(br){return br==null?!1:br[ne]===ye&&(ye!==s||ne in Xa(br))}}function u1(ne){var ye=Bu(ne,function(Kr){return br.size===Ee&&br.clear(),Kr}),br=ye.cache;return ye}function h1(ne,ye){var br=ne[1],Kr=ye[1],ni=br|Kr,di=ni<(Gr|Yr|jr),bi=Kr==jr&&br==ti||Kr==jr&&br==ci&&ne[7].length<=ye[8]||Kr==(jr|ci)&&ye[7].length<=ye[8]&&br==ti;if(!(di||bi))return ne;Kr&Gr&&(ne[2]=ye[2],ni|=br&Gr?0:Wr);var yi=ye[3];if(yi){var wi=ne[3];ne[3]=wi?Hd(wi,yi,ye[4]):yi,ne[4]=wi?xc(ne[3],me):ye[4]}return yi=ye[5],yi&&(wi=ne[5],ne[5]=wi?Kd(wi,yi,ye[6]):yi,ne[6]=wi?xc(ne[5],me):ye[6]),yi=ye[7],yi&&(ne[7]=yi),Kr&jr&&(ne[8]=ne[8]==null?ye[8]:mo(ne[8],ye[8])),ne[9]==null&&(ne[9]=ye[9]),ne[0]=ye[0],ne[1]=ni,ne}function d1(ne){var ye=[];if(ne!=null)for(var br in Xa(ne))ye.push(br);return ye}function l1(ne){return ou.call(ne)}function fl(ne,ye,br){return ye=po(ye===s?ne.length-1:ye,0),function(){for(var Kr=arguments,ni=-1,di=po(Kr.length-ye,0),bi=Ri(di);++ni<di;)bi[ni]=Kr[ye+ni];ni=-1;for(var yi=Ri(ye+1);++ni<ye;)yi[ni]=Kr[ni];return yi[ye]=br(bi),vo(ne,this,yi)}}function ul(ne,ye){return ye.length<2?ne:Xc(ne,Ho(ye,0,-1))}function p1(ne,ye){for(var br=ne.length,Kr=mo(ye.length,br),ni=Do(ne);Kr--;){var di=ye[Kr];ne[Kr]=pc(di,br)?ni[di]:s}return ne}function Oh(ne,ye){if(!(ye==="constructor"&&typeof ne[ye]=="function")&&ye!="__proto__")return ne[ye]}var hl=ll(Od),Nf=q0||function(ne,ye){return Ba.setTimeout(ne,ye)},Bh=ll(Tp);function dl(ne,ye,br){var Kr=ye+"";return Bh(ne,s1(Kr,v1(r1(Kr),br)))}function ll(ne){var ye=0,br=0;return function(){var Kr=C0(),ni=kr-(Kr-br);if(br=Kr,ni>0){if(++ye>=Er)return arguments[0]}else ye=0;return ne.apply(s,arguments)}}function Mu(ne,ye){var br=-1,Kr=ne.length,ni=Kr-1;for(ye=ye===s?Kr:ye;++br<ye;){var di=gh(br,ni),bi=ne[di];ne[di]=ne[br],ne[br]=bi}return ne.length=ye,ne}var pl=u1(function(ne){var ye=[];return ne.charCodeAt(0)===46&&ye.push(""),ne.replace(no,function(br,Kr,ni,di){ye.push(ni?di.replace(to,"$1"):Kr||br)}),ye});function oc(ne){if(typeof ne=="string"||No(ne))return ne;var ye=ne+"";return ye=="0"&&1/ne==-Xr?"-0":ye}function Qc(ne){if(ne!=null){try{return au.call(ne)}catch{}try{return ne+""}catch{}}return""}function v1(ne,ye){return Lo(qi,function(br){var Kr="_."+br[0];ye&br[1]&&!tu(ne,Kr)&&ne.push(Kr)}),ne.sort()}function vl(ne){if(ne instanceof Pa)return ne.clone();var ye=new zo(ne.__wrapped__,ne.__chain__);return ye.__actions__=Do(ne.__actions__),ye.__index__=ne.__index__,ye.__values__=ne.__values__,ye}function b1(ne,ye,br){(br?So(ne,ye,br):ye===s)?ye=1:ye=po(ma(ye),0);var Kr=ne==null?0:ne.length;if(!Kr||ye<1)return[];for(var ni=0,di=0,bi=Ri(lu(Kr/ye));ni<Kr;)bi[di++]=Ho(ne,ni,ni+=ye);return bi}function g1(ne){for(var ye=-1,br=ne==null?0:ne.length,Kr=0,ni=[];++ye<br;){var di=ne[ye];di&&(ni[Kr++]=di)}return ni}function y1(){var ne=arguments.length;if(!ne)return[];for(var ye=Ri(ne-1),br=arguments[0],Kr=ne;Kr--;)ye[Kr-1]=arguments[Kr];return Ec(ua(br)?Do(br):[br],go(ye,1))}var m1=$a(function(ne,ye){return co(ne)?Af(ne,go(ye,1,co,!0)):[]}),w1=$a(function(ne,ye){var br=Ko(ye);return co(br)&&(br=s),co(ne)?Af(ne,go(ye,1,co,!0),zn(br,2)):[]}),E1=$a(function(ne,ye){var br=Ko(ye);return co(br)&&(br=s),co(ne)?Af(ne,go(ye,1,co,!0),s,br):[]});function x1(ne,ye,br){var Kr=ne==null?0:ne.length;return Kr?(ye=br||ye===s?1:ma(ye),Ho(ne,ye<0?0:ye,Kr)):[]}function S1(ne,ye,br){var Kr=ne==null?0:ne.length;return Kr?(ye=br||ye===s?1:ma(ye),ye=Kr-ye,Ho(ne,0,ye<0?0:ye)):[]}function $1(ne,ye){return ne&&ne.length?xu(ne,zn(ye,3),!0,!0):[]}function R1(ne,ye){return ne&&ne.length?xu(ne,zn(ye,3),!0):[]}function D1(ne,ye,br,Kr){var ni=ne==null?0:ne.length;return ni?(br&&typeof br!="number"&&So(ne,ye,br)&&(br=0,Kr=ni),yp(ne,ye,br,Kr)):[]}function bl(ne,ye,br){var Kr=ne==null?0:ne.length;if(!Kr)return-1;var ni=br==null?0:ma(br);return ni<0&&(ni=po(Kr+ni,0)),ru(ne,zn(ye,3),ni)}function gl(ne,ye,br){var Kr=ne==null?0:ne.length;if(!Kr)return-1;var ni=Kr-1;return br!==s&&(ni=ma(br),ni=br<0?po(Kr+ni,0):mo(ni,Kr-1)),ru(ne,zn(ye,3),ni,!0)}function yl(ne){var ye=ne==null?0:ne.length;return ye?go(ne,1):[]}function I1(ne){var ye=ne==null?0:ne.length;return ye?go(ne,Xr):[]}function q1(ne,ye){var br=ne==null?0:ne.length;return br?(ye=ye===s?1:ma(ye),go(ne,ye)):[]}function A1(ne){for(var ye=-1,br=ne==null?0:ne.length,Kr={};++ye<br;){var ni=ne[ye];Kr[ni[0]]=ni[1]}return Kr}function ml(ne){return ne&&ne.length?ne[0]:s}function M1(ne,ye,br){var Kr=ne==null?0:ne.length;if(!Kr)return-1;var ni=br==null?0:ma(br);return ni<0&&(ni=po(Kr+ni,0)),af(ne,ye,ni)}function P1(ne){var ye=ne==null?0:ne.length;return ye?Ho(ne,0,-1):[]}var C1=$a(function(ne){var ye=io(ne,Eh);return ye.length&&ye[0]===ne[0]?hh(ye):[]}),O1=$a(function(ne){var ye=Ko(ne),br=io(ne,Eh);return ye===Ko(br)?ye=s:br.pop(),br.length&&br[0]===ne[0]?hh(br,zn(ye,2)):[]}),B1=$a(function(ne){var ye=Ko(ne),br=io(ne,Eh);return ye=typeof ye=="function"?ye:s,ye&&br.pop(),br.length&&br[0]===ne[0]?hh(br,s,ye):[]});function N1(ne,ye){return ne==null?"":M0.call(ne,ye)}function Ko(ne){var ye=ne==null?0:ne.length;return ye?ne[ye-1]:s}function T1(ne,ye,br){var Kr=ne==null?0:ne.length;if(!Kr)return-1;var ni=Kr;return br!==s&&(ni=ma(br),ni=ni<0?po(Kr+ni,0):mo(ni,Kr-1)),ye===ye?v0(ne,ye,ni):ru(ne,Zh,ni,!0)}function U1(ne,ye){return ne&&ne.length?Ad(ne,ma(ye)):s}var j1=$a(_l);function _l(ne,ye){return ne&&ne.length&&ye&&ye.length?bh(ne,ye):ne}function L1(ne,ye,br){return ne&&ne.length&&ye&&ye.length?bh(ne,ye,zn(br,2)):ne}function k1(ne,ye,br){return ne&&ne.length&&ye&&ye.length?bh(ne,ye,s,br):ne}var z1=lc(function(ne,ye){var br=ne==null?0:ne.length,Kr=oh(ne,ye);return Cd(ne,io(ye,function(ni){return pc(ni,br)?+ni:ni}).sort(Fd)),Kr});function F1(ne,ye){var br=[];if(!(ne&&ne.length))return br;var Kr=-1,ni=[],di=ne.length;for(ye=zn(ye,3);++Kr<di;){var bi=ne[Kr];ye(bi,Kr,ne)&&(br.push(bi),ni.push(Kr))}return Cd(ne,ni),br}function Nh(ne){return ne==null?ne:B0.call(ne)}function H1(ne,ye,br){var Kr=ne==null?0:ne.length;return Kr?(br&&typeof br!="number"&&So(ne,ye,br)?(ye=0,br=Kr):(ye=ye==null?0:ma(ye),br=br===s?Kr:ma(br)),Ho(ne,ye,br)):[]}function K1(ne,ye){return Eu(ne,ye)}function V1(ne,ye,br){return mh(ne,ye,zn(br,2))}function W1(ne,ye){var br=ne==null?0:ne.length;if(br){var Kr=Eu(ne,ye);if(Kr<br&&Yo(ne[Kr],ye))return Kr}return-1}function G1(ne,ye){return Eu(ne,ye,!0)}function J1(ne,ye,br){return mh(ne,ye,zn(br,2),!0)}function X1(ne,ye){var br=ne==null?0:ne.length;if(br){var Kr=Eu(ne,ye,!0)-1;if(Yo(ne[Kr],ye))return Kr}return-1}function Y1(ne){return ne&&ne.length?Bd(ne):[]}function Q1(ne,ye){return ne&&ne.length?Bd(ne,zn(ye,2)):[]}function Z1(ne){var ye=ne==null?0:ne.length;return ye?Ho(ne,1,ye):[]}function dv(ne,ye,br){return ne&&ne.length?(ye=br||ye===s?1:ma(ye),Ho(ne,0,ye<0?0:ye)):[]}function lv(ne,ye,br){var Kr=ne==null?0:ne.length;return Kr?(ye=br||ye===s?1:ma(ye),ye=Kr-ye,Ho(ne,ye<0?0:ye,Kr)):[]}function pv(ne,ye){return ne&&ne.length?xu(ne,zn(ye,3),!1,!0):[]}function vv(ne,ye){return ne&&ne.length?xu(ne,zn(ye,3)):[]}var bv=$a(function(ne){return Rc(go(ne,1,co,!0))}),gv=$a(function(ne){var ye=Ko(ne);return co(ye)&&(ye=s),Rc(go(ne,1,co,!0),zn(ye,2))}),yv=$a(function(ne){var ye=Ko(ne);return ye=typeof ye=="function"?ye:s,Rc(go(ne,1,co,!0),s,ye)});function mv(ne){return ne&&ne.length?Rc(ne):[]}function _v(ne,ye){return ne&&ne.length?Rc(ne,zn(ye,2)):[]}function wv(ne,ye){return ye=typeof ye=="function"?ye:s,ne&&ne.length?Rc(ne,s,ye):[]}function Th(ne){if(!(ne&&ne.length))return[];var ye=0;return ne=wc(ne,function(br){if(co(br))return ye=po(br.length,ye),!0}),Zu(ye,function(br){return io(ne,Xu(br))})}function wl(ne,ye){if(!(ne&&ne.length))return[];var br=Th(ne);return ye==null?br:io(br,function(Kr){return vo(ye,s,Kr)})}var Ev=$a(function(ne,ye){return co(ne)?Af(ne,ye):[]}),xv=$a(function(ne){return wh(wc(ne,co))}),Sv=$a(function(ne){var ye=Ko(ne);return co(ye)&&(ye=s),wh(wc(ne,co),zn(ye,2))}),$v=$a(function(ne){var ye=Ko(ne);return ye=typeof ye=="function"?ye:s,wh(wc(ne,co),s,ye)}),Rv=$a(Th);function Dv(ne,ye){return jd(ne||[],ye||[],qf)}function Iv(ne,ye){return jd(ne||[],ye||[],Cf)}var qv=$a(function(ne){var ye=ne.length,br=ye>1?ne[ye-1]:s;return br=typeof br=="function"?(ne.pop(),br):s,wl(ne,br)});function El(ne){var ye=ui(ne);return ye.__chain__=!0,ye}function Av(ne,ye){return ye(ne),ne}function Pu(ne,ye){return ye(ne)}var Mv=lc(function(ne){var ye=ne.length,br=ye?ne[0]:0,Kr=this.__wrapped__,ni=function(di){return oh(di,ne)};return ye>1||this.__actions__.length||!(Kr instanceof Pa)||!pc(br)?this.thru(ni):(Kr=Kr.slice(br,+br+(ye?1:0)),Kr.__actions__.push({func:Pu,args:[ni],thisArg:s}),new zo(Kr,this.__chain__).thru(function(di){return ye&&!di.length&&di.push(s),di}))});function Pv(){return El(this)}function Cv(){return new zo(this.value(),this.__chain__)}function Ov(){this.__values__===s&&(this.__values__=Nl(this.value()));var ne=this.__index__>=this.__values__.length,ye=ne?s:this.__values__[this.__index__++];return{done:ne,value:ye}}function Bv(){return this}function Nv(ne){for(var ye,br=this;br instanceof gu;){var Kr=vl(br);Kr.__index__=0,Kr.__values__=s,ye?ni.__wrapped__=Kr:ye=Kr;var ni=Kr;br=br.__wrapped__}return ni.__wrapped__=ne,ye}function Tv(){var ne=this.__wrapped__;if(ne instanceof Pa){var ye=ne;return this.__actions__.length&&(ye=new Pa(this)),ye=ye.reverse(),ye.__actions__.push({func:Pu,args:[Nh],thisArg:s}),new zo(ye,this.__chain__)}return this.thru(Nh)}function Uv(){return Ud(this.__wrapped__,this.__actions__)}var jv=Su(function(ne,ye,br){Fa.call(ne,br)?++ne[br]:hc(ne,br,1)});function Lv(ne,ye,br){var Kr=ua(ne)?Yh:gp;return br&&So(ne,ye,br)&&(ye=s),Kr(ne,zn(ye,3))}function kv(ne,ye){var br=ua(ne)?wc:wd;return br(ne,zn(ye,3))}var zv=Jd(bl),Fv=Jd(gl);function Hv(ne,ye){return go(Cu(ne,ye),1)}function Kv(ne,ye){return go(Cu(ne,ye),Xr)}function Vv(ne,ye,br){return br=br===s?1:ma(br),go(Cu(ne,ye),br)}function xl(ne,ye){var br=ua(ne)?Lo:$c;return br(ne,zn(ye,3))}function Sl(ne,ye){var br=ua(ne)?Ql:_d;return br(ne,zn(ye,3))}var Wv=Su(function(ne,ye,br){Fa.call(ne,br)?ne[br].push(ye):hc(ne,br,[ye])});function Gv(ne,ye,br,Kr){ne=Io(ne)?ne:yf(ne),br=br&&!Kr?ma(br):0;var ni=ne.length;return br<0&&(br=po(ni+br,0)),Uu(ne)?br<=ni&&ne.indexOf(ye,br)>-1:!!ni&&af(ne,ye,br)>-1}var Jv=$a(function(ne,ye,br){var Kr=-1,ni=typeof ye=="function",di=Io(ne)?Ri(ne.length):[];return $c(ne,function(bi){di[++Kr]=ni?vo(ye,bi,br):Mf(bi,ye,br)}),di}),Xv=Su(function(ne,ye,br){hc(ne,br,ye)});function Cu(ne,ye){var br=ua(ne)?io:Dd;return br(ne,zn(ye,3))}function Yv(ne,ye,br,Kr){return ne==null?[]:(ua(ye)||(ye=ye==null?[]:[ye]),br=Kr?s:br,ua(br)||(br=br==null?[]:[br]),Md(ne,ye,br))}var Qv=Su(function(ne,ye,br){ne[br?0:1].push(ye)},function(){return[[],[]]});function Zv(ne,ye,br){var Kr=ua(ne)?Gu:td,ni=arguments.length<3;return Kr(ne,zn(ye,4),br,ni,$c)}function eb(ne,ye,br){var Kr=ua(ne)?Zl:td,ni=arguments.length<3;return Kr(ne,zn(ye,4),br,ni,_d)}function tb(ne,ye){var br=ua(ne)?wc:wd;return br(ne,Nu(zn(ye,3)))}function rb(ne){var ye=ua(ne)?bd:Bp;return ye(ne)}function ib(ne,ye,br){(br?So(ne,ye,br):ye===s)?ye=1:ye=ma(ye);var Kr=ua(ne)?dp:Np;return Kr(ne,ye)}function nb(ne){var ye=ua(ne)?lp:Up;return ye(ne)}function sb(ne){if(ne==null)return 0;if(Io(ne))return Uu(ne)?cf(ne):ne.length;var ye=_o(ne);return ye==Rn||ye==ji?ne.size:ph(ne).length}function ab(ne,ye,br){var Kr=ua(ne)?Ju:jp;return br&&So(ne,ye,br)&&(ye=s),Kr(ne,zn(ye,3))}var ob=$a(function(ne,ye){if(ne==null)return[];var br=ye.length;return br>1&&So(ne,ye[0],ye[1])?ye=[]:br>2&&So(ye[0],ye[1],ye[2])&&(ye=[ye[0]]),Md(ne,go(ye,1),[])}),Ou=I0||function(){return Ba.Date.now()};function cb(ne,ye){if(typeof ye!="function")throw new ko(xe);return ne=ma(ne),function(){if(--ne<1)return ye.apply(this,arguments)}}function $l(ne,ye,br){return ye=br?s:ye,ye=ne&&ye==null?ne.length:ye,dc(ne,jr,s,s,s,s,ye)}function Rl(ne,ye){var br;if(typeof ye!="function")throw new ko(xe);return ne=ma(ne),function(){return--ne>0&&(br=ye.apply(this,arguments)),ne<=1&&(ye=s),br}}var Uh=$a(function(ne,ye,br){var Kr=Gr;if(br.length){var ni=xc(br,bf(Uh));Kr|=oi}return dc(ne,Kr,ye,br,ni)}),Dl=$a(function(ne,ye,br){var Kr=Gr|Yr;if(br.length){var ni=xc(br,bf(Dl));Kr|=oi}return dc(ye,Kr,ne,br,ni)});function Il(ne,ye,br){ye=br?s:ye;var Kr=dc(ne,ti,s,s,s,s,s,ye);return Kr.placeholder=Il.placeholder,Kr}function ql(ne,ye,br){ye=br?s:ye;var Kr=dc(ne,Qr,s,s,s,s,s,ye);return Kr.placeholder=ql.placeholder,Kr}function Al(ne,ye,br){var Kr,ni,di,bi,yi,wi,Pi=0,Ci=!1,Bi=!1,Li=!0;if(typeof ne!="function")throw new ko(xe);ye=Vo(ye)||0,so(br)&&(Ci=!!br.leading,Bi="maxWait"in br,di=Bi?po(Vo(br.maxWait)||0,ye):di,Li="trailing"in br?!!br.trailing:Li);function In(fo){var Qo=Kr,gc=ni;return Kr=ni=s,Pi=fo,bi=ne.apply(gc,Qo),bi}function Zn(fo){return Pi=fo,yi=Nf(qa,ye),Ci?In(fo):bi}function _a(fo){var Qo=fo-wi,gc=fo-Pi,Jl=ye-Qo;return Bi?mo(Jl,di-gc):Jl}function ea(fo){var Qo=fo-wi,gc=fo-Pi;return wi===s||Qo>=ye||Qo<0||Bi&&gc>=di}function qa(){var fo=Ou();if(ea(fo))return Na(fo);yi=Nf(qa,_a(fo))}function Na(fo){return yi=s,Li&&Kr?In(fo):(Kr=ni=s,bi)}function To(){yi!==s&&Ld(yi),Pi=0,Kr=wi=ni=yi=s}function $o(){return yi===s?bi:Na(Ou())}function Uo(){var fo=Ou(),Qo=ea(fo);if(Kr=arguments,ni=this,wi=fo,Qo){if(yi===s)return Zn(wi);if(Bi)return Ld(yi),yi=Nf(qa,ye),In(wi)}return yi===s&&(yi=Nf(qa,ye)),bi}return Uo.cancel=To,Uo.flush=$o,Uo}var fb=$a(function(ne,ye){return md(ne,1,ye)}),ub=$a(function(ne,ye,br){return md(ne,Vo(ye)||0,br)});function hb(ne){return dc(ne,gi)}function Bu(ne,ye){if(typeof ne!="function"||ye!=null&&typeof ye!="function")throw new ko(xe);var br=function(){var Kr=arguments,ni=ye?ye.apply(this,Kr):Kr[0],di=br.cache;if(di.has(ni))return di.get(ni);var bi=ne.apply(this,Kr);return br.cache=di.set(ni,bi)||di,bi};return br.cache=new(Bu.Cache||uc),br}Bu.Cache=uc;function Nu(ne){if(typeof ne!="function")throw new ko(xe);return function(){var ye=arguments;switch(ye.length){case 0:return!ne.call(this);case 1:return!ne.call(this,ye[0]);case 2:return!ne.call(this,ye[0],ye[1]);case 3:return!ne.call(this,ye[0],ye[1],ye[2])}return!ne.apply(this,ye)}}function db(ne){return Rl(2,ne)}var lb=Lp(function(ne,ye){ye=ye.length==1&&ua(ye[0])?io(ye[0],Oo(zn())):io(go(ye,1),Oo(zn()));var br=ye.length;return $a(function(Kr){for(var ni=-1,di=mo(Kr.length,br);++ni<di;)Kr[ni]=ye[ni].call(this,Kr[ni]);return vo(ne,this,Kr)})}),jh=$a(function(ne,ye){var br=xc(ye,bf(jh));return dc(ne,oi,s,ye,br)}),Ml=$a(function(ne,ye){var br=xc(ye,bf(Ml));return dc(ne,fi,s,ye,br)}),pb=lc(function(ne,ye){return dc(ne,ci,s,s,s,ye)});function vb(ne,ye){if(typeof ne!="function")throw new ko(xe);return ye=ye===s?ye:ma(ye),$a(ne,ye)}function bb(ne,ye){if(typeof ne!="function")throw new ko(xe);return ye=ye==null?0:po(ma(ye),0),$a(function(br){var Kr=br[ye],ni=Ic(br,0,ye);return Kr&&Ec(ni,Kr),vo(ne,this,ni)})}function gb(ne,ye,br){var Kr=!0,ni=!0;if(typeof ne!="function")throw new ko(xe);return so(br)&&(Kr="leading"in br?!!br.leading:Kr,ni="trailing"in br?!!br.trailing:ni),Al(ne,ye,{leading:Kr,maxWait:ye,trailing:ni})}function yb(ne){return $l(ne,1)}function mb(ne,ye){return jh(xh(ye),ne)}function _b(){if(!arguments.length)return[];var ne=arguments[0];return ua(ne)?ne:[ne]}function wb(ne){return Fo(ne,Oe)}function Eb(ne,ye){return ye=typeof ye=="function"?ye:s,Fo(ne,Oe,ye)}function xb(ne){return Fo(ne,Ie|Oe)}function Sb(ne,ye){return ye=typeof ye=="function"?ye:s,Fo(ne,Ie|Oe,ye)}function $b(ne,ye){return ye==null||yd(ne,ye,bo(ye))}function Yo(ne,ye){return ne===ye||ne!==ne&&ye!==ye}var Rb=Iu(uh),Db=Iu(function(ne,ye){return ne>=ye}),Zc=Sd(function(){return arguments}())?Sd:function(ne){return ao(ne)&&Fa.call(ne,"callee")&&!ud.call(ne,"callee")},ua=Ri.isArray,Ib=Eo?Oo(Eo):xp;function Io(ne){return ne!=null&&Tu(ne.length)&&!vc(ne)}function co(ne){return ao(ne)&&Io(ne)}function qb(ne){return ne===!0||ne===!1||ao(ne)&&xo(ne)==ai}var qc=A0||Xh,Ab=Go?Oo(Go):Sp;function Mb(ne){return ao(ne)&&ne.nodeType===1&&!Tf(ne)}function Pb(ne){if(ne==null)return!0;if(Io(ne)&&(ua(ne)||typeof ne=="string"||typeof ne.splice=="function"||qc(ne)||gf(ne)||Zc(ne)))return!ne.length;var ye=_o(ne);if(ye==Rn||ye==ji)return!ne.size;if(Bf(ne))return!ph(ne).length;for(var br in ne)if(Fa.call(ne,br))return!1;return!0}function Cb(ne,ye){return Pf(ne,ye)}function Ob(ne,ye,br){br=typeof br=="function"?br:s;var Kr=br?br(ne,ye):s;return Kr===s?Pf(ne,ye,s,br):!!Kr}function Lh(ne){if(!ao(ne))return!1;var ye=xo(ne);return ye==vi||ye==Hr||typeof ne.message=="string"&&typeof ne.name=="string"&&!Tf(ne)}function Bb(ne){return typeof ne=="number"&&dd(ne)}function vc(ne){if(!so(ne))return!1;var ye=xo(ne);return ye==xi||ye==Di||ye==ri||ye==jn}function Pl(ne){return typeof ne=="number"&&ne==ma(ne)}function Tu(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=ei}function so(ne){var ye=typeof ne;return ne!=null&&(ye=="object"||ye=="function")}function ao(ne){return ne!=null&&typeof ne=="object"}var Cl=jo?Oo(jo):Rp;function Nb(ne,ye){return ne===ye||lh(ne,ye,Ah(ye))}function Tb(ne,ye,br){return br=typeof br=="function"?br:s,lh(ne,ye,Ah(ye),br)}function Ub(ne){return Ol(ne)&&ne!=+ne}function jb(ne){if(f1(ne))throw new ia(be);return $d(ne)}function Lb(ne){return ne===null}function kb(ne){return ne==null}function Ol(ne){return typeof ne=="number"||ao(ne)&&xo(ne)==Ki}function Tf(ne){if(!ao(ne)||xo(ne)!=Nn)return!1;var ye=uu(ne);if(ye===null)return!0;var br=Fa.call(ye,"constructor")&&ye.constructor;return typeof br=="function"&&br instanceof br&&au.call(br)==S0}var kh=nc?Oo(nc):Dp;function zb(ne){return Pl(ne)&&ne>=-ei&&ne<=ei}var Bl=Ef?Oo(Ef):Ip;function Uu(ne){return typeof ne=="string"||!ua(ne)&&ao(ne)&&xo(ne)==Vi}function No(ne){return typeof ne=="symbol"||ao(ne)&&xo(ne)==On}var gf=Kc?Oo(Kc):qp;function Fb(ne){return ne===s}function Hb(ne){return ao(ne)&&_o(ne)==Ti}function Kb(ne){return ao(ne)&&xo(ne)==ta}var Vb=Iu(vh),Wb=Iu(function(ne,ye){return ne<=ye});function Nl(ne){if(!ne)return[];if(Io(ne))return Uu(ne)?Jo(ne):Do(ne);if(Sf&&ne[Sf])return d0(ne[Sf]());var ye=_o(ne),br=ye==Rn?th:ye==ji?iu:yf;return br(ne)}function bc(ne){if(!ne)return ne===0?ne:0;if(ne=Vo(ne),ne===Xr||ne===-Xr){var ye=ne<0?-1:1;return ye*Zr}return ne===ne?ne:0}function ma(ne){var ye=bc(ne),br=ye%1;return ye===ye?br?ye-br:ye:0}function Tl(ne){return ne?Jc(ma(ne),0,si):0}function Vo(ne){if(typeof ne=="number")return ne;if(No(ne))return Br;if(so(ne)){var ye=typeof ne.valueOf=="function"?ne.valueOf():ne;ne=so(ye)?ye+"":ye}if(typeof ne!="string")return ne===0?ne:+ne;ne=rd(ne);var br=Mc.test(ne);return br||Cc.test(ne)?fa(ne.slice(2),br?2:8):Ac.test(ne)?Br:+ne}function Ul(ne){return ac(ne,qo(ne))}function Gb(ne){return ne?Jc(ma(ne),-ei,ei):ne===0?ne:0}function ka(ne){return ne==null?"":Bo(ne)}var Jb=pf(function(ne,ye){if(Bf(ye)||Io(ye)){ac(ye,bo(ye),ne);return}for(var br in ye)Fa.call(ye,br)&&qf(ne,br,ye[br])}),jl=pf(function(ne,ye){ac(ye,qo(ye),ne)}),ju=pf(function(ne,ye,br,Kr){ac(ye,qo(ye),ne,Kr)}),Xb=pf(function(ne,ye,br,Kr){ac(ye,bo(ye),ne,Kr)}),Yb=lc(oh);function Qb(ne,ye){var br=lf(ne);return ye==null?br:gd(br,ye)}var Zb=$a(function(ne,ye){ne=Xa(ne);var br=-1,Kr=ye.length,ni=Kr>2?ye[2]:s;for(ni&&So(ye[0],ye[1],ni)&&(Kr=1);++br<Kr;)for(var di=ye[br],bi=qo(di),yi=-1,wi=bi.length;++yi<wi;){var Pi=bi[yi],Ci=ne[Pi];(Ci===s||Yo(Ci,uf[Pi])&&!Fa.call(ne,Pi))&&(ne[Pi]=di[Pi])}return ne}),eg=$a(function(ne){return ne.push(s,rl),vo(Ll,s,ne)});function tg(ne,ye){return Qh(ne,zn(ye,3),sc)}function rg(ne,ye){return Qh(ne,zn(ye,3),fh)}function ig(ne,ye){return ne==null?ne:ch(ne,zn(ye,3),qo)}function ng(ne,ye){return ne==null?ne:Ed(ne,zn(ye,3),qo)}function sg(ne,ye){return ne&&sc(ne,zn(ye,3))}function ag(ne,ye){return ne&&fh(ne,zn(ye,3))}function og(ne){return ne==null?[]:_u(ne,bo(ne))}function cg(ne){return ne==null?[]:_u(ne,qo(ne))}function zh(ne,ye,br){var Kr=ne==null?s:Xc(ne,ye);return Kr===s?br:Kr}function fg(ne,ye){return ne!=null&&sl(ne,ye,mp)}function Fh(ne,ye){return ne!=null&&sl(ne,ye,_p)}var ug=Yd(function(ne,ye,br){ye!=null&&typeof ye.toString!="function"&&(ye=ou.call(ye)),ne[ye]=br},Kh(Ao)),hg=Yd(function(ne,ye,br){ye!=null&&typeof ye.toString!="function"&&(ye=ou.call(ye)),Fa.call(ne,ye)?ne[ye].push(br):ne[ye]=[br]},zn),dg=$a(Mf);function bo(ne){return Io(ne)?vd(ne):ph(ne)}function qo(ne){return Io(ne)?vd(ne,!0):Ap(ne)}function lg(ne,ye){var br={};return ye=zn(ye,3),sc(ne,function(Kr,ni,di){hc(br,ye(Kr,ni,di),Kr)}),br}function pg(ne,ye){var br={};return ye=zn(ye,3),sc(ne,function(Kr,ni,di){hc(br,ni,ye(Kr,ni,di))}),br}var vg=pf(function(ne,ye,br){wu(ne,ye,br)}),Ll=pf(function(ne,ye,br,Kr){wu(ne,ye,br,Kr)}),bg=lc(function(ne,ye){var br={};if(ne==null)return br;var Kr=!1;ye=io(ye,function(di){return di=Dc(di,ne),Kr||(Kr=di.length>1),di}),ac(ne,Ih(ne),br),Kr&&(br=Fo(br,Ie|fr|Oe,Yp));for(var ni=ye.length;ni--;)_h(br,ye[ni]);return br});function gg(ne,ye){return kl(ne,Nu(zn(ye)))}var yg=lc(function(ne,ye){return ne==null?{}:Pp(ne,ye)});function kl(ne,ye){if(ne==null)return{};var br=io(Ih(ne),function(Kr){return[Kr]});return ye=zn(ye),Pd(ne,br,function(Kr,ni){return ye(Kr,ni[0])})}function mg(ne,ye,br){ye=Dc(ye,ne);var Kr=-1,ni=ye.length;for(ni||(ni=1,ne=s);++Kr<ni;){var di=ne==null?s:ne[oc(ye[Kr])];di===s&&(Kr=ni,di=br),ne=vc(di)?di.call(ne):di}return ne}function _g(ne,ye,br){return ne==null?ne:Cf(ne,ye,br)}function wg(ne,ye,br,Kr){return Kr=typeof Kr=="function"?Kr:s,ne==null?ne:Cf(ne,ye,br,Kr)}var zl=el(bo),Fl=el(qo);function Eg(ne,ye,br){var Kr=ua(ne),ni=Kr||qc(ne)||gf(ne);if(ye=zn(ye,4),br==null){var di=ne&&ne.constructor;ni?br=Kr?new di:[]:so(ne)?br=vc(di)?lf(uu(ne)):{}:br={}}return(ni?Lo:sc)(ne,function(bi,yi,wi){return ye(br,bi,yi,wi)}),br}function xg(ne,ye){return ne==null?!0:_h(ne,ye)}function Sg(ne,ye,br){return ne==null?ne:Td(ne,ye,xh(br))}function $g(ne,ye,br,Kr){return Kr=typeof Kr=="function"?Kr:s,ne==null?ne:Td(ne,ye,xh(br),Kr)}function yf(ne){return ne==null?[]:eh(ne,bo(ne))}function Rg(ne){return ne==null?[]:eh(ne,qo(ne))}function Dg(ne,ye,br){return br===s&&(br=ye,ye=s),br!==s&&(br=Vo(br),br=br===br?br:0),ye!==s&&(ye=Vo(ye),ye=ye===ye?ye:0),Jc(Vo(ne),ye,br)}function Ig(ne,ye,br){return ye=bc(ye),br===s?(br=ye,ye=0):br=bc(br),ne=Vo(ne),wp(ne,ye,br)}function Ag(ne,ye,br){if(br&&typeof br!="boolean"&&So(ne,ye,br)&&(ye=br=s),br===s&&(typeof ye=="boolean"?(br=ye,ye=s):typeof ne=="boolean"&&(br=ne,ne=s)),ne===s&&ye===s?(ne=0,ye=1):(ne=bc(ne),ye===s?(ye=ne,ne=0):ye=bc(ye)),ne>ye){var Kr=ne;ne=ye,ye=Kr}if(br||ne%1||ye%1){var ni=ld();return mo(ne+ni*(ye-ne+Ga("1e-"+((ni+"").length-1))),ye)}return gh(ne,ye)}var Pg=vf(function(ne,ye,br){return ye=ye.toLowerCase(),ne+(br?Hl(ye):ye)});function Hl(ne){return Hh(ka(ne).toLowerCase())}function Kl(ne){return ne=ka(ne),ne&&ne.replace(Po,o0).replace(Ku,"")}function Cg(ne,ye,br){ne=ka(ne),ye=Bo(ye);var Kr=ne.length;br=br===s?Kr:Jc(ma(br),0,Kr);var ni=br;return br-=ye.length,br>=0&&ne.slice(br,ni)==ye}function Og(ne){return ne=ka(ne),ne&&Va.test(ne)?ne.replace(Ha,c0):ne}function Ng(ne){return ne=ka(ne),ne&&pa.test(ne)?ne.replace(oa,"\\$&"):ne}var Tg=vf(function(ne,ye,br){return ne+(br?"-":"")+ye.toLowerCase()}),Lg=vf(function(ne,ye,br){return ne+(br?" ":"")+ye.toLowerCase()}),Wg=Gd("toLowerCase");function e2(ne,ye,br){ne=ka(ne),ye=ma(ye);var Kr=ye?cf(ne):0;if(!ye||Kr>=ye)return ne;var ni=(ye-Kr)/2;return Du(pu(ni),br)+ne+Du(lu(ni),br)}function t2(ne,ye,br){ne=ka(ne),ye=ma(ye);var Kr=ye?cf(ne):0;return ye&&Kr<ye?ne+Du(ye-Kr,br):ne}function r2(ne,ye,br){ne=ka(ne),ye=ma(ye);var Kr=ye?cf(ne):0;return ye&&Kr<ye?Du(ye-Kr,br)+ne:ne}function i2(ne,ye,br){return br||ye==null?ye=0:ye&&(ye=+ye),O0(ka(ne).replace(Qa,""),ye||0)}function n2(ne,ye,br){return(br?So(ne,ye,br):ye===s)?ye=1:ye=ma(ye),yh(ka(ne),ye)}function s2(){var ne=arguments,ye=ka(ne[0]);return ne.length<3?ye:ye.replace(ne[1],ne[2])}var a2=vf(function(ne,ye,br){return ne+(br?"_":"")+ye.toLowerCase()});function o2(ne,ye,br){return br&&typeof br!="number"&&So(ne,ye,br)&&(ye=br=s),br=br===s?si:br>>>0,br?(ne=ka(ne),ne&&(typeof ye=="string"||ye!=null&&!kh(ye))&&(ye=Bo(ye),!ye&&of(ne))?Ic(Jo(ne),0,br):ne.split(ye,br)):[]}var c2=vf(function(ne,ye,br){return ne+(br?" ":"")+Hh(ye)});function f2(ne,ye,br){return ne=ka(ne),br=br==null?0:Jc(ma(br),0,ne.length),ye=Bo(ye),ne.slice(br,br+ye.length)==ye}function u2(ne,ye,br){var Kr=ui.templateSettings;br&&So(ne,ye,br)&&(ye=s),ne=ka(ne),ye=ju({},ye,Kr,tl);var ni=ju({},ye.imports,Kr.imports,tl),di=bo(ni),bi=eh(ni,di),yi,wi,Pi=0,Ci=ye.interpolate||Zo,Bi="__p += '",Li=rh((ye.escape||Zo).source+"|"+Ci.source+"|"+(Ci===Ya?ro:Zo).source+"|"+(ye.evaluate||Zo).source+"|$","g"),In="//# sourceURL="+(Fa.call(ye,"sourceURL")?(ye.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vu+"]")+`
`;ne.replace(Li,function(ea,qa,Na,To,$o,Uo){return Na||(Na=To),Bi+=ne.slice(Pi,Uo).replace(Bc,f0),qa&&(yi=!0,Bi+=`' +
__e(`+qa+`) +
'`),$o&&(wi=!0,Bi+=`';
`+$o+`;
__p += '`),Na&&(Bi+=`' +
((__t = (`+Na+`)) == null ? '' : __t) +
'`),Pi=Uo+ea.length,ea}),Bi+=`';
`;var Zn=Fa.call(ye,"variable")&&ye.variable;if(!Zn)Bi=`with (obj) {
`+Bi+`
}
`;else if(ef.test(Zn))throw new ia(we);Bi=(wi?Bi.replace(Mo,""):Bi).replace(Ma,"$1").replace(ja,"$1;"),Bi="function("+(Zn||"obj")+`) {
`+(Zn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(yi?", __e = _.escape":"")+(wi?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Bi+`return __p
}`;var _a=Wl(function(){return Ua(di,In+"return "+Bi).apply(s,bi)});if(_a.source=Bi,Lh(_a))throw _a;return _a}function h2(ne){return ka(ne).toLowerCase()}function d2(ne){return ka(ne).toUpperCase()}function l2(ne,ye,br){if(ne=ka(ne),ne&&(br||ye===s))return rd(ne);if(!ne||!(ye=Bo(ye)))return ne;var Kr=Jo(ne),ni=Jo(ye),di=id(Kr,ni),bi=nd(Kr,ni)+1;return Ic(Kr,di,bi).join("")}function p2(ne,ye,br){if(ne=ka(ne),ne&&(br||ye===s))return ne.slice(0,ad(ne)+1);if(!ne||!(ye=Bo(ye)))return ne;var Kr=Jo(ne),ni=nd(Kr,Jo(ye))+1;return Ic(Kr,0,ni).join("")}function v2(ne,ye,br){if(ne=ka(ne),ne&&(br||ye===s))return ne.replace(Qa,"");if(!ne||!(ye=Bo(ye)))return ne;var Kr=Jo(ne),ni=id(Kr,Jo(ye));return Ic(Kr,ni).join("")}function b2(ne,ye){var br=$i,Kr=hi;if(so(ye)){var ni="separator"in ye?ye.separator:ni;br="length"in ye?ma(ye.length):br,Kr="omission"in ye?Bo(ye.omission):Kr}ne=ka(ne);var di=ne.length;if(of(ne)){var bi=Jo(ne);di=bi.length}if(br>=di)return ne;var yi=br-cf(Kr);if(yi<1)return Kr;var wi=bi?Ic(bi,0,yi).join(""):ne.slice(0,yi);if(ni===s)return wi+Kr;if(bi&&(yi+=wi.length-yi),kh(ni)){if(ne.slice(yi).search(ni)){var Pi,Ci=wi;for(ni.global||(ni=rh(ni.source,ka(yo.exec(ni))+"g")),ni.lastIndex=0;Pi=ni.exec(Ci);)var Bi=Pi.index;wi=wi.slice(0,Bi===s?yi:Bi)}}else if(ne.indexOf(Bo(ni),yi)!=yi){var Li=wi.lastIndexOf(ni);Li>-1&&(wi=wi.slice(0,Li))}return wi+Kr}function g2(ne){return ne=ka(ne),ne&&na.test(ne)?ne.replace(Wo,b0):ne}var y2=vf(function(ne,ye,br){return ne+(br?" ":"")+ye.toUpperCase()}),Hh=Gd("toUpperCase");function Vl(ne,ye,br){return ne=ka(ne),ye=br?s:ye,ye===s?h0(ne)?m0(ne):r0(ne):ne.match(ye)||[]}var Wl=$a(function(ne,ye){try{return vo(ne,s,ye)}catch(br){return Lh(br)?br:new ia(br)}}),m2=lc(function(ne,ye){return Lo(ye,function(br){br=oc(br),hc(ne,br,Uh(ne[br],ne))}),ne});function _2(ne){var ye=ne==null?0:ne.length,br=zn();return ne=ye?io(ne,function(Kr){if(typeof Kr[1]!="function")throw new ko(xe);return[br(Kr[0]),Kr[1]]}):[],$a(function(Kr){for(var ni=-1;++ni<ye;){var di=ne[ni];if(vo(di[0],this,Kr))return vo(di[1],this,Kr)}})}function w2(ne){return bp(Fo(ne,Ie))}function Kh(ne){return function(){return ne}}function E2(ne,ye){return ne==null||ne!==ne?ye:ne}var x2=Xd(),S2=Xd(!0);function Ao(ne){return ne}function Vh(ne){return Rd(typeof ne=="function"?ne:Fo(ne,Ie))}function $2(ne){return Id(Fo(ne,Ie))}function R2(ne,ye){return qd(ne,Fo(ye,Ie))}var D2=$a(function(ne,ye){return function(br){return Mf(br,ne,ye)}}),I2=$a(function(ne,ye){return function(br){return Mf(ne,br,ye)}});function Wh(ne,ye,br){var Kr=bo(ye),ni=_u(ye,Kr);br==null&&!(so(ye)&&(ni.length||!Kr.length))&&(br=ye,ye=ne,ne=this,ni=_u(ye,bo(ye)));var di=!(so(br)&&"chain"in br)||!!br.chain,bi=vc(ne);return Lo(ni,function(yi){var wi=ye[yi];ne[yi]=wi,bi&&(ne.prototype[yi]=function(){var Pi=this.__chain__;if(di||Pi){var Ci=ne(this.__wrapped__),Bi=Ci.__actions__=Do(this.__actions__);return Bi.push({func:wi,args:arguments,thisArg:ne}),Ci.__chain__=Pi,Ci}return wi.apply(ne,Ec([this.value()],arguments))})}),ne}function q2(){return Ba._===this&&(Ba._=$0),this}function Gh(){}function A2(ne){return ne=ma(ne),$a(function(ye){return Ad(ye,ne)})}var M2=$h(io),P2=$h(Yh),C2=$h(Ju);function Gl(ne){return Ph(ne)?Xu(oc(ne)):Cp(ne)}function O2(ne){return function(ye){return ne==null?s:Xc(ne,ye)}}var B2=Qd(),N2=Qd(!0);function Jh(){return[]}function Xh(){return!1}function T2(){return{}}function U2(){return""}function j2(){return!0}function L2(ne,ye){if(ne=ma(ne),ne<1||ne>ei)return[];var br=si,Kr=mo(ne,si);ye=zn(ye),ne-=si;for(var ni=Zu(Kr,ye);++br<ne;)ye(br);return ni}function k2(ne){return ua(ne)?io(ne,oc):No(ne)?[ne]:Do(pl(ka(ne)))}function z2(ne){var ye=++x0;return ka(ne)+ye}var F2=Ru(function(ne,ye){return ne+ye},0),H2=Rh("ceil"),K2=Ru(function(ne,ye){return ne/ye},1),V2=Rh("floor");function W2(ne){return ne&&ne.length?mu(ne,Ao,uh):s}function G2(ne,ye){return ne&&ne.length?mu(ne,zn(ye,2),uh):s}function J2(ne){return ed(ne,Ao)}function X2(ne,ye){return ed(ne,zn(ye,2))}function Y2(ne){return ne&&ne.length?mu(ne,Ao,vh):s}function Q2(ne,ye){return ne&&ne.length?mu(ne,zn(ye,2),vh):s}var Z2=Ru(function(ne,ye){return ne*ye},1),ey=Rh("round"),ty=Ru(function(ne,ye){return ne-ye},0);function ry(ne){return ne&&ne.length?Qu(ne,Ao):0}function iy(ne,ye){return ne&&ne.length?Qu(ne,zn(ye,2)):0}return ui.after=cb,ui.ary=$l,ui.assign=Jb,ui.assignIn=jl,ui.assignInWith=ju,ui.assignWith=Xb,ui.at=Yb,ui.before=Rl,ui.bind=Uh,ui.bindAll=m2,ui.bindKey=Dl,ui.castArray=_b,ui.chain=El,ui.chunk=b1,ui.compact=g1,ui.concat=y1,ui.cond=_2,ui.conforms=w2,ui.constant=Kh,ui.countBy=jv,ui.create=Qb,ui.curry=Il,ui.curryRight=ql,ui.debounce=Al,ui.defaults=Zb,ui.defaultsDeep=eg,ui.defer=fb,ui.delay=ub,ui.difference=m1,ui.differenceBy=w1,ui.differenceWith=E1,ui.drop=x1,ui.dropRight=S1,ui.dropRightWhile=$1,ui.dropWhile=R1,ui.fill=D1,ui.filter=kv,ui.flatMap=Hv,ui.flatMapDeep=Kv,ui.flatMapDepth=Vv,ui.flatten=yl,ui.flattenDeep=I1,ui.flattenDepth=q1,ui.flip=hb,ui.flow=x2,ui.flowRight=S2,ui.fromPairs=A1,ui.functions=og,ui.functionsIn=cg,ui.groupBy=Wv,ui.initial=P1,ui.intersection=C1,ui.intersectionBy=O1,ui.intersectionWith=B1,ui.invert=ug,ui.invertBy=hg,ui.invokeMap=Jv,ui.iteratee=Vh,ui.keyBy=Xv,ui.keys=bo,ui.keysIn=qo,ui.map=Cu,ui.mapKeys=lg,ui.mapValues=pg,ui.matches=$2,ui.matchesProperty=R2,ui.memoize=Bu,ui.merge=vg,ui.mergeWith=Ll,ui.method=D2,ui.methodOf=I2,ui.mixin=Wh,ui.negate=Nu,ui.nthArg=A2,ui.omit=bg,ui.omitBy=gg,ui.once=db,ui.orderBy=Yv,ui.over=M2,ui.overArgs=lb,ui.overEvery=P2,ui.overSome=C2,ui.partial=jh,ui.partialRight=Ml,ui.partition=Qv,ui.pick=yg,ui.pickBy=kl,ui.property=Gl,ui.propertyOf=O2,ui.pull=j1,ui.pullAll=_l,ui.pullAllBy=L1,ui.pullAllWith=k1,ui.pullAt=z1,ui.range=B2,ui.rangeRight=N2,ui.rearg=pb,ui.reject=tb,ui.remove=F1,ui.rest=vb,ui.reverse=Nh,ui.sampleSize=ib,ui.set=_g,ui.setWith=wg,ui.shuffle=nb,ui.slice=H1,ui.sortBy=ob,ui.sortedUniq=Y1,ui.sortedUniqBy=Q1,ui.split=o2,ui.spread=bb,ui.tail=Z1,ui.take=dv,ui.takeRight=lv,ui.takeRightWhile=pv,ui.takeWhile=vv,ui.tap=Av,ui.throttle=gb,ui.thru=Pu,ui.toArray=Nl,ui.toPairs=zl,ui.toPairsIn=Fl,ui.toPath=k2,ui.toPlainObject=Ul,ui.transform=Eg,ui.unary=yb,ui.union=bv,ui.unionBy=gv,ui.unionWith=yv,ui.uniq=mv,ui.uniqBy=_v,ui.uniqWith=wv,ui.unset=xg,ui.unzip=Th,ui.unzipWith=wl,ui.update=Sg,ui.updateWith=$g,ui.values=yf,ui.valuesIn=Rg,ui.without=Ev,ui.words=Vl,ui.wrap=mb,ui.xor=xv,ui.xorBy=Sv,ui.xorWith=$v,ui.zip=Rv,ui.zipObject=Dv,ui.zipObjectDeep=Iv,ui.zipWith=qv,ui.entries=zl,ui.entriesIn=Fl,ui.extend=jl,ui.extendWith=ju,Wh(ui,ui),ui.add=F2,ui.attempt=Wl,ui.camelCase=Pg,ui.capitalize=Hl,ui.ceil=H2,ui.clamp=Dg,ui.clone=wb,ui.cloneDeep=xb,ui.cloneDeepWith=Sb,ui.cloneWith=Eb,ui.conformsTo=$b,ui.deburr=Kl,ui.defaultTo=E2,ui.divide=K2,ui.endsWith=Cg,ui.eq=Yo,ui.escape=Og,ui.escapeRegExp=Ng,ui.every=Lv,ui.find=zv,ui.findIndex=bl,ui.findKey=tg,ui.findLast=Fv,ui.findLastIndex=gl,ui.findLastKey=rg,ui.floor=V2,ui.forEach=xl,ui.forEachRight=Sl,ui.forIn=ig,ui.forInRight=ng,ui.forOwn=sg,ui.forOwnRight=ag,ui.get=zh,ui.gt=Rb,ui.gte=Db,ui.has=fg,ui.hasIn=Fh,ui.head=ml,ui.identity=Ao,ui.includes=Gv,ui.indexOf=M1,ui.inRange=Ig,ui.invoke=dg,ui.isArguments=Zc,ui.isArray=ua,ui.isArrayBuffer=Ib,ui.isArrayLike=Io,ui.isArrayLikeObject=co,ui.isBoolean=qb,ui.isBuffer=qc,ui.isDate=Ab,ui.isElement=Mb,ui.isEmpty=Pb,ui.isEqual=Cb,ui.isEqualWith=Ob,ui.isError=Lh,ui.isFinite=Bb,ui.isFunction=vc,ui.isInteger=Pl,ui.isLength=Tu,ui.isMap=Cl,ui.isMatch=Nb,ui.isMatchWith=Tb,ui.isNaN=Ub,ui.isNative=jb,ui.isNil=kb,ui.isNull=Lb,ui.isNumber=Ol,ui.isObject=so,ui.isObjectLike=ao,ui.isPlainObject=Tf,ui.isRegExp=kh,ui.isSafeInteger=zb,ui.isSet=Bl,ui.isString=Uu,ui.isSymbol=No,ui.isTypedArray=gf,ui.isUndefined=Fb,ui.isWeakMap=Hb,ui.isWeakSet=Kb,ui.join=N1,ui.kebabCase=Tg,ui.last=Ko,ui.lastIndexOf=T1,ui.lowerCase=Lg,ui.lowerFirst=Wg,ui.lt=Vb,ui.lte=Wb,ui.max=W2,ui.maxBy=G2,ui.mean=J2,ui.meanBy=X2,ui.min=Y2,ui.minBy=Q2,ui.stubArray=Jh,ui.stubFalse=Xh,ui.stubObject=T2,ui.stubString=U2,ui.stubTrue=j2,ui.multiply=Z2,ui.nth=U1,ui.noConflict=q2,ui.noop=Gh,ui.now=Ou,ui.pad=e2,ui.padEnd=t2,ui.padStart=r2,ui.parseInt=i2,ui.random=Ag,ui.reduce=Zv,ui.reduceRight=eb,ui.repeat=n2,ui.replace=s2,ui.result=mg,ui.round=ey,ui.runInContext=_i,ui.sample=rb,ui.size=sb,ui.snakeCase=a2,ui.some=ab,ui.sortedIndex=K1,ui.sortedIndexBy=V1,ui.sortedIndexOf=W1,ui.sortedLastIndex=G1,ui.sortedLastIndexBy=J1,ui.sortedLastIndexOf=X1,ui.startCase=c2,ui.startsWith=f2,ui.subtract=ty,ui.sum=ry,ui.sumBy=iy,ui.template=u2,ui.times=L2,ui.toFinite=bc,ui.toInteger=ma,ui.toLength=Tl,ui.toLower=h2,ui.toNumber=Vo,ui.toSafeInteger=Gb,ui.toString=ka,ui.toUpper=d2,ui.trim=l2,ui.trimEnd=p2,ui.trimStart=v2,ui.truncate=b2,ui.unescape=g2,ui.uniqueId=z2,ui.upperCase=y2,ui.upperFirst=Hh,ui.each=xl,ui.eachRight=Sl,ui.first=ml,Wh(ui,function(){var ne={};return sc(ui,function(ye,br){Fa.call(ui.prototype,br)||(ne[br]=ye)}),ne}(),{chain:!1}),ui.VERSION=se,Lo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(ne){ui[ne].placeholder=ui}),Lo(["drop","take"],function(ne,ye){Pa.prototype[ne]=function(br){br=br===s?1:po(ma(br),0);var Kr=this.__filtered__&&!ye?new Pa(this):this.clone();return Kr.__filtered__?Kr.__takeCount__=mo(br,Kr.__takeCount__):Kr.__views__.push({size:mo(br,si),type:ne+(Kr.__dir__<0?"Right":"")}),Kr},Pa.prototype[ne+"Right"]=function(br){return this.reverse()[ne](br).reverse()}}),Lo(["filter","map","takeWhile"],function(ne,ye){var br=ye+1,Kr=br==Vr||br==ii;Pa.prototype[ne]=function(ni){var di=this.clone();return di.__iteratees__.push({iteratee:zn(ni,3),type:br}),di.__filtered__=di.__filtered__||Kr,di}}),Lo(["head","last"],function(ne,ye){var br="take"+(ye?"Right":"");Pa.prototype[ne]=function(){return this[br](1).value()[0]}}),Lo(["initial","tail"],function(ne,ye){var br="drop"+(ye?"":"Right");Pa.prototype[ne]=function(){return this.__filtered__?new Pa(this):this[br](1)}}),Pa.prototype.compact=function(){return this.filter(Ao)},Pa.prototype.find=function(ne){return this.filter(ne).head()},Pa.prototype.findLast=function(ne){return this.reverse().find(ne)},Pa.prototype.invokeMap=$a(function(ne,ye){return typeof ne=="function"?new Pa(this):this.map(function(br){return Mf(br,ne,ye)})}),Pa.prototype.reject=function(ne){return this.filter(Nu(zn(ne)))},Pa.prototype.slice=function(ne,ye){ne=ma(ne);var br=this;return br.__filtered__&&(ne>0||ye<0)?new Pa(br):(ne<0?br=br.takeRight(-ne):ne&&(br=br.drop(ne)),ye!==s&&(ye=ma(ye),br=ye<0?br.dropRight(-ye):br.take(ye-ne)),br)},Pa.prototype.takeRightWhile=function(ne){return this.reverse().takeWhile(ne).reverse()},Pa.prototype.toArray=function(){return this.take(si)},sc(Pa.prototype,function(ne,ye){var br=/^(?:filter|find|map|reject)|While$/.test(ye),Kr=/^(?:head|last)$/.test(ye),ni=ui[Kr?"take"+(ye=="last"?"Right":""):ye],di=Kr||/^find/.test(ye);ni&&(ui.prototype[ye]=function(){var bi=this.__wrapped__,yi=Kr?[1]:arguments,wi=bi instanceof Pa,Pi=yi[0],Ci=wi||ua(bi),Bi=function(qa){var Na=ni.apply(ui,Ec([qa],yi));return Kr&&Li?Na[0]:Na};Ci&&br&&typeof Pi=="function"&&Pi.length!=1&&(wi=Ci=!1);var Li=this.__chain__,In=!!this.__actions__.length,Zn=di&&!Li,_a=wi&&!In;if(!di&&Ci){bi=_a?bi:new Pa(this);var ea=ne.apply(bi,yi);return ea.__actions__.push({func:Pu,args:[Bi],thisArg:s}),new zo(ea,Li)}return Zn&&_a?ne.apply(this,yi):(ea=this.thru(Bi),Zn?Kr?ea.value()[0]:ea.value():ea)})}),Lo(["pop","push","shift","sort","splice","unshift"],function(ne){var ye=nu[ne],br=/^(?:push|sort|unshift)$/.test(ne)?"tap":"thru",Kr=/^(?:pop|shift)$/.test(ne);ui.prototype[ne]=function(){var ni=arguments;if(Kr&&!this.__chain__){var di=this.value();return ye.apply(ua(di)?di:[],ni)}return this[br](function(bi){return ye.apply(ua(bi)?bi:[],ni)})}}),sc(Pa.prototype,function(ne,ye){var br=ui[ye];if(br){var Kr=br.name+"";Fa.call(df,Kr)||(df[Kr]=[]),df[Kr].push({name:ye,func:br})}}),df[$u(s,Yr).name]=[{name:"wrapper",func:s}],Pa.prototype.clone=k0,Pa.prototype.reverse=z0,Pa.prototype.value=F0,ui.prototype.at=Mv,ui.prototype.chain=Pv,ui.prototype.commit=Cv,ui.prototype.next=Ov,ui.prototype.plant=Nv,ui.prototype.reverse=Tv,ui.prototype.toJSON=ui.prototype.valueOf=ui.prototype.value=Uv,ui.prototype.first=ui.prototype.head,Sf&&(ui.prototype[Sf]=Bv),ui},ff=_0();oo?((oo.exports=ff)._=ff,Ja._=ff):Ba._=ff}).call(ge)})(Ui,Ui.exports);var Gg=Object.defineProperty,zg=Object.defineProperties,Kg=Object.getOwnPropertyDescriptors,Ea=Object.getOwnPropertySymbols,Yg=Object.prototype.hasOwnProperty,Zg=Object.prototype.propertyIsEnumerable,ya=(Y,t,s)=>t in Y?Gg(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,cr=(Y,t)=>{for(var s in t||(t={}))Yg.call(t,s)&&ya(Y,s,t[s]);if(Ea)for(var s of Ea(t))Zg.call(t,s)&&ya(Y,s,t[s]);return Y},Jg=(Y,t)=>zg(Y,Kg(t));function ft(Y,t,s){var se;const fe=ve(Y);return((se=t.rpcMap)==null?void 0:se[fe.reference])||`${Bg}?chainId=${fe.namespace}:${fe.reference}&projectId=${s}`}function Ct(Y){return Y.includes(":")?Y.split(":")[1]:Y}function Sa(Y){return Y.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function Xg(Y,t){const s=Object.keys(t.namespaces).filter(fe=>fe.includes(Y));if(!s.length)return[];const se=[];return s.forEach(fe=>{const be=t.namespaces[fe].accounts;se.push(...be)}),se}function Oa(Y={},t={}){const s=Ra(Y),se=Ra(t);return Ui.exports.merge(s,se)}function Ra(Y){var t,s,se,fe;const be={};if(!B$1(Y))return be;for(const[xe,we]of Object.entries(Y)){const Se=oe$1(xe)?[xe]:we.chains,Ee=we.methods||[],me=we.events||[],Ie=we.rpcMap||{},fr=en(xe);be[fr]=Jg(cr(cr({},be[fr]),we),{chains:S$3(Se,(t=be[fr])==null?void 0:t.chains),methods:S$3(Ee,(s=be[fr])==null?void 0:s.methods),events:S$3(me,(se=be[fr])==null?void 0:se.events),rpcMap:cr(cr({},Ie),(fe=be[fr])==null?void 0:fe.rpcMap)})}return be}function Qg(Y){return Y.includes(":")?Y.split(":")[2]:Y}function Vg(Y){const t={};for(const[s,se]of Object.entries(Y)){const fe=se.methods||[],be=se.events||[],xe=se.accounts||[],we=oe$1(s)?[s]:se.chains?se.chains:Sa(se.accounts);t[s]={chains:we,methods:fe,events:be,accounts:xe}}return t}function Wi(Y){return typeof Y=="number"?Y:Y.includes("0x")?parseInt(Y,16):(Y=Y.includes(":")?Y.split(":")[1]:Y,isNaN(Number(Y))?Y:Number(Y))}const ba={},z=Y=>ba[Y],Fi=(Y,t)=>{ba[Y]=t};class kg{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,s){this.httpProviders[t]||this.setHttpProvider(t,s),this.chainId=t,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(s=>s.split(":")[1]===this.chainId.toString()).map(s=>s.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(s=>{var se;const fe=Ct(s);t[fe]=this.createHttpProvider(fe,(se=this.namespace.rpcMap)==null?void 0:se[s])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,s=this.httpProviders[t];if(typeof s>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return s}setHttpProvider(t,s){const se=this.createHttpProvider(t,s);se&&(this.httpProviders[t]=se)}createHttpProvider(t,s){const se=s||ft(t,this.namespace,this.client.core.projectId);if(!se)throw new Error(`No RPC url provided for chainId: ${t}`);return new JsonRpcProvider(new f$1(se,z("disableProviderPing")))}}class jg{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,s){this.httpProviders[t]||this.setHttpProvider(parseInt(t),s),this.chainId=parseInt(t),this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,s){const se=s||ft(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!se)throw new Error(`No RPC url provided for chainId: ${t}`);return new JsonRpcProvider(new f$1(se,z("disableProviderPing")))}setHttpProvider(t,s){const se=this.createHttpProvider(t,s);se&&(this.httpProviders[t]=se)}createHttpProviders(){const t={};return this.namespace.chains.forEach(s=>{var se;const fe=parseInt(Ct(s));t[fe]=this.createHttpProvider(fe,(se=this.namespace.rpcMap)==null?void 0:se[s])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(s=>s.split(":")[1]===this.chainId.toString()).map(s=>s.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,s=this.httpProviders[t];if(typeof s>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return s}async handleSwitchChain(t){var s,se;let fe=t.request.params?(s=t.request.params[0])==null?void 0:s.chainId:"0x0";fe=fe.startsWith("0x")?fe:`0x${fe}`;const be=parseInt(fe,16);if(this.isChainApproved(be))this.setDefaultChain(`${be}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:fe}]},chainId:(se=this.namespace.chains)==null?void 0:se[0]}),this.setDefaultChain(`${be}`);else throw new Error(`Failed to switch to chain 'eip155:${be}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}}class nv{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,s){this.httpProviders[t]||this.setHttpProvider(t,s),this.chainId=t,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(s=>s.split(":")[1]===this.chainId.toString()).map(s=>s.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(s=>{var se;const fe=Ct(s);t[fe]=this.createHttpProvider(fe,(se=this.namespace.rpcMap)==null?void 0:se[s])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,s=this.httpProviders[t];if(typeof s>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return s}setHttpProvider(t,s){const se=this.createHttpProvider(t,s);se&&(this.httpProviders[t]=se)}createHttpProvider(t,s){const se=s||ft(t,this.namespace,this.client.core.projectId);if(!se)throw new Error(`No RPC url provided for chainId: ${t}`);return new JsonRpcProvider(new f$1(se,z("disableProviderPing")))}}class tv{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,s){this.httpProviders[t]||this.setHttpProvider(t,s),this.chainId=t,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(s=>s.split(":")[1]===this.chainId.toString()).map(s=>s.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(s=>{var se;const fe=Ct(s);t[fe]=this.createHttpProvider(fe,(se=this.namespace.rpcMap)==null?void 0:se[s])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,s=this.httpProviders[t];if(typeof s>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return s}setHttpProvider(t,s){const se=this.createHttpProvider(t,s);se&&(this.httpProviders[t]=se)}createHttpProvider(t,s){const se=s||ft(t,this.namespace,this.client.core.projectId);if(!se)throw new Error(`No RPC url provided for chainId: ${t}`);return new JsonRpcProvider(new f$1(se,z("disableProviderPing")))}}class ev{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,s){this.httpProviders[t]||this.setHttpProvider(t,s),this.chainId=t,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(s=>s.split(":")[1]===this.chainId.toString()).map(s=>s.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(s=>{const se=this.getCardanoRPCUrl(s),fe=Ct(s);t[fe]=this.createHttpProvider(fe,se)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,s=this.httpProviders[t];if(typeof s>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return s}getCardanoRPCUrl(t){const s=this.namespace.rpcMap;if(s)return s[t]}setHttpProvider(t,s){const se=this.createHttpProvider(t,s);se&&(this.httpProviders[t]=se)}createHttpProvider(t,s){const se=s||this.getCardanoRPCUrl(t);if(!se)throw new Error(`No RPC url provided for chainId: ${t}`);return new JsonRpcProvider(new f$1(se,z("disableProviderPing")))}}class rv{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,s){this.httpProviders[t]||this.setHttpProvider(t,s),this.chainId=t,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(s=>s.split(":")[1]===this.chainId.toString()).map(s=>s.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(s=>{var se;const fe=Ct(s);t[fe]=this.createHttpProvider(fe,(se=this.namespace.rpcMap)==null?void 0:se[s])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,s=this.httpProviders[t];if(typeof s>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return s}setHttpProvider(t,s){const se=this.createHttpProvider(t,s);se&&(this.httpProviders[t]=se)}createHttpProvider(t,s){const se=s||ft(t,this.namespace,this.client.core.projectId);if(!se)throw new Error(`No RPC url provided for chainId: ${t}`);return new JsonRpcProvider(new f$1(se,z("disableProviderPing")))}}class iv{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,s){this.httpProviders[t]||this.setHttpProvider(t,s),this.chainId=t,this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(s=>s.split(":")[1]===this.chainId.toString()).map(s=>s.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(s=>{var se;const fe=Ct(s);t[fe]=this.createHttpProvider(fe,(se=this.namespace.rpcMap)==null?void 0:se[s])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,s=this.httpProviders[t];if(typeof s>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return s}setHttpProvider(t,s){const se=this.createHttpProvider(t,s);se&&(this.httpProviders[t]=se)}createHttpProvider(t,s){const se=s||ft(t,this.namespace,this.client.core.projectId);if(!se)throw new Error(`No RPC url provided for chainId: ${t}`);return new JsonRpcProvider(new f$1(se,z("disableProviderPing")))}}class sv{constructor(t){this.name="near",this.namespace=t.namespace,this.events=z("events"),this.client=z("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,s){if(this.chainId=t,!this.httpProviders[t]){const se=s||ft(`${this.name}:${t}`,this.namespace);if(!se)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,se)}this.events.emit(Vn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(s=>s.split(":")[1]===this.chainId.toString()).map(s=>s.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(s=>{var se;t[s]=this.createHttpProvider(s,(se=this.namespace.rpcMap)==null?void 0:se[s])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,s=this.httpProviders[t];if(typeof s>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return s}setHttpProvider(t,s){const se=this.createHttpProvider(t,s);se&&(this.httpProviders[t]=se)}createHttpProvider(t,s){const se=s||ft(t,this.namespace);return typeof se>"u"?void 0:new JsonRpcProvider(new f$1(se,z("disableProviderPing")))}}var uv=Object.defineProperty,av=Object.defineProperties,ov=Object.getOwnPropertyDescriptors,Ta=Object.getOwnPropertySymbols,fv=Object.prototype.hasOwnProperty,cv=Object.prototype.propertyIsEnumerable,La=(Y,t,s)=>t in Y?uv(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,hr=(Y,t)=>{for(var s in t||(t={}))fv.call(t,s)&&La(Y,s,t[s]);if(Ta)for(var s of Ta(t))cv.call(t,s)&&La(Y,s,t[s]);return Y},Mi=(Y,t)=>av(Y,ov(t));class lr{constructor(t){this.events=new Ug,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Hg(k({level:(t==null?void 0:t.logger)||Ia})),this.disableProviderPing=(t==null?void 0:t.disableProviderPing)||!1}static async init(t){const s=new lr(t);return await s.initialize(),s}async request(t,s,se){const[fe,be]=this.validateChain(s);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(fe).request({request:hr({},t),chainId:`${fe}:${be}`,topic:this.session.topic,expiry:se})}sendAsync(t,s,se,fe){const be=new Date().getTime();this.request(t,se,fe).then(xe=>s(null,formatJsonRpcResult(be,xe))).catch(xe=>s(xe,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:U$2("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}on(t,s){this.events.on(t,s)}once(t,s){this.events.once(t,s)}removeListener(t,s){this.events.removeListener(t,s)}off(t,s){this.events.off(t,s)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let s=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(s>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:se,approval:fe}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});se&&(this.uri=se,this.events.emit("display_uri",se)),await fe().then(be=>{this.session=be;const xe=Vg(be.namespaces);this.namespaces=Oa(this.namespaces,xe),this.persist("namespaces",this.namespaces)}).catch(be=>{if(be.message!==ae)throw be;s++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,s){try{if(!this.session)return;const[se,fe]=this.validateChain(t);this.getProvider(se).setDefaultChain(fe,s)}catch(se){if(!/Please call connect/.test(se.message))throw se}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const s=this.client.pairing.getAll();if(k$2(s)){for(const se of s)t.deletePairings?this.client.core.expirer.set(se.topic,0):await this.client.core.relayer.subscriber.unsubscribe(se.topic);this.logger.info(`Inactive pairings cleared: ${s.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await Q$1.init({logger:this.providerOpts.logger||Ia,relayUrl:this.providerOpts.relayUrl||Fg,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(s=>en(s)))];Fi("client",this.client),Fi("events",this.events),Fi("disableProviderPing",this.disableProviderPing),t.forEach(s=>{if(!this.session)return;const se=Xg(s,this.session),fe=Sa(se),be=Oa(this.namespaces,this.optionalNamespaces),xe=Mi(hr({},be[s]),{accounts:se,chains:fe});switch(s){case"eip155":this.rpcProviders[s]=new jg({namespace:xe});break;case"solana":this.rpcProviders[s]=new nv({namespace:xe});break;case"cosmos":this.rpcProviders[s]=new tv({namespace:xe});break;case"polkadot":this.rpcProviders[s]=new kg({namespace:xe});break;case"cip34":this.rpcProviders[s]=new ev({namespace:xe});break;case"elrond":this.rpcProviders[s]=new rv({namespace:xe});break;case"multiversx":this.rpcProviders[s]=new iv({namespace:xe});break;case"near":this.rpcProviders[s]=new sv({namespace:xe});break}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:s}=t,{event:se}=s;if(se.name==="accountsChanged"){const fe=se.data;fe&&k$2(fe)&&this.events.emit("accountsChanged",fe.map(Qg))}else if(se.name==="chainChanged"){const fe=s.chainId,be=s.event.data,xe=en(fe),we=Wi(fe)!==Wi(be)?`${xe}:${Wi(be)}`:fe;this.onChainChanged(we)}else this.events.emit(se.name,se.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:s})=>{var se;const{namespaces:fe}=s,be=(se=this.client)==null?void 0:se.session.get(t);this.session=Mi(hr({},be),{namespaces:fe}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:s})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",Mi(hr({},U$2("USER_DISCONNECTED")),{data:t.topic}))}),this.on(Vn.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){if(!this.rpcProviders[t])throw new Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var s;this.getProvider(t).updateNamespace((s=this.session)==null?void 0:s.namespaces[t])})}setNamespaces(t){const{namespaces:s,optionalNamespaces:se,sessionProperties:fe}=t;s&&Object.keys(s).length&&(this.namespaces=s),se&&Object.keys(se).length&&(this.optionalNamespaces=se),this.sessionProperties=fe,this.persist("namespaces",s),this.persist("optionalNamespaces",se)}validateChain(t){const[s,se]=(t==null?void 0:t.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[s,se];if(s&&!Object.keys(this.namespaces||{}).map(xe=>en(xe)).includes(s))throw new Error(`Namespace '${s}' is not configured. Please call connect() first with namespace config.`);if(s&&se)return[s,se];const fe=en(Object.keys(this.namespaces)[0]),be=this.rpcProviders[fe].getDefaultChain();return[fe,be]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,s=!1){if(!this.namespaces)return;const[se,fe]=this.validateChain(t);fe&&(s||this.getProvider(se).setDefaultChain(fe),this.namespaces[se]?this.namespaces[se].defaultChain=fe:this.namespaces[`${se}:${fe}`]?this.namespaces[`${se}:${fe}`].defaultChain=fe:this.namespaces[`${se}:${fe}`]={defaultChain:fe},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",fe))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,s){this.client.core.storage.setItem(`${xa}/${t}`,s)}async getFromStore(t){return await this.client.core.storage.getItem(`${xa}/${t}`)}}const hv=lr,P="wc",S="ethereum_provider",$=`${P}@2:${S}:`,j="https://rpc.walletconnect.com/v1/",u=["eth_sendTransaction","personal_sign"],E=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],m=["chainChanged","accountsChanged"],_=["chainChanged","accountsChanged","message","disconnect","connect"];var N=Object.defineProperty,q=Object.defineProperties,D=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,O=(Y,t,s)=>t in Y?N(Y,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):Y[t]=s,p=(Y,t)=>{for(var s in t||(t={}))U.call(t,s)&&O(Y,s,t[s]);if(y)for(var s of y(t))Q.call(t,s)&&O(Y,s,t[s]);return Y},M=(Y,t)=>q(Y,D(t));function g(Y){return Number(Y[0].split(":")[1])}function f(Y){return`0x${Y.toString(16)}`}function L(Y){const{chains:t,optionalChains:s,methods:se,optionalMethods:fe,events:be,optionalEvents:xe,rpcMap:we}=Y;if(!k$2(t))throw new Error("Invalid chains");const Se={chains:t,methods:se||u,events:be||m,rpcMap:p({},t.length?{[g(t)]:we[g(t)]}:{})},Ee=be==null?void 0:be.filter(Oe=>!m.includes(Oe)),me=se==null?void 0:se.filter(Oe=>!u.includes(Oe));if(!s&&!xe&&!fe&&!(Ee!=null&&Ee.length)&&!(me!=null&&me.length))return{required:t.length?Se:void 0};const Ie=(Ee==null?void 0:Ee.length)&&(me==null?void 0:me.length)||!s,fr={chains:[...new Set(Ie?Se.chains.concat(s||[]):s)],methods:[...new Set(Se.methods.concat(fe!=null&&fe.length?fe:E))],events:[...new Set(Se.events.concat(xe!=null&&xe.length?xe:_))],rpcMap:we};return{required:t.length?Se:void 0,optional:s.length?fr:void 0}}class v{constructor(){this.events=new eventsExports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=$,this.on=(t,s)=>(this.events.on(t,s),this),this.once=(t,s)=>(this.events.once(t,s),this),this.removeListener=(t,s)=>(this.events.removeListener(t,s),this),this.off=(t,s)=>(this.events.off(t,s),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const s=new v;return await s.initialize(t),s}async request(t,s){return await this.signer.request(t,this.formatChainId(this.chainId),s)}sendAsync(t,s,se){this.signer.sendAsync(t,s,this.formatChainId(this.chainId),se)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:s,optional:se}=L(this.rpc);try{const fe=await new Promise(async(xe,we)=>{var Se;this.rpc.showQrModal&&((Se=this.modal)==null||Se.subscribeModal(Ee=>{!Ee.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),we(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(M(p({namespaces:p({},s&&{[this.namespace]:s})},se&&{optionalNamespaces:{[this.namespace]:se}}),{pairingTopic:t==null?void 0:t.pairingTopic})).then(Ee=>{xe(Ee)}).catch(Ee=>{we(new Error(Ee.message))})});if(!fe)return;const be=Un(fe.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:be),this.setAccounts(be),this.events.emit("connect",{chainId:f(this.chainId)})}catch(fe){throw this.signer.logger.error(fe),fe}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:s}=t,{event:se}=s;se.name==="accountsChanged"?(this.accounts=this.parseAccounts(se.data),this.events.emit("accountsChanged",this.accounts)):se.name==="chainChanged"?this.setChainId(this.formatChainId(se.data)):this.events.emit(se.name,se.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{const s=parseInt(t);this.chainId=s,this.events.emit("chainChanged",f(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",M(p({},U$2("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var s,se;this.rpc.showQrModal&&((s=this.modal)==null||s.closeModal(),(se=this.modal)==null||se.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const s=t.filter(se=>this.isCompatibleChainId(se)).map(se=>this.parseChainId(se));s.length&&(this.chainId=s[0],this.events.emit("chainChanged",f(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const s=this.parseChainId(t);this.chainId=s,this.switchEthereumChain(s)}}parseAccountId(t){const[s,se,fe]=t.split(":");return{chainId:`${s}:${se}`,address:fe}}setAccounts(t){this.accounts=t.filter(s=>this.parseChainId(this.parseAccountId(s).chainId)===this.chainId).map(s=>this.parseAccountId(s).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var s,se;const fe=(s=t==null?void 0:t.chains)!=null?s:[],be=(se=t==null?void 0:t.optionalChains)!=null?se:[],xe=fe.concat(be);if(!xe.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const we=fe.length?(t==null?void 0:t.methods)||u:[],Se=fe.length?(t==null?void 0:t.events)||m:[],Ee=(t==null?void 0:t.optionalMethods)||[],me=(t==null?void 0:t.optionalEvents)||[],Ie=(t==null?void 0:t.rpcMap)||this.buildRpcMap(xe,t.projectId),fr=(t==null?void 0:t.qrModalOptions)||void 0;return{chains:fe==null?void 0:fe.map(Oe=>this.formatChainId(Oe)),optionalChains:be.map(Oe=>this.formatChainId(Oe)),methods:we,events:Se,optionalMethods:Ee,optionalEvents:me,rpcMap:Ie,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:fr,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,s){const se={};return t.forEach(fe=>{se[fe]=this.getRpcUrl(fe,s)}),se}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?g(this.rpc.chains):g(this.rpc.optionalChains),this.signer=await hv.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let s;try{const{WalletConnectModal:se}=await __vitePreload(()=>import("./index-bkoQ8Tiq.js").then(fe=>fe.i),__vite__mapDeps([0,1,2]));s=se}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(s)try{this.modal=new s(p({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(se){throw this.signer.logger.error(se),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:s,optionalChains:se,rpcMap:fe}=t;s&&k$2(s)&&(this.rpc.chains=s.map(be=>this.formatChainId(be)),s.forEach(be=>{this.rpc.rpcMap[be]=(fe==null?void 0:fe[be])||this.getRpcUrl(be)})),se&&k$2(se)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=se==null?void 0:se.map(be=>this.formatChainId(be)),se.forEach(be=>{this.rpc.rpcMap[be]=(fe==null?void 0:fe[be])||this.getRpcUrl(be)}))}getRpcUrl(t,s){var se;return((se=this.rpc.rpcMap)==null?void 0:se[t])||`${j}?chainId=eip155:${t}&projectId=${s||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),s=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:s==null?void 0:s.accounts),this.setAccounts(s==null?void 0:s.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(s=>this.parseAccount(s))}}const G=v;export{G as EthereumProvider,_ as OPTIONAL_EVENTS,E as OPTIONAL_METHODS,m as REQUIRED_EVENTS,u as REQUIRED_METHODS,v as default};
